<!DOCTYPE HTML>
<html lang="zh-TW" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>第3章 三大核心問題：分工、同步、互斥 - 高並發編程通用概念（跨 Java/C++/Rust/Go）</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/ascii-diagram.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">高並發編程通用概念（跨 Java/C++/Rust/Go）</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="第3章-三大核心問題分工同步互斥"><a class="header" href="#第3章-三大核心問題分工同步互斥">第3章 三大核心問題：分工、同步、互斥</a></h1>
<h2 id="31-分工對應-311312"><a class="header" href="#31-分工對應-311312">3.1 分工（對應 3.1.1~3.1.2）</a></h2>
<!-- subsection-diagram -->
<h3 id="本小節示意圖"><a class="header" href="#本小節示意圖">本小節示意圖</a></h3>
<div class="ascii-svg-wrap">
<svg class="ascii-svg" xmlns="http://www.w3.org/2000/svg" width="848" height="804" viewBox="0 0 848 804" role="img" aria-label="ASCII diagram">
<g fill="currentColor" font-family="Noto Sans Mono CJK TC, Noto Sans Mono CJK SC, Noto Sans Mono CJK JP, Sarasa Mono TC, Cascadia Mono, JetBrains Mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace" font-size="16" text-rendering="geometricPrecision" xml:space="preserve">
<text x="14" y="14">任</text>
<text x="34" y="14">務</text>
<text x="54" y="14">切</text>
<text x="74" y="14">分</text>
<text x="94" y="14">流</text>
<text x="114" y="14">水</text>
<text x="134" y="14">線</text>
<text x="154" y="14">（</text>
<text x="174" y="14">P</text>
<text x="184" y="14">i</text>
<text x="194" y="14">p</text>
<text x="204" y="14">e</text>
<text x="214" y="14">l</text>
<text x="224" y="14">i</text>
<text x="234" y="14">n</text>
<text x="244" y="14">e</text>
<text x="264" y="14">分</text>
<text x="284" y="14">工</text>
<text x="304" y="14">）</text>
<text x="324" y="14">：</text>
<text x="34" y="54">原</text>
<text x="54" y="54">始</text>
<text x="74" y="54">任</text>
<text x="94" y="54">務</text>
<text x="114" y="54">（</text>
<text x="134" y="54">序</text>
<text x="154" y="54">列</text>
<text x="174" y="54">）</text>
<text x="194" y="54">：</text>
<text x="34" y="74">┌</text>
<text x="44" y="74">─</text>
<text x="54" y="74">─</text>
<text x="64" y="74">─</text>
<text x="74" y="74">─</text>
<text x="84" y="74">─</text>
<text x="94" y="74">─</text>
<text x="104" y="74">─</text>
<text x="114" y="74">─</text>
<text x="124" y="74">─</text>
<text x="134" y="74">─</text>
<text x="144" y="74">─</text>
<text x="154" y="74">─</text>
<text x="164" y="74">─</text>
<text x="174" y="74">─</text>
<text x="184" y="74">─</text>
<text x="194" y="74">─</text>
<text x="204" y="74">─</text>
<text x="214" y="74">─</text>
<text x="224" y="74">─</text>
<text x="234" y="74">─</text>
<text x="244" y="74">─</text>
<text x="254" y="74">─</text>
<text x="264" y="74">─</text>
<text x="274" y="74">─</text>
<text x="284" y="74">─</text>
<text x="294" y="74">─</text>
<text x="304" y="74">─</text>
<text x="314" y="74">─</text>
<text x="324" y="74">─</text>
<text x="334" y="74">─</text>
<text x="344" y="74">─</text>
<text x="354" y="74">─</text>
<text x="364" y="74">─</text>
<text x="374" y="74">─</text>
<text x="384" y="74">─</text>
<text x="394" y="74">─</text>
<text x="404" y="74">─</text>
<text x="414" y="74">─</text>
<text x="424" y="74">─</text>
<text x="434" y="74">─</text>
<text x="444" y="74">─</text>
<text x="454" y="74">─</text>
<text x="464" y="74">─</text>
<text x="474" y="74">─</text>
<text x="484" y="74">─</text>
<text x="494" y="74">─</text>
<text x="504" y="74">─</text>
<text x="514" y="74">─</text>
<text x="524" y="74">─</text>
<text x="534" y="74">─</text>
<text x="544" y="74">─</text>
<text x="554" y="74">─</text>
<text x="564" y="74">─</text>
<text x="574" y="74">─</text>
<text x="584" y="74">─</text>
<text x="594" y="74">─</text>
<text x="604" y="74">─</text>
<text x="614" y="74">─</text>
<text x="624" y="74">─</text>
<text x="634" y="74">─</text>
<text x="644" y="74">─</text>
<text x="654" y="74">─</text>
<text x="664" y="74">─</text>
<text x="674" y="74">─</text>
<text x="684" y="74">─</text>
<text x="694" y="74">─</text>
<text x="704" y="74">─</text>
<text x="714" y="74">─</text>
<text x="724" y="74">─</text>
<text x="734" y="74">─</text>
<text x="744" y="74">─</text>
<text x="754" y="74">─</text>
<text x="764" y="74">─</text>
<text x="774" y="74">─</text>
<text x="784" y="74">─</text>
<text x="794" y="74">─</text>
<text x="804" y="74">─</text>
<text x="814" y="74">─</text>
<text x="824" y="74">┐</text>
<text x="34" y="94">│</text>
<text x="64" y="94">I</text>
<text x="74" y="94">n</text>
<text x="84" y="94">p</text>
<text x="94" y="94">u</text>
<text x="104" y="94">t</text>
<text x="124" y="94">─</text>
<text x="134" y="94">─</text>
<text x="144" y="94">►</text>
<text x="164" y="94">P</text>
<text x="174" y="94">a</text>
<text x="184" y="94">r</text>
<text x="194" y="94">s</text>
<text x="204" y="94">e</text>
<text x="224" y="94">─</text>
<text x="234" y="94">─</text>
<text x="244" y="94">►</text>
<text x="264" y="94">C</text>
<text x="274" y="94">o</text>
<text x="284" y="94">m</text>
<text x="294" y="94">p</text>
<text x="304" y="94">u</text>
<text x="314" y="94">t</text>
<text x="324" y="94">e</text>
<text x="344" y="94">─</text>
<text x="354" y="94">─</text>
<text x="364" y="94">►</text>
<text x="384" y="94">S</text>
<text x="394" y="94">t</text>
<text x="404" y="94">o</text>
<text x="414" y="94">r</text>
<text x="424" y="94">e</text>
<text x="454" y="94">（</text>
<text x="474" y="94">全</text>
<text x="494" y="94">部</text>
<text x="514" y="94">串</text>
<text x="534" y="94">行</text>
<text x="554" y="94">，</text>
<text x="574" y="94">吞</text>
<text x="594" y="94">吐</text>
<text x="614" y="94">量</text>
<text x="634" y="94">受</text>
<text x="654" y="94">限</text>
<text x="674" y="94">）</text>
<text x="824" y="94">│</text>
<text x="34" y="114">└</text>
<text x="44" y="114">─</text>
<text x="54" y="114">─</text>
<text x="64" y="114">─</text>
<text x="74" y="114">─</text>
<text x="84" y="114">─</text>
<text x="94" y="114">─</text>
<text x="104" y="114">─</text>
<text x="114" y="114">─</text>
<text x="124" y="114">─</text>
<text x="134" y="114">─</text>
<text x="144" y="114">─</text>
<text x="154" y="114">─</text>
<text x="164" y="114">─</text>
<text x="174" y="114">─</text>
<text x="184" y="114">─</text>
<text x="194" y="114">─</text>
<text x="204" y="114">─</text>
<text x="214" y="114">─</text>
<text x="224" y="114">─</text>
<text x="234" y="114">─</text>
<text x="244" y="114">─</text>
<text x="254" y="114">─</text>
<text x="264" y="114">─</text>
<text x="274" y="114">─</text>
<text x="284" y="114">─</text>
<text x="294" y="114">─</text>
<text x="304" y="114">─</text>
<text x="314" y="114">─</text>
<text x="324" y="114">─</text>
<text x="334" y="114">─</text>
<text x="344" y="114">─</text>
<text x="354" y="114">─</text>
<text x="364" y="114">─</text>
<text x="374" y="114">─</text>
<text x="384" y="114">─</text>
<text x="394" y="114">─</text>
<text x="404" y="114">─</text>
<text x="414" y="114">─</text>
<text x="424" y="114">─</text>
<text x="434" y="114">─</text>
<text x="444" y="114">─</text>
<text x="454" y="114">─</text>
<text x="464" y="114">─</text>
<text x="474" y="114">─</text>
<text x="484" y="114">─</text>
<text x="494" y="114">─</text>
<text x="504" y="114">─</text>
<text x="514" y="114">─</text>
<text x="524" y="114">─</text>
<text x="534" y="114">─</text>
<text x="544" y="114">─</text>
<text x="554" y="114">─</text>
<text x="564" y="114">─</text>
<text x="574" y="114">─</text>
<text x="584" y="114">─</text>
<text x="594" y="114">─</text>
<text x="604" y="114">─</text>
<text x="614" y="114">─</text>
<text x="624" y="114">─</text>
<text x="634" y="114">─</text>
<text x="644" y="114">─</text>
<text x="654" y="114">─</text>
<text x="664" y="114">─</text>
<text x="674" y="114">─</text>
<text x="684" y="114">─</text>
<text x="694" y="114">─</text>
<text x="704" y="114">─</text>
<text x="714" y="114">─</text>
<text x="724" y="114">─</text>
<text x="734" y="114">─</text>
<text x="744" y="114">─</text>
<text x="754" y="114">─</text>
<text x="764" y="114">─</text>
<text x="774" y="114">─</text>
<text x="784" y="114">─</text>
<text x="794" y="114">─</text>
<text x="804" y="114">─</text>
<text x="814" y="114">─</text>
<text x="824" y="114">┘</text>
<text x="34" y="154">分</text>
<text x="54" y="154">工</text>
<text x="74" y="154">並</text>
<text x="94" y="154">行</text>
<text x="114" y="154">化</text>
<text x="134" y="154">（</text>
<text x="154" y="154">三</text>
<text x="174" y="154">個</text>
<text x="194" y="154">執</text>
<text x="214" y="154">行</text>
<text x="234" y="154">緒</text>
<text x="254" y="154">分</text>
<text x="274" y="154">擔</text>
<text x="294" y="154">不</text>
<text x="314" y="154">同</text>
<text x="334" y="154">角</text>
<text x="354" y="154">色</text>
<text x="374" y="154">）</text>
<text x="394" y="154">：</text>
<text x="34" y="194">資</text>
<text x="54" y="194">料</text>
<text x="74" y="194">流</text>
<text x="94" y="194">向</text>
<text x="114" y="194">：</text>
<text x="34" y="234">┌</text>
<text x="44" y="234">─</text>
<text x="54" y="234">─</text>
<text x="64" y="234">─</text>
<text x="74" y="234">─</text>
<text x="84" y="234">─</text>
<text x="94" y="234">─</text>
<text x="104" y="234">─</text>
<text x="114" y="234">─</text>
<text x="124" y="234">─</text>
<text x="134" y="234">─</text>
<text x="144" y="234">─</text>
<text x="154" y="234">─</text>
<text x="164" y="234">─</text>
<text x="174" y="234">┐</text>
<text x="234" y="234">Q</text>
<text x="244" y="234">u</text>
<text x="254" y="234">e</text>
<text x="264" y="234">u</text>
<text x="274" y="234">e</text>
<text x="284" y="234">1</text>
<text x="354" y="234">┌</text>
<text x="364" y="234">─</text>
<text x="374" y="234">─</text>
<text x="384" y="234">─</text>
<text x="394" y="234">─</text>
<text x="404" y="234">─</text>
<text x="414" y="234">─</text>
<text x="424" y="234">─</text>
<text x="434" y="234">─</text>
<text x="444" y="234">─</text>
<text x="454" y="234">─</text>
<text x="464" y="234">─</text>
<text x="474" y="234">─</text>
<text x="484" y="234">─</text>
<text x="494" y="234">─</text>
<text x="504" y="234">┐</text>
<text x="564" y="234">Q</text>
<text x="574" y="234">u</text>
<text x="584" y="234">e</text>
<text x="594" y="234">u</text>
<text x="604" y="234">e</text>
<text x="614" y="234">2</text>
<text x="674" y="234">┌</text>
<text x="684" y="234">─</text>
<text x="694" y="234">─</text>
<text x="704" y="234">─</text>
<text x="714" y="234">─</text>
<text x="724" y="234">─</text>
<text x="734" y="234">─</text>
<text x="744" y="234">─</text>
<text x="754" y="234">─</text>
<text x="764" y="234">─</text>
<text x="774" y="234">─</text>
<text x="784" y="234">─</text>
<text x="794" y="234">─</text>
<text x="804" y="234">─</text>
<text x="814" y="234">─</text>
<text x="824" y="234">┐</text>
<text x="34" y="254">│</text>
<text x="74" y="254">I</text>
<text x="84" y="254">n</text>
<text x="94" y="254">p</text>
<text x="104" y="254">u</text>
<text x="114" y="254">t</text>
<text x="174" y="254">│</text>
<text x="194" y="254">─</text>
<text x="204" y="254">─</text>
<text x="214" y="254">─</text>
<text x="224" y="254">─</text>
<text x="234" y="254">─</text>
<text x="244" y="254">─</text>
<text x="254" y="254">─</text>
<text x="264" y="254">─</text>
<text x="274" y="254">─</text>
<text x="284" y="254">─</text>
<text x="294" y="254">─</text>
<text x="304" y="254">─</text>
<text x="314" y="254">─</text>
<text x="324" y="254">►</text>
<text x="344" y="254">│</text>
<text x="384" y="254">P</text>
<text x="394" y="254">a</text>
<text x="404" y="254">r</text>
<text x="414" y="254">s</text>
<text x="424" y="254">e</text>
<text x="494" y="254">│</text>
<text x="514" y="254">─</text>
<text x="524" y="254">─</text>
<text x="534" y="254">─</text>
<text x="544" y="254">─</text>
<text x="554" y="254">─</text>
<text x="564" y="254">─</text>
<text x="574" y="254">─</text>
<text x="584" y="254">─</text>
<text x="594" y="254">─</text>
<text x="604" y="254">─</text>
<text x="614" y="254">─</text>
<text x="624" y="254">─</text>
<text x="634" y="254">─</text>
<text x="644" y="254">►</text>
<text x="664" y="254">│</text>
<text x="704" y="254">C</text>
<text x="714" y="254">o</text>
<text x="724" y="254">m</text>
<text x="734" y="254">p</text>
<text x="744" y="254">u</text>
<text x="754" y="254">t</text>
<text x="764" y="254">e</text>
<text x="824" y="254">│</text>
<text x="34" y="274">│</text>
<text x="64" y="274">(</text>
<text x="74" y="274">讀</text>
<text x="94" y="274">取</text>
<text x="114" y="274">資</text>
<text x="134" y="274">料</text>
<text x="154" y="274">)</text>
<text x="184" y="274">│</text>
<text x="354" y="274">│</text>
<text x="384" y="274">T</text>
<text x="394" y="274">h</text>
<text x="404" y="274">r</text>
<text x="414" y="274">e</text>
<text x="424" y="274">a</text>
<text x="434" y="274">d</text>
<text x="454" y="274">T</text>
<text x="464" y="274">1</text>
<text x="504" y="274">│</text>
<text x="674" y="274">│</text>
<text x="704" y="274">T</text>
<text x="714" y="274">h</text>
<text x="724" y="274">r</text>
<text x="734" y="274">e</text>
<text x="744" y="274">a</text>
<text x="754" y="274">d</text>
<text x="774" y="274">T</text>
<text x="784" y="274">2</text>
<text x="824" y="274">│</text>
<text x="34" y="294">└</text>
<text x="44" y="294">─</text>
<text x="54" y="294">─</text>
<text x="64" y="294">─</text>
<text x="74" y="294">─</text>
<text x="84" y="294">─</text>
<text x="94" y="294">─</text>
<text x="104" y="294">─</text>
<text x="114" y="294">─</text>
<text x="124" y="294">─</text>
<text x="134" y="294">─</text>
<text x="144" y="294">─</text>
<text x="154" y="294">─</text>
<text x="164" y="294">─</text>
<text x="174" y="294">┘</text>
<text x="344" y="294">└</text>
<text x="354" y="294">─</text>
<text x="364" y="294">─</text>
<text x="374" y="294">─</text>
<text x="384" y="294">─</text>
<text x="394" y="294">─</text>
<text x="404" y="294">─</text>
<text x="414" y="294">─</text>
<text x="424" y="294">─</text>
<text x="434" y="294">─</text>
<text x="444" y="294">─</text>
<text x="454" y="294">─</text>
<text x="464" y="294">─</text>
<text x="474" y="294">─</text>
<text x="484" y="294">─</text>
<text x="494" y="294">┘</text>
<text x="664" y="294">└</text>
<text x="674" y="294">─</text>
<text x="684" y="294">─</text>
<text x="694" y="294">─</text>
<text x="704" y="294">─</text>
<text x="714" y="294">─</text>
<text x="724" y="294">─</text>
<text x="734" y="294">┬</text>
<text x="744" y="294">─</text>
<text x="754" y="294">─</text>
<text x="764" y="294">─</text>
<text x="774" y="294">─</text>
<text x="784" y="294">─</text>
<text x="794" y="294">─</text>
<text x="804" y="294">─</text>
<text x="814" y="294">─</text>
<text x="824" y="294">┘</text>
<text x="744" y="314">│</text>
<text x="774" y="314">Q</text>
<text x="784" y="314">u</text>
<text x="794" y="314">e</text>
<text x="804" y="314">u</text>
<text x="814" y="314">e</text>
<text x="824" y="314">3</text>
<text x="744" y="334">▼</text>
<text x="654" y="354">┌</text>
<text x="664" y="354">─</text>
<text x="674" y="354">─</text>
<text x="684" y="354">─</text>
<text x="694" y="354">─</text>
<text x="704" y="354">─</text>
<text x="714" y="354">─</text>
<text x="724" y="354">─</text>
<text x="734" y="354">─</text>
<text x="744" y="354">─</text>
<text x="754" y="354">─</text>
<text x="764" y="354">─</text>
<text x="774" y="354">─</text>
<text x="784" y="354">─</text>
<text x="794" y="354">─</text>
<text x="804" y="354">─</text>
<text x="814" y="354">─</text>
<text x="824" y="354">┐</text>
<text x="654" y="374">│</text>
<text x="694" y="374">S</text>
<text x="704" y="374">t</text>
<text x="714" y="374">o</text>
<text x="724" y="374">r</text>
<text x="734" y="374">e</text>
<text x="824" y="374">│</text>
<text x="654" y="394">│</text>
<text x="684" y="394">T</text>
<text x="694" y="394">h</text>
<text x="704" y="394">r</text>
<text x="714" y="394">e</text>
<text x="724" y="394">a</text>
<text x="734" y="394">d</text>
<text x="754" y="394">T</text>
<text x="764" y="394">3</text>
<text x="824" y="394">│</text>
<text x="654" y="414">└</text>
<text x="664" y="414">─</text>
<text x="674" y="414">─</text>
<text x="684" y="414">─</text>
<text x="694" y="414">─</text>
<text x="704" y="414">─</text>
<text x="714" y="414">─</text>
<text x="724" y="414">─</text>
<text x="734" y="414">─</text>
<text x="744" y="414">─</text>
<text x="754" y="414">─</text>
<text x="764" y="414">─</text>
<text x="774" y="414">─</text>
<text x="784" y="414">─</text>
<text x="794" y="414">─</text>
<text x="804" y="414">─</text>
<text x="814" y="414">─</text>
<text x="824" y="414">┘</text>
<text x="34" y="454">時</text>
<text x="54" y="454">間</text>
<text x="74" y="454">軸</text>
<text x="94" y="454">對</text>
<text x="114" y="454">比</text>
<text x="134" y="454">：</text>
<text x="34" y="494">串</text>
<text x="54" y="494">行</text>
<text x="74" y="494">（</text>
<text x="94" y="494">總</text>
<text x="114" y="494">時</text>
<text x="134" y="494">間</text>
<text x="164" y="494">=</text>
<text x="184" y="494">T</text>
<text x="194" y="494">_</text>
<text x="204" y="494">p</text>
<text x="214" y="494">a</text>
<text x="224" y="494">r</text>
<text x="234" y="494">s</text>
<text x="244" y="494">e</text>
<text x="264" y="494">+</text>
<text x="284" y="494">T</text>
<text x="294" y="494">_</text>
<text x="304" y="494">c</text>
<text x="314" y="494">o</text>
<text x="324" y="494">m</text>
<text x="334" y="494">p</text>
<text x="344" y="494">u</text>
<text x="354" y="494">t</text>
<text x="364" y="494">e</text>
<text x="384" y="494">+</text>
<text x="404" y="494">T</text>
<text x="414" y="494">_</text>
<text x="424" y="494">s</text>
<text x="434" y="494">t</text>
<text x="444" y="494">o</text>
<text x="454" y="494">r</text>
<text x="464" y="494">e</text>
<text x="474" y="494">）</text>
<text x="494" y="494">：</text>
<text x="34" y="514">┌</text>
<text x="44" y="514">─</text>
<text x="54" y="514">─</text>
<text x="64" y="514">─</text>
<text x="74" y="514">─</text>
<text x="84" y="514">─</text>
<text x="94" y="514">─</text>
<text x="104" y="514">─</text>
<text x="114" y="514">─</text>
<text x="124" y="514">┬</text>
<text x="134" y="514">─</text>
<text x="144" y="514">─</text>
<text x="154" y="514">─</text>
<text x="164" y="514">─</text>
<text x="174" y="514">─</text>
<text x="184" y="514">─</text>
<text x="194" y="514">─</text>
<text x="204" y="514">─</text>
<text x="214" y="514">─</text>
<text x="224" y="514">┬</text>
<text x="234" y="514">─</text>
<text x="244" y="514">─</text>
<text x="254" y="514">─</text>
<text x="264" y="514">─</text>
<text x="274" y="514">─</text>
<text x="284" y="514">─</text>
<text x="294" y="514">─</text>
<text x="304" y="514">─</text>
<text x="314" y="514">─</text>
<text x="324" y="514">─</text>
<text x="334" y="514">─</text>
<text x="344" y="514">─</text>
<text x="354" y="514">─</text>
<text x="364" y="514">─</text>
<text x="374" y="514">─</text>
<text x="384" y="514">─</text>
<text x="394" y="514">─</text>
<text x="404" y="514">─</text>
<text x="414" y="514">─</text>
<text x="424" y="514">─</text>
<text x="434" y="514">─</text>
<text x="444" y="514">─</text>
<text x="454" y="514">─</text>
<text x="464" y="514">─</text>
<text x="474" y="514">─</text>
<text x="484" y="514">─</text>
<text x="494" y="514">─</text>
<text x="504" y="514">─</text>
<text x="514" y="514">─</text>
<text x="524" y="514">─</text>
<text x="534" y="514">─</text>
<text x="544" y="514">─</text>
<text x="554" y="514">─</text>
<text x="564" y="514">─</text>
<text x="574" y="514">─</text>
<text x="584" y="514">─</text>
<text x="594" y="514">─</text>
<text x="604" y="514">─</text>
<text x="614" y="514">─</text>
<text x="624" y="514">─</text>
<text x="634" y="514">─</text>
<text x="644" y="514">─</text>
<text x="654" y="514">─</text>
<text x="664" y="514">─</text>
<text x="674" y="514">─</text>
<text x="684" y="514">─</text>
<text x="694" y="514">─</text>
<text x="704" y="514">─</text>
<text x="714" y="514">─</text>
<text x="724" y="514">─</text>
<text x="734" y="514">─</text>
<text x="744" y="514">─</text>
<text x="754" y="514">─</text>
<text x="764" y="514">─</text>
<text x="774" y="514">─</text>
<text x="784" y="514">─</text>
<text x="794" y="514">─</text>
<text x="804" y="514">─</text>
<text x="814" y="514">─</text>
<text x="824" y="514">┐</text>
<text x="34" y="534">│</text>
<text x="54" y="534">P</text>
<text x="64" y="534">a</text>
<text x="74" y="534">r</text>
<text x="84" y="534">s</text>
<text x="94" y="534">e</text>
<text x="124" y="534">│</text>
<text x="144" y="534">C</text>
<text x="154" y="534">o</text>
<text x="164" y="534">m</text>
<text x="174" y="534">p</text>
<text x="184" y="534">u</text>
<text x="194" y="534">t</text>
<text x="204" y="534">e</text>
<text x="224" y="534">│</text>
<text x="244" y="534">S</text>
<text x="254" y="534">t</text>
<text x="264" y="534">o</text>
<text x="274" y="534">r</text>
<text x="284" y="534">e</text>
<text x="824" y="534">│</text>
<text x="34" y="554">└</text>
<text x="44" y="554">─</text>
<text x="54" y="554">─</text>
<text x="64" y="554">─</text>
<text x="74" y="554">─</text>
<text x="84" y="554">─</text>
<text x="94" y="554">─</text>
<text x="104" y="554">─</text>
<text x="114" y="554">─</text>
<text x="124" y="554">┴</text>
<text x="134" y="554">─</text>
<text x="144" y="554">─</text>
<text x="154" y="554">─</text>
<text x="164" y="554">─</text>
<text x="174" y="554">─</text>
<text x="184" y="554">─</text>
<text x="194" y="554">─</text>
<text x="204" y="554">─</text>
<text x="214" y="554">─</text>
<text x="224" y="554">┴</text>
<text x="234" y="554">─</text>
<text x="244" y="554">─</text>
<text x="254" y="554">─</text>
<text x="264" y="554">─</text>
<text x="274" y="554">─</text>
<text x="284" y="554">─</text>
<text x="294" y="554">─</text>
<text x="304" y="554">─</text>
<text x="314" y="554">─</text>
<text x="324" y="554">─</text>
<text x="334" y="554">─</text>
<text x="344" y="554">─</text>
<text x="354" y="554">─</text>
<text x="364" y="554">─</text>
<text x="374" y="554">─</text>
<text x="384" y="554">─</text>
<text x="394" y="554">─</text>
<text x="404" y="554">─</text>
<text x="414" y="554">─</text>
<text x="424" y="554">─</text>
<text x="434" y="554">─</text>
<text x="444" y="554">─</text>
<text x="454" y="554">─</text>
<text x="464" y="554">─</text>
<text x="474" y="554">─</text>
<text x="484" y="554">─</text>
<text x="494" y="554">─</text>
<text x="504" y="554">─</text>
<text x="514" y="554">─</text>
<text x="524" y="554">─</text>
<text x="534" y="554">─</text>
<text x="544" y="554">─</text>
<text x="554" y="554">─</text>
<text x="564" y="554">─</text>
<text x="574" y="554">─</text>
<text x="584" y="554">─</text>
<text x="594" y="554">─</text>
<text x="604" y="554">─</text>
<text x="614" y="554">─</text>
<text x="624" y="554">─</text>
<text x="634" y="554">─</text>
<text x="644" y="554">─</text>
<text x="654" y="554">─</text>
<text x="664" y="554">─</text>
<text x="674" y="554">─</text>
<text x="684" y="554">─</text>
<text x="694" y="554">─</text>
<text x="704" y="554">─</text>
<text x="714" y="554">─</text>
<text x="724" y="554">─</text>
<text x="734" y="554">─</text>
<text x="744" y="554">─</text>
<text x="754" y="554">─</text>
<text x="764" y="554">─</text>
<text x="774" y="554">─</text>
<text x="784" y="554">─</text>
<text x="794" y="554">─</text>
<text x="804" y="554">─</text>
<text x="814" y="554">─</text>
<text x="824" y="554">┘</text>
<text x="34" y="594">流</text>
<text x="54" y="594">水</text>
<text x="74" y="594">線</text>
<text x="94" y="594">並</text>
<text x="114" y="594">行</text>
<text x="134" y="594">（</text>
<text x="154" y="594">穩</text>
<text x="174" y="594">態</text>
<text x="194" y="594">吞</text>
<text x="214" y="594">吐</text>
<text x="234" y="594">量</text>
<text x="264" y="594">≈</text>
<text x="284" y="594">m</text>
<text x="294" y="594">a</text>
<text x="304" y="594">x</text>
<text x="314" y="594">(</text>
<text x="324" y="594">T</text>
<text x="334" y="594">_</text>
<text x="344" y="594">p</text>
<text x="354" y="594">a</text>
<text x="364" y="594">r</text>
<text x="374" y="594">s</text>
<text x="384" y="594">e</text>
<text x="394" y="594">,</text>
<text x="414" y="594">T</text>
<text x="424" y="594">_</text>
<text x="434" y="594">c</text>
<text x="444" y="594">o</text>
<text x="454" y="594">m</text>
<text x="464" y="594">p</text>
<text x="474" y="594">u</text>
<text x="484" y="594">t</text>
<text x="494" y="594">e</text>
<text x="504" y="594">,</text>
<text x="524" y="594">T</text>
<text x="534" y="594">_</text>
<text x="544" y="594">s</text>
<text x="554" y="594">t</text>
<text x="564" y="594">o</text>
<text x="574" y="594">r</text>
<text x="584" y="594">e</text>
<text x="594" y="594">)</text>
<text x="614" y="594">決</text>
<text x="634" y="594">定</text>
<text x="654" y="594">瓶</text>
<text x="674" y="594">頸</text>
<text x="694" y="594">）</text>
<text x="714" y="594">：</text>
<text x="34" y="614">T</text>
<text x="44" y="614">i</text>
<text x="54" y="614">m</text>
<text x="64" y="614">e</text>
<text x="74" y="614">:</text>
<text x="94" y="614">1</text>
<text x="124" y="614">2</text>
<text x="154" y="614">3</text>
<text x="184" y="614">4</text>
<text x="214" y="614">5</text>
<text x="244" y="614">6</text>
<text x="34" y="634">T</text>
<text x="44" y="634">1</text>
<text x="54" y="634">:</text>
<text x="84" y="634">[</text>
<text x="94" y="634">P</text>
<text x="104" y="634">1</text>
<text x="114" y="634">]</text>
<text x="124" y="634">[</text>
<text x="134" y="634">P</text>
<text x="144" y="634">2</text>
<text x="154" y="634">]</text>
<text x="164" y="634">[</text>
<text x="174" y="634">P</text>
<text x="184" y="634">3</text>
<text x="194" y="634">]</text>
<text x="204" y="634">[</text>
<text x="214" y="634">P</text>
<text x="224" y="634">4</text>
<text x="234" y="634">]</text>
<text x="244" y="634">[</text>
<text x="254" y="634">P</text>
<text x="264" y="634">5</text>
<text x="274" y="634">]</text>
<text x="284" y="634">[</text>
<text x="294" y="634">P</text>
<text x="304" y="634">6</text>
<text x="314" y="634">]</text>
<text x="344" y="634">←</text>
<text x="364" y="634">P</text>
<text x="374" y="634">a</text>
<text x="384" y="634">r</text>
<text x="394" y="634">s</text>
<text x="404" y="634">e</text>
<text x="34" y="654">T</text>
<text x="44" y="654">2</text>
<text x="54" y="654">:</text>
<text x="114" y="654">[</text>
<text x="124" y="654">C</text>
<text x="134" y="654">1</text>
<text x="144" y="654">]</text>
<text x="154" y="654">[</text>
<text x="164" y="654">C</text>
<text x="174" y="654">2</text>
<text x="184" y="654">]</text>
<text x="194" y="654">[</text>
<text x="204" y="654">C</text>
<text x="214" y="654">3</text>
<text x="224" y="654">]</text>
<text x="234" y="654">[</text>
<text x="244" y="654">C</text>
<text x="254" y="654">4</text>
<text x="264" y="654">]</text>
<text x="274" y="654">[</text>
<text x="284" y="654">C</text>
<text x="294" y="654">5</text>
<text x="304" y="654">]</text>
<text x="344" y="654">←</text>
<text x="364" y="654">C</text>
<text x="374" y="654">o</text>
<text x="384" y="654">m</text>
<text x="394" y="654">p</text>
<text x="404" y="654">u</text>
<text x="414" y="654">t</text>
<text x="424" y="654">e</text>
<text x="434" y="654">（</text>
<text x="454" y="654">等</text>
<text x="484" y="654">P</text>
<text x="494" y="654">1</text>
<text x="514" y="654">完</text>
<text x="534" y="654">）</text>
<text x="34" y="674">T</text>
<text x="44" y="674">3</text>
<text x="54" y="674">:</text>
<text x="144" y="674">[</text>
<text x="154" y="674">S</text>
<text x="164" y="674">1</text>
<text x="174" y="674">]</text>
<text x="184" y="674">[</text>
<text x="194" y="674">S</text>
<text x="204" y="674">2</text>
<text x="214" y="674">]</text>
<text x="224" y="674">[</text>
<text x="234" y="674">S</text>
<text x="244" y="674">3</text>
<text x="254" y="674">]</text>
<text x="264" y="674">[</text>
<text x="274" y="674">S</text>
<text x="284" y="674">4</text>
<text x="294" y="674">]</text>
<text x="344" y="674">←</text>
<text x="364" y="674">S</text>
<text x="374" y="674">t</text>
<text x="384" y="674">o</text>
<text x="394" y="674">r</text>
<text x="404" y="674">e</text>
<text x="414" y="674">（</text>
<text x="434" y="674">等</text>
<text x="464" y="674">C</text>
<text x="474" y="674">1</text>
<text x="494" y="674">完</text>
<text x="514" y="674">）</text>
<text x="154" y="694">▲</text>
<text x="124" y="714">穩</text>
<text x="144" y="714">態</text>
<text x="164" y="714">後</text>
<text x="184" y="714">三</text>
<text x="204" y="714">個</text>
<text x="224" y="714">階</text>
<text x="244" y="714">段</text>
<text x="264" y="714">同</text>
<text x="284" y="714">時</text>
<text x="304" y="714">跑</text>
<text x="324" y="714">，</text>
<text x="344" y="714">吞</text>
<text x="364" y="714">吐</text>
<text x="384" y="714">量</text>
<text x="414" y="714">≈</text>
<text x="434" y="714">串</text>
<text x="454" y="714">行</text>
<text x="474" y="714">的</text>
<text x="504" y="714">3</text>
<text x="524" y="714">倍</text>
<text x="34" y="754">⚠</text>
<text x="54" y="754">注</text>
<text x="74" y="754">意</text>
<text x="94" y="754">：</text>
<text x="114" y="754">S</text>
<text x="124" y="754">t</text>
<text x="134" y="754">a</text>
<text x="144" y="754">g</text>
<text x="154" y="754">e</text>
<text x="174" y="754">之</text>
<text x="194" y="754">間</text>
<text x="214" y="754">必</text>
<text x="234" y="754">須</text>
<text x="254" y="754">用</text>
<text x="284" y="754">Q</text>
<text x="294" y="754">u</text>
<text x="304" y="754">e</text>
<text x="314" y="754">u</text>
<text x="324" y="754">e</text>
<text x="344" y="754">緩</text>
<text x="364" y="754">衝</text>
<text x="384" y="754">（</text>
<text x="404" y="754">解</text>
<text x="424" y="754">耦</text>
<text x="444" y="754">速</text>
<text x="464" y="754">率</text>
<text x="484" y="754">差</text>
<text x="504" y="754">異</text>
<text x="524" y="754">）</text>
<text x="34" y="774">⚠</text>
<text x="54" y="774">注</text>
<text x="74" y="774">意</text>
<text x="94" y="774">：</text>
<text x="114" y="774">最</text>
<text x="134" y="774">慢</text>
<text x="154" y="774">的</text>
<text x="184" y="774">S</text>
<text x="194" y="774">t</text>
<text x="204" y="774">a</text>
<text x="214" y="774">g</text>
<text x="224" y="774">e</text>
<text x="244" y="774">決</text>
<text x="264" y="774">定</text>
<text x="284" y="774">整</text>
<text x="304" y="774">個</text>
<text x="334" y="774">P</text>
<text x="344" y="774">i</text>
<text x="354" y="774">p</text>
<text x="364" y="774">e</text>
<text x="374" y="774">l</text>
<text x="384" y="774">i</text>
<text x="394" y="774">n</text>
<text x="404" y="774">e</text>
<text x="424" y="774">的</text>
<text x="444" y="774">上</text>
<text x="464" y="774">限</text>
<text x="484" y="774">（</text>
<text x="504" y="774">木</text>
<text x="524" y="774">桶</text>
<text x="544" y="774">效</text>
<text x="564" y="774">應</text>
<text x="584" y="774">）</text>
</g>
</svg>
</div>
<p>把任務切成可平行的小任務，減少單點瓶頸。</p>
<h2 id="32-同步對應-321322"><a class="header" href="#32-同步對應-321322">3.2 同步（對應 3.2.1~3.2.2）</a></h2>
<!-- subsection-diagram -->
<h3 id="本小節示意圖-1"><a class="header" href="#本小節示意圖-1">本小節示意圖</a></h3>
<div class="ascii-svg-wrap">
<svg class="ascii-svg" xmlns="http://www.w3.org/2000/svg" width="728" height="804" viewBox="0 0 728 804" role="img" aria-label="ASCII diagram">
<g fill="currentColor" font-family="Noto Sans Mono CJK TC, Noto Sans Mono CJK SC, Noto Sans Mono CJK JP, Sarasa Mono TC, Cascadia Mono, JetBrains Mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace" font-size="16" text-rendering="geometricPrecision" xml:space="preserve">
<text x="14" y="14">同</text>
<text x="34" y="14">步</text>
<text x="54" y="14">：</text>
<text x="74" y="14">因</text>
<text x="94" y="14">果</text>
<text x="114" y="14">關</text>
<text x="134" y="14">係</text>
<text x="154" y="14">約</text>
<text x="174" y="14">束</text>
<text x="194" y="14">（</text>
<text x="214" y="14">T</text>
<text x="224" y="14">1</text>
<text x="244" y="14">完</text>
<text x="264" y="14">成</text>
<text x="294" y="14">→</text>
<text x="314" y="14">T</text>
<text x="324" y="14">2</text>
<text x="344" y="14">才</text>
<text x="364" y="14">能</text>
<text x="384" y="14">開</text>
<text x="404" y="14">始</text>
<text x="424" y="14">）</text>
<text x="34" y="54">因</text>
<text x="54" y="54">果</text>
<text x="74" y="54">關</text>
<text x="94" y="54">係</text>
<text x="114" y="54">圖</text>
<text x="134" y="54">：</text>
<text x="34" y="94">T</text>
<text x="44" y="94">h</text>
<text x="54" y="94">r</text>
<text x="64" y="94">e</text>
<text x="74" y="94">a</text>
<text x="84" y="94">d</text>
<text x="104" y="94">T</text>
<text x="114" y="94">1</text>
<text x="394" y="94">T</text>
<text x="404" y="94">h</text>
<text x="414" y="94">r</text>
<text x="424" y="94">e</text>
<text x="434" y="94">a</text>
<text x="444" y="94">d</text>
<text x="464" y="94">T</text>
<text x="474" y="94">2</text>
<text x="34" y="114">─</text>
<text x="44" y="114">─</text>
<text x="54" y="114">─</text>
<text x="64" y="114">─</text>
<text x="74" y="114">─</text>
<text x="84" y="114">─</text>
<text x="94" y="114">─</text>
<text x="104" y="114">─</text>
<text x="114" y="114">─</text>
<text x="124" y="114">─</text>
<text x="394" y="114">─</text>
<text x="404" y="114">─</text>
<text x="414" y="114">─</text>
<text x="424" y="114">─</text>
<text x="434" y="114">─</text>
<text x="444" y="114">─</text>
<text x="454" y="114">─</text>
<text x="464" y="114">─</text>
<text x="474" y="114">─</text>
<text x="484" y="114">─</text>
<text x="34" y="134">[</text>
<text x="44" y="134">計</text>
<text x="64" y="134">算</text>
<text x="84" y="134">數</text>
<text x="104" y="134">據</text>
<text x="124" y="134">]</text>
<text x="34" y="154">[</text>
<text x="44" y="154">準</text>
<text x="64" y="154">備</text>
<text x="84" y="154">結</text>
<text x="104" y="154">果</text>
<text x="124" y="154">]</text>
<text x="704" y="174">│</text>
<text x="84" y="194">│</text>
<text x="114" y="194">s</text>
<text x="124" y="194">i</text>
<text x="134" y="194">g</text>
<text x="144" y="194">n</text>
<text x="154" y="194">a</text>
<text x="164" y="194">l</text>
<text x="184" y="194">/</text>
<text x="204" y="194">n</text>
<text x="214" y="194">o</text>
<text x="224" y="194">t</text>
<text x="234" y="194">i</text>
<text x="244" y="194">f</text>
<text x="254" y="194">y</text>
<text x="274" y="194">/</text>
<text x="294" y="194">s</text>
<text x="304" y="194">e</text>
<text x="314" y="194">t</text>
<text x="324" y="194">(</text>
<text x="334" y="194">)</text>
<text x="84" y="214">▼</text>
<text x="34" y="234">┌</text>
<text x="44" y="234">─</text>
<text x="54" y="234">─</text>
<text x="64" y="234">─</text>
<text x="74" y="234">─</text>
<text x="84" y="234">─</text>
<text x="94" y="234">─</text>
<text x="104" y="234">─</text>
<text x="114" y="234">─</text>
<text x="124" y="234">─</text>
<text x="134" y="234">─</text>
<text x="144" y="234">─</text>
<text x="154" y="234">─</text>
<text x="164" y="234">┐</text>
<text x="184" y="234">─</text>
<text x="194" y="234">─</text>
<text x="204" y="234">─</text>
<text x="214" y="234">─</text>
<text x="224" y="234">─</text>
<text x="234" y="234">─</text>
<text x="244" y="234">─</text>
<text x="254" y="234">─</text>
<text x="264" y="234">─</text>
<text x="274" y="234">─</text>
<text x="284" y="234">─</text>
<text x="294" y="234">─</text>
<text x="304" y="234">─</text>
<text x="314" y="234">─</text>
<text x="324" y="234">─</text>
<text x="334" y="234">─</text>
<text x="344" y="234">─</text>
<text x="354" y="234">─</text>
<text x="364" y="234">─</text>
<text x="374" y="234">─</text>
<text x="384" y="234">─</text>
<text x="394" y="234">►</text>
<text x="414" y="234">┌</text>
<text x="424" y="234">─</text>
<text x="434" y="234">─</text>
<text x="444" y="234">─</text>
<text x="454" y="234">─</text>
<text x="464" y="234">─</text>
<text x="474" y="234">─</text>
<text x="484" y="234">─</text>
<text x="494" y="234">─</text>
<text x="504" y="234">─</text>
<text x="514" y="234">─</text>
<text x="524" y="234">─</text>
<text x="534" y="234">─</text>
<text x="544" y="234">─</text>
<text x="554" y="234">─</text>
<text x="564" y="234">─</text>
<text x="574" y="234">─</text>
<text x="584" y="234">─</text>
<text x="594" y="234">─</text>
<text x="604" y="234">─</text>
<text x="614" y="234">─</text>
<text x="624" y="234">─</text>
<text x="634" y="234">─</text>
<text x="644" y="234">─</text>
<text x="654" y="234">─</text>
<text x="664" y="234">─</text>
<text x="674" y="234">─</text>
<text x="684" y="234">─</text>
<text x="694" y="234">─</text>
<text x="704" y="234">┐</text>
<text x="34" y="254">│</text>
<text x="54" y="254">d</text>
<text x="64" y="254">o</text>
<text x="74" y="254">n</text>
<text x="84" y="254">e</text>
<text x="104" y="254">事</text>
<text x="124" y="254">件</text>
<text x="164" y="254">│</text>
<text x="424" y="254">│</text>
<text x="444" y="254">等</text>
<text x="464" y="254">待</text>
<text x="494" y="254">d</text>
<text x="504" y="254">o</text>
<text x="514" y="254">n</text>
<text x="524" y="254">e</text>
<text x="704" y="254">│</text>
<text x="34" y="274">│</text>
<text x="54" y="274">(</text>
<text x="64" y="274">已</text>
<text x="84" y="274">發</text>
<text x="104" y="274">出</text>
<text x="124" y="274">)</text>
<text x="164" y="274">│</text>
<text x="424" y="274">│</text>
<text x="444" y="274">w</text>
<text x="454" y="274">a</text>
<text x="464" y="274">i</text>
<text x="474" y="274">t</text>
<text x="484" y="274">(</text>
<text x="494" y="274">)</text>
<text x="514" y="274">阻</text>
<text x="534" y="274">塞</text>
<text x="704" y="274">│</text>
<text x="34" y="294">└</text>
<text x="44" y="294">─</text>
<text x="54" y="294">─</text>
<text x="64" y="294">─</text>
<text x="74" y="294">─</text>
<text x="84" y="294">─</text>
<text x="94" y="294">─</text>
<text x="104" y="294">─</text>
<text x="114" y="294">─</text>
<text x="124" y="294">─</text>
<text x="134" y="294">─</text>
<text x="144" y="294">─</text>
<text x="154" y="294">─</text>
<text x="164" y="294">┘</text>
<text x="424" y="294">└</text>
<text x="434" y="294">─</text>
<text x="444" y="294">─</text>
<text x="454" y="294">─</text>
<text x="464" y="294">─</text>
<text x="474" y="294">─</text>
<text x="484" y="294">┬</text>
<text x="494" y="294">─</text>
<text x="504" y="294">─</text>
<text x="514" y="294">─</text>
<text x="524" y="294">─</text>
<text x="534" y="294">─</text>
<text x="544" y="294">─</text>
<text x="554" y="294">─</text>
<text x="564" y="294">─</text>
<text x="574" y="294">─</text>
<text x="584" y="294">─</text>
<text x="594" y="294">─</text>
<text x="604" y="294">─</text>
<text x="614" y="294">─</text>
<text x="624" y="294">─</text>
<text x="634" y="294">─</text>
<text x="644" y="294">─</text>
<text x="654" y="294">─</text>
<text x="664" y="294">─</text>
<text x="674" y="294">─</text>
<text x="684" y="294">─</text>
<text x="694" y="294">─</text>
<text x="704" y="294">┘</text>
<text x="484" y="314">│</text>
<text x="504" y="314">收</text>
<text x="524" y="314">到</text>
<text x="544" y="314">通</text>
<text x="564" y="314">知</text>
<text x="484" y="334">▼</text>
<text x="424" y="354">[</text>
<text x="434" y="354">開</text>
<text x="454" y="354">始</text>
<text x="474" y="354">消</text>
<text x="494" y="354">費</text>
<text x="514" y="354">結</text>
<text x="534" y="354">果</text>
<text x="554" y="354">]</text>
<text x="424" y="374">[</text>
<text x="434" y="374">繼</text>
<text x="454" y="374">續</text>
<text x="474" y="374">往</text>
<text x="494" y="374">下</text>
<text x="514" y="374">執</text>
<text x="534" y="374">行</text>
<text x="554" y="374">]</text>
<text x="34" y="414">時</text>
<text x="54" y="414">間</text>
<text x="74" y="414">軸</text>
<text x="94" y="414">視</text>
<text x="114" y="414">角</text>
<text x="134" y="414">（</text>
<text x="154" y="414">等</text>
<text x="174" y="414">待</text>
<text x="194" y="414">/</text>
<text x="204" y="414">喚</text>
<text x="224" y="414">醒</text>
<text x="244" y="414">機</text>
<text x="264" y="414">制</text>
<text x="284" y="414">）</text>
<text x="304" y="414">：</text>
<text x="34" y="454">時</text>
<text x="54" y="454">間</text>
<text x="84" y="454">─</text>
<text x="94" y="454">─</text>
<text x="104" y="454">─</text>
<text x="114" y="454">─</text>
<text x="124" y="454">─</text>
<text x="134" y="454">─</text>
<text x="144" y="454">─</text>
<text x="154" y="454">─</text>
<text x="164" y="454">─</text>
<text x="174" y="454">─</text>
<text x="184" y="454">─</text>
<text x="194" y="454">─</text>
<text x="204" y="454">─</text>
<text x="214" y="454">─</text>
<text x="224" y="454">─</text>
<text x="234" y="454">─</text>
<text x="244" y="454">─</text>
<text x="254" y="454">─</text>
<text x="264" y="454">─</text>
<text x="274" y="454">─</text>
<text x="284" y="454">─</text>
<text x="294" y="454">─</text>
<text x="304" y="454">─</text>
<text x="314" y="454">─</text>
<text x="324" y="454">─</text>
<text x="334" y="454">─</text>
<text x="344" y="454">─</text>
<text x="354" y="454">─</text>
<text x="364" y="454">─</text>
<text x="374" y="454">─</text>
<text x="384" y="454">─</text>
<text x="394" y="454">─</text>
<text x="404" y="454">─</text>
<text x="414" y="454">─</text>
<text x="424" y="454">─</text>
<text x="434" y="454">─</text>
<text x="444" y="454">─</text>
<text x="454" y="454">─</text>
<text x="464" y="454">─</text>
<text x="474" y="454">─</text>
<text x="484" y="454">─</text>
<text x="494" y="454">─</text>
<text x="504" y="454">─</text>
<text x="514" y="454">─</text>
<text x="524" y="454">─</text>
<text x="534" y="454">─</text>
<text x="544" y="454">─</text>
<text x="554" y="454">─</text>
<text x="564" y="454">─</text>
<text x="574" y="454">─</text>
<text x="584" y="454">►</text>
<text x="34" y="474">T</text>
<text x="44" y="474">1</text>
<text x="54" y="474">:</text>
<text x="84" y="474">[</text>
<text x="94" y="474">工</text>
<text x="114" y="474">作</text>
<text x="134" y="474">]</text>
<text x="144" y="474">[</text>
<text x="154" y="474">工</text>
<text x="174" y="474">作</text>
<text x="194" y="474">]</text>
<text x="204" y="474">[</text>
<text x="214" y="474">工</text>
<text x="234" y="474">作</text>
<text x="254" y="474">]</text>
<text x="274" y="474">─</text>
<text x="284" y="474">─</text>
<text x="294" y="474">►</text>
<text x="314" y="474">s</text>
<text x="324" y="474">i</text>
<text x="334" y="474">g</text>
<text x="344" y="474">n</text>
<text x="354" y="474">a</text>
<text x="364" y="474">l</text>
<text x="384" y="474">─</text>
<text x="394" y="474">─</text>
<text x="404" y="474">─</text>
<text x="414" y="474">─</text>
<text x="424" y="474">─</text>
<text x="434" y="474">─</text>
<text x="444" y="474">─</text>
<text x="454" y="474">─</text>
<text x="464" y="474">─</text>
<text x="474" y="474">─</text>
<text x="484" y="474">─</text>
<text x="494" y="474">─</text>
<text x="504" y="474">─</text>
<text x="514" y="474">─</text>
<text x="524" y="474">─</text>
<text x="534" y="474">─</text>
<text x="544" y="474">─</text>
<text x="554" y="474">─</text>
<text x="564" y="474">─</text>
<text x="574" y="474">─</text>
<text x="584" y="474">─</text>
<text x="594" y="474">─</text>
<text x="34" y="494">T</text>
<text x="44" y="494">2</text>
<text x="54" y="494">:</text>
<text x="84" y="494">[</text>
<text x="94" y="494">w</text>
<text x="104" y="494">a</text>
<text x="114" y="494">i</text>
<text x="124" y="494">t</text>
<text x="134" y="494">.</text>
<text x="144" y="494">.</text>
<text x="154" y="494">.</text>
<text x="164" y="494">]</text>
<text x="174" y="494">░</text>
<text x="184" y="494">░</text>
<text x="194" y="494">░</text>
<text x="204" y="494">░</text>
<text x="214" y="494">░</text>
<text x="224" y="494">░</text>
<text x="234" y="494">░</text>
<text x="244" y="494">░</text>
<text x="254" y="494">░</text>
<text x="264" y="494">░</text>
<text x="274" y="494">░</text>
<text x="284" y="494">░</text>
<text x="294" y="494">░</text>
<text x="304" y="494">░</text>
<text x="314" y="494">░</text>
<text x="324" y="494">░</text>
<text x="334" y="494">░</text>
<text x="344" y="494">░</text>
<text x="354" y="494">░</text>
<text x="364" y="494">░</text>
<text x="374" y="494">░</text>
<text x="384" y="494">░</text>
<text x="394" y="494">░</text>
<text x="404" y="494">░</text>
<text x="424" y="494">─</text>
<text x="434" y="494">─</text>
<text x="444" y="494">►</text>
<text x="464" y="494">[</text>
<text x="474" y="494">繼</text>
<text x="494" y="494">續</text>
<text x="514" y="494">執</text>
<text x="534" y="494">行</text>
<text x="554" y="494">]</text>
<text x="174" y="514">▲</text>
<text x="464" y="514">▲</text>
<text x="124" y="534">T</text>
<text x="134" y="534">2</text>
<text x="154" y="534">被</text>
<text x="174" y="534">阻</text>
<text x="194" y="534">塞</text>
<text x="424" y="534">T</text>
<text x="434" y="534">1</text>
<text x="454" y="534">發</text>
<text x="474" y="534">出</text>
<text x="494" y="534">信</text>
<text x="514" y="534">號</text>
<text x="534" y="534">後</text>
<text x="564" y="534">T</text>
<text x="574" y="534">2</text>
<text x="594" y="534">喚</text>
<text x="614" y="534">醒</text>
<text x="34" y="574">常</text>
<text x="54" y="574">見</text>
<text x="74" y="574">同</text>
<text x="94" y="574">步</text>
<text x="114" y="574">原</text>
<text x="134" y="574">語</text>
<text x="154" y="574">對</text>
<text x="174" y="574">比</text>
<text x="194" y="574">：</text>
<text x="34" y="614">┌</text>
<text x="44" y="614">─</text>
<text x="54" y="614">─</text>
<text x="64" y="614">─</text>
<text x="74" y="614">─</text>
<text x="84" y="614">─</text>
<text x="94" y="614">─</text>
<text x="104" y="614">─</text>
<text x="114" y="614">─</text>
<text x="124" y="614">─</text>
<text x="134" y="614">─</text>
<text x="144" y="614">─</text>
<text x="154" y="614">─</text>
<text x="164" y="614">─</text>
<text x="174" y="614">─</text>
<text x="184" y="614">┬</text>
<text x="194" y="614">─</text>
<text x="204" y="614">─</text>
<text x="214" y="614">─</text>
<text x="224" y="614">─</text>
<text x="234" y="614">─</text>
<text x="244" y="614">─</text>
<text x="254" y="614">─</text>
<text x="264" y="614">─</text>
<text x="274" y="614">─</text>
<text x="284" y="614">─</text>
<text x="294" y="614">─</text>
<text x="304" y="614">─</text>
<text x="314" y="614">─</text>
<text x="324" y="614">─</text>
<text x="334" y="614">─</text>
<text x="344" y="614">─</text>
<text x="354" y="614">─</text>
<text x="364" y="614">─</text>
<text x="374" y="614">─</text>
<text x="384" y="614">─</text>
<text x="394" y="614">─</text>
<text x="404" y="614">─</text>
<text x="414" y="614">─</text>
<text x="424" y="614">─</text>
<text x="434" y="614">─</text>
<text x="444" y="614">─</text>
<text x="454" y="614">─</text>
<text x="464" y="614">─</text>
<text x="474" y="614">─</text>
<text x="484" y="614">─</text>
<text x="494" y="614">─</text>
<text x="504" y="614">─</text>
<text x="514" y="614">─</text>
<text x="524" y="614">─</text>
<text x="534" y="614">─</text>
<text x="544" y="614">─</text>
<text x="554" y="614">─</text>
<text x="564" y="614">─</text>
<text x="574" y="614">─</text>
<text x="584" y="614">─</text>
<text x="594" y="614">─</text>
<text x="604" y="614">─</text>
<text x="614" y="614">─</text>
<text x="624" y="614">─</text>
<text x="634" y="614">─</text>
<text x="644" y="614">─</text>
<text x="654" y="614">─</text>
<text x="664" y="614">─</text>
<text x="674" y="614">─</text>
<text x="684" y="614">─</text>
<text x="694" y="614">─</text>
<text x="704" y="614">┐</text>
<text x="34" y="634">│</text>
<text x="64" y="634">原</text>
<text x="84" y="634">語</text>
<text x="194" y="634">│</text>
<text x="224" y="634">語</text>
<text x="244" y="634">意</text>
<text x="704" y="634">│</text>
<text x="34" y="654">├</text>
<text x="44" y="654">─</text>
<text x="54" y="654">─</text>
<text x="64" y="654">─</text>
<text x="74" y="654">─</text>
<text x="84" y="654">─</text>
<text x="94" y="654">─</text>
<text x="104" y="654">─</text>
<text x="114" y="654">─</text>
<text x="124" y="654">─</text>
<text x="134" y="654">─</text>
<text x="144" y="654">─</text>
<text x="154" y="654">─</text>
<text x="164" y="654">─</text>
<text x="174" y="654">─</text>
<text x="184" y="654">┼</text>
<text x="194" y="654">─</text>
<text x="204" y="654">─</text>
<text x="214" y="654">─</text>
<text x="224" y="654">─</text>
<text x="234" y="654">─</text>
<text x="244" y="654">─</text>
<text x="254" y="654">─</text>
<text x="264" y="654">─</text>
<text x="274" y="654">─</text>
<text x="284" y="654">─</text>
<text x="294" y="654">─</text>
<text x="304" y="654">─</text>
<text x="314" y="654">─</text>
<text x="324" y="654">─</text>
<text x="334" y="654">─</text>
<text x="344" y="654">─</text>
<text x="354" y="654">─</text>
<text x="364" y="654">─</text>
<text x="374" y="654">─</text>
<text x="384" y="654">─</text>
<text x="394" y="654">─</text>
<text x="404" y="654">─</text>
<text x="414" y="654">─</text>
<text x="424" y="654">─</text>
<text x="434" y="654">─</text>
<text x="444" y="654">─</text>
<text x="454" y="654">─</text>
<text x="464" y="654">─</text>
<text x="474" y="654">─</text>
<text x="484" y="654">─</text>
<text x="494" y="654">─</text>
<text x="504" y="654">─</text>
<text x="514" y="654">─</text>
<text x="524" y="654">─</text>
<text x="534" y="654">─</text>
<text x="544" y="654">─</text>
<text x="554" y="654">─</text>
<text x="564" y="654">─</text>
<text x="574" y="654">─</text>
<text x="584" y="654">─</text>
<text x="594" y="654">─</text>
<text x="604" y="654">─</text>
<text x="614" y="654">─</text>
<text x="624" y="654">─</text>
<text x="634" y="654">─</text>
<text x="644" y="654">─</text>
<text x="654" y="654">─</text>
<text x="664" y="654">─</text>
<text x="674" y="654">─</text>
<text x="684" y="654">─</text>
<text x="694" y="654">─</text>
<text x="704" y="654">┤</text>
<text x="34" y="674">│</text>
<text x="64" y="674">E</text>
<text x="74" y="674">v</text>
<text x="84" y="674">e</text>
<text x="94" y="674">n</text>
<text x="104" y="674">t</text>
<text x="114" y="674">/</text>
<text x="124" y="674">F</text>
<text x="134" y="674">l</text>
<text x="144" y="674">a</text>
<text x="154" y="674">g</text>
<text x="184" y="674">│</text>
<text x="214" y="674">1</text>
<text x="224" y="674">:</text>
<text x="234" y="674">N</text>
<text x="254" y="674">通</text>
<text x="274" y="674">知</text>
<text x="294" y="674">，</text>
<text x="314" y="674">一</text>
<text x="334" y="674">次</text>
<text x="354" y="674">性</text>
<text x="374" y="674">或</text>
<text x="394" y="674">可</text>
<text x="414" y="674">重</text>
<text x="434" y="674">置</text>
<text x="704" y="674">│</text>
<text x="34" y="694">│</text>
<text x="64" y="694">S</text>
<text x="74" y="694">e</text>
<text x="84" y="694">m</text>
<text x="94" y="694">a</text>
<text x="104" y="694">p</text>
<text x="114" y="694">h</text>
<text x="124" y="694">o</text>
<text x="134" y="694">r</text>
<text x="144" y="694">e</text>
<text x="184" y="694">│</text>
<text x="214" y="694">計</text>
<text x="234" y="694">數</text>
<text x="254" y="694">信</text>
<text x="274" y="694">號</text>
<text x="294" y="694">量</text>
<text x="314" y="694">，</text>
<text x="334" y="694">允</text>
<text x="354" y="694">許</text>
<text x="384" y="694">N</text>
<text x="404" y="694">個</text>
<text x="424" y="694">執</text>
<text x="444" y="694">行</text>
<text x="464" y="694">緒</text>
<text x="484" y="694">同</text>
<text x="504" y="694">時</text>
<text x="524" y="694">通</text>
<text x="544" y="694">過</text>
<text x="704" y="694">│</text>
<text x="34" y="714">│</text>
<text x="64" y="714">B</text>
<text x="74" y="714">a</text>
<text x="84" y="714">r</text>
<text x="94" y="714">r</text>
<text x="104" y="714">i</text>
<text x="114" y="714">e</text>
<text x="124" y="714">r</text>
<text x="184" y="714">│</text>
<text x="214" y="714">所</text>
<text x="234" y="714">有</text>
<text x="254" y="714">參</text>
<text x="274" y="714">與</text>
<text x="294" y="714">者</text>
<text x="314" y="714">都</text>
<text x="334" y="714">到</text>
<text x="354" y="714">達</text>
<text x="374" y="714">後</text>
<text x="394" y="714">才</text>
<text x="414" y="714">一</text>
<text x="434" y="714">起</text>
<text x="454" y="714">放</text>
<text x="474" y="714">行</text>
<text x="704" y="714">│</text>
<text x="34" y="734">│</text>
<text x="64" y="734">C</text>
<text x="74" y="734">o</text>
<text x="84" y="734">u</text>
<text x="94" y="734">n</text>
<text x="104" y="734">t</text>
<text x="114" y="734">D</text>
<text x="124" y="734">o</text>
<text x="134" y="734">w</text>
<text x="144" y="734">n</text>
<text x="184" y="734">│</text>
<text x="214" y="734">計</text>
<text x="234" y="734">數</text>
<text x="254" y="734">到</text>
<text x="284" y="734">0</text>
<text x="304" y="734">後</text>
<text x="324" y="734">通</text>
<text x="344" y="734">知</text>
<text x="364" y="734">等</text>
<text x="384" y="734">待</text>
<text x="404" y="734">者</text>
<text x="704" y="734">│</text>
<text x="34" y="754">│</text>
<text x="64" y="754">C</text>
<text x="74" y="754">o</text>
<text x="84" y="754">n</text>
<text x="94" y="754">d</text>
<text x="104" y="754">i</text>
<text x="114" y="754">t</text>
<text x="124" y="754">i</text>
<text x="134" y="754">o</text>
<text x="144" y="754">n</text>
<text x="184" y="754">│</text>
<text x="214" y="754">w</text>
<text x="224" y="754">a</text>
<text x="234" y="754">i</text>
<text x="244" y="754">t</text>
<text x="254" y="754">/</text>
<text x="264" y="754">n</text>
<text x="274" y="754">o</text>
<text x="284" y="754">t</text>
<text x="294" y="754">i</text>
<text x="304" y="754">f</text>
<text x="314" y="754">y</text>
<text x="324" y="754">，</text>
<text x="344" y="754">配</text>
<text x="364" y="754">合</text>
<text x="384" y="754">鎖</text>
<text x="404" y="754">使</text>
<text x="424" y="754">用</text>
<text x="704" y="754">│</text>
<text x="34" y="774">└</text>
<text x="44" y="774">─</text>
<text x="54" y="774">─</text>
<text x="64" y="774">─</text>
<text x="74" y="774">─</text>
<text x="84" y="774">─</text>
<text x="94" y="774">─</text>
<text x="104" y="774">─</text>
<text x="114" y="774">─</text>
<text x="124" y="774">─</text>
<text x="134" y="774">─</text>
<text x="144" y="774">─</text>
<text x="154" y="774">─</text>
<text x="164" y="774">─</text>
<text x="174" y="774">─</text>
<text x="184" y="774">┴</text>
<text x="194" y="774">─</text>
<text x="204" y="774">─</text>
<text x="214" y="774">─</text>
<text x="224" y="774">─</text>
<text x="234" y="774">─</text>
<text x="244" y="774">─</text>
<text x="254" y="774">─</text>
<text x="264" y="774">─</text>
<text x="274" y="774">─</text>
<text x="284" y="774">─</text>
<text x="294" y="774">─</text>
<text x="304" y="774">─</text>
<text x="314" y="774">─</text>
<text x="324" y="774">─</text>
<text x="334" y="774">─</text>
<text x="344" y="774">─</text>
<text x="354" y="774">─</text>
<text x="364" y="774">─</text>
<text x="374" y="774">─</text>
<text x="384" y="774">─</text>
<text x="394" y="774">─</text>
<text x="404" y="774">─</text>
<text x="414" y="774">─</text>
<text x="424" y="774">─</text>
<text x="434" y="774">─</text>
<text x="444" y="774">─</text>
<text x="454" y="774">─</text>
<text x="464" y="774">─</text>
<text x="474" y="774">─</text>
<text x="484" y="774">─</text>
<text x="494" y="774">─</text>
<text x="504" y="774">─</text>
<text x="514" y="774">─</text>
<text x="524" y="774">─</text>
<text x="534" y="774">─</text>
<text x="544" y="774">─</text>
<text x="554" y="774">─</text>
<text x="564" y="774">─</text>
<text x="574" y="774">─</text>
<text x="584" y="774">─</text>
<text x="594" y="774">─</text>
<text x="604" y="774">─</text>
<text x="614" y="774">─</text>
<text x="624" y="774">─</text>
<text x="634" y="774">─</text>
<text x="644" y="774">─</text>
<text x="654" y="774">─</text>
<text x="664" y="774">─</text>
<text x="674" y="774">─</text>
<text x="684" y="774">─</text>
<text x="694" y="774">─</text>
<text x="704" y="774">┘</text>
</g>
</svg>
</div>
<p>約束「先後順序」，避免讀到半成品。</p>
<h2 id="33-互斥對應-331332"><a class="header" href="#33-互斥對應-331332">3.3 互斥（對應 3.3.1~3.3.2）</a></h2>
<!-- subsection-diagram -->
<h3 id="本小節示意圖-2"><a class="header" href="#本小節示意圖-2">本小節示意圖</a></h3>
<div class="ascii-svg-wrap">
<svg class="ascii-svg" xmlns="http://www.w3.org/2000/svg" width="738" height="644" viewBox="0 0 738 644" role="img" aria-label="ASCII diagram">
<g fill="currentColor" font-family="Noto Sans Mono CJK TC, Noto Sans Mono CJK SC, Noto Sans Mono CJK JP, Sarasa Mono TC, Cascadia Mono, JetBrains Mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace" font-size="16" text-rendering="geometricPrecision" xml:space="preserve">
<text x="14" y="14">互</text>
<text x="34" y="14">斥</text>
<text x="54" y="14">：</text>
<text x="74" y="14">臨</text>
<text x="94" y="14">界</text>
<text x="114" y="14">區</text>
<text x="134" y="14">保</text>
<text x="154" y="14">護</text>
<text x="174" y="14">（</text>
<text x="194" y="14">同</text>
<text x="214" y="14">一</text>
<text x="234" y="14">時</text>
<text x="254" y="14">間</text>
<text x="274" y="14">只</text>
<text x="294" y="14">有</text>
<text x="314" y="14">一</text>
<text x="334" y="14">個</text>
<text x="354" y="14">執</text>
<text x="374" y="14">行</text>
<text x="394" y="14">緒</text>
<text x="414" y="14">進</text>
<text x="434" y="14">入</text>
<text x="454" y="14">）</text>
<text x="34" y="54">┌</text>
<text x="44" y="54">─</text>
<text x="54" y="54">─</text>
<text x="64" y="54">─</text>
<text x="74" y="54">─</text>
<text x="84" y="54">─</text>
<text x="94" y="54">─</text>
<text x="104" y="54">─</text>
<text x="114" y="54">─</text>
<text x="124" y="54">─</text>
<text x="134" y="54">─</text>
<text x="144" y="54">─</text>
<text x="154" y="54">─</text>
<text x="164" y="54">─</text>
<text x="174" y="54">─</text>
<text x="184" y="54">─</text>
<text x="194" y="54">─</text>
<text x="204" y="54">─</text>
<text x="214" y="54">─</text>
<text x="224" y="54">─</text>
<text x="234" y="54">─</text>
<text x="244" y="54">─</text>
<text x="254" y="54">─</text>
<text x="264" y="54">─</text>
<text x="274" y="54">─</text>
<text x="284" y="54">─</text>
<text x="294" y="54">─</text>
<text x="304" y="54">─</text>
<text x="314" y="54">─</text>
<text x="324" y="54">─</text>
<text x="334" y="54">─</text>
<text x="344" y="54">─</text>
<text x="354" y="54">─</text>
<text x="364" y="54">─</text>
<text x="374" y="54">─</text>
<text x="384" y="54">─</text>
<text x="394" y="54">─</text>
<text x="404" y="54">─</text>
<text x="414" y="54">─</text>
<text x="424" y="54">─</text>
<text x="434" y="54">─</text>
<text x="444" y="54">─</text>
<text x="454" y="54">─</text>
<text x="464" y="54">─</text>
<text x="474" y="54">─</text>
<text x="484" y="54">─</text>
<text x="494" y="54">─</text>
<text x="504" y="54">─</text>
<text x="514" y="54">─</text>
<text x="524" y="54">─</text>
<text x="534" y="54">─</text>
<text x="544" y="54">─</text>
<text x="554" y="54">─</text>
<text x="564" y="54">─</text>
<text x="574" y="54">─</text>
<text x="584" y="54">─</text>
<text x="594" y="54">─</text>
<text x="604" y="54">─</text>
<text x="614" y="54">─</text>
<text x="624" y="54">─</text>
<text x="634" y="54">─</text>
<text x="644" y="54">─</text>
<text x="654" y="54">─</text>
<text x="664" y="54">─</text>
<text x="674" y="54">─</text>
<text x="684" y="54">─</text>
<text x="694" y="54">─</text>
<text x="704" y="54">─</text>
<text x="714" y="54">┐</text>
<text x="34" y="74">│</text>
<text x="274" y="74">臨</text>
<text x="294" y="74">界</text>
<text x="314" y="74">區</text>
<text x="334" y="74">（</text>
<text x="354" y="74">C</text>
<text x="364" y="74">r</text>
<text x="374" y="74">i</text>
<text x="384" y="74">t</text>
<text x="394" y="74">i</text>
<text x="404" y="74">c</text>
<text x="414" y="74">a</text>
<text x="424" y="74">l</text>
<text x="444" y="74">S</text>
<text x="454" y="74">e</text>
<text x="464" y="74">c</text>
<text x="474" y="74">t</text>
<text x="484" y="74">i</text>
<text x="494" y="74">o</text>
<text x="504" y="74">n</text>
<text x="514" y="74">）</text>
<text x="714" y="74">│</text>
<text x="54" y="94">│</text>
<text x="714" y="94">│</text>
<text x="34" y="114">│</text>
<text x="64" y="114">┌</text>
<text x="74" y="114">─</text>
<text x="84" y="114">─</text>
<text x="94" y="114">─</text>
<text x="104" y="114">─</text>
<text x="114" y="114">─</text>
<text x="124" y="114">─</text>
<text x="134" y="114">─</text>
<text x="144" y="114">─</text>
<text x="154" y="114">─</text>
<text x="164" y="114">─</text>
<text x="174" y="114">┐</text>
<text x="234" y="114">l</text>
<text x="244" y="114">o</text>
<text x="254" y="114">c</text>
<text x="264" y="114">k</text>
<text x="274" y="114">(</text>
<text x="284" y="114">)</text>
<text x="334" y="114">┌</text>
<text x="344" y="114">─</text>
<text x="354" y="114">─</text>
<text x="364" y="114">─</text>
<text x="374" y="114">─</text>
<text x="384" y="114">─</text>
<text x="394" y="114">─</text>
<text x="404" y="114">─</text>
<text x="414" y="114">─</text>
<text x="424" y="114">─</text>
<text x="434" y="114">─</text>
<text x="444" y="114">─</text>
<text x="454" y="114">─</text>
<text x="464" y="114">─</text>
<text x="474" y="114">─</text>
<text x="484" y="114">─</text>
<text x="494" y="114">─</text>
<text x="504" y="114">─</text>
<text x="514" y="114">─</text>
<text x="524" y="114">─</text>
<text x="534" y="114">─</text>
<text x="544" y="114">─</text>
<text x="554" y="114">─</text>
<text x="564" y="114">┐</text>
<text x="714" y="114">│</text>
<text x="34" y="134">│</text>
<text x="64" y="134">│</text>
<text x="84" y="134">T</text>
<text x="94" y="134">h</text>
<text x="104" y="134">r</text>
<text x="114" y="134">e</text>
<text x="124" y="134">a</text>
<text x="134" y="134">d</text>
<text x="154" y="134">1</text>
<text x="174" y="134">│</text>
<text x="194" y="134">─</text>
<text x="204" y="134">─</text>
<text x="214" y="134">─</text>
<text x="224" y="134">─</text>
<text x="234" y="134">─</text>
<text x="244" y="134">─</text>
<text x="254" y="134">─</text>
<text x="264" y="134">─</text>
<text x="274" y="134">─</text>
<text x="284" y="134">─</text>
<text x="294" y="134">─</text>
<text x="304" y="134">─</text>
<text x="314" y="134">─</text>
<text x="324" y="134">►</text>
<text x="334" y="134">│</text>
<text x="364" y="134">正</text>
<text x="384" y="134">在</text>
<text x="404" y="134">執</text>
<text x="424" y="134">行</text>
<text x="564" y="134">│</text>
<text x="714" y="134">│</text>
<text x="34" y="154">│</text>
<text x="64" y="154">└</text>
<text x="74" y="154">─</text>
<text x="84" y="154">─</text>
<text x="94" y="154">─</text>
<text x="104" y="154">─</text>
<text x="114" y="154">─</text>
<text x="124" y="154">─</text>
<text x="134" y="154">─</text>
<text x="144" y="154">─</text>
<text x="154" y="154">─</text>
<text x="164" y="154">─</text>
<text x="174" y="154">┘</text>
<text x="214" y="154">成</text>
<text x="234" y="154">功</text>
<text x="254" y="154">，</text>
<text x="274" y="154">進</text>
<text x="294" y="154">入</text>
<text x="344" y="154">│</text>
<text x="374" y="154">c</text>
<text x="384" y="154">o</text>
<text x="394" y="154">u</text>
<text x="404" y="154">n</text>
<text x="414" y="154">t</text>
<text x="424" y="154">e</text>
<text x="434" y="154">r</text>
<text x="444" y="154">+</text>
<text x="454" y="154">+</text>
<text x="564" y="154">│</text>
<text x="714" y="154">│</text>
<text x="34" y="174">│</text>
<text x="334" y="174">└</text>
<text x="344" y="174">─</text>
<text x="354" y="174">─</text>
<text x="364" y="174">─</text>
<text x="374" y="174">─</text>
<text x="384" y="174">─</text>
<text x="394" y="174">─</text>
<text x="404" y="174">─</text>
<text x="414" y="174">─</text>
<text x="424" y="174">─</text>
<text x="434" y="174">─</text>
<text x="444" y="174">─</text>
<text x="454" y="174">─</text>
<text x="464" y="174">─</text>
<text x="474" y="174">─</text>
<text x="484" y="174">─</text>
<text x="494" y="174">─</text>
<text x="504" y="174">─</text>
<text x="514" y="174">─</text>
<text x="524" y="174">─</text>
<text x="534" y="174">─</text>
<text x="544" y="174">─</text>
<text x="554" y="174">─</text>
<text x="564" y="174">┘</text>
<text x="714" y="174">│</text>
<text x="34" y="194">│</text>
<text x="64" y="194">┌</text>
<text x="74" y="194">─</text>
<text x="84" y="194">─</text>
<text x="94" y="194">─</text>
<text x="104" y="194">─</text>
<text x="114" y="194">─</text>
<text x="124" y="194">─</text>
<text x="134" y="194">─</text>
<text x="144" y="194">─</text>
<text x="154" y="194">─</text>
<text x="164" y="194">─</text>
<text x="174" y="194">┐</text>
<text x="234" y="194">l</text>
<text x="244" y="194">o</text>
<text x="254" y="194">c</text>
<text x="264" y="194">k</text>
<text x="274" y="194">(</text>
<text x="284" y="194">)</text>
<text x="334" y="194">┌</text>
<text x="344" y="194">─</text>
<text x="354" y="194">─</text>
<text x="364" y="194">─</text>
<text x="374" y="194">─</text>
<text x="384" y="194">─</text>
<text x="394" y="194">─</text>
<text x="404" y="194">─</text>
<text x="414" y="194">─</text>
<text x="424" y="194">─</text>
<text x="434" y="194">─</text>
<text x="444" y="194">─</text>
<text x="454" y="194">─</text>
<text x="464" y="194">─</text>
<text x="474" y="194">─</text>
<text x="484" y="194">─</text>
<text x="494" y="194">─</text>
<text x="504" y="194">─</text>
<text x="514" y="194">─</text>
<text x="524" y="194">─</text>
<text x="534" y="194">─</text>
<text x="544" y="194">─</text>
<text x="554" y="194">─</text>
<text x="564" y="194">┐</text>
<text x="714" y="194">│</text>
<text x="34" y="214">│</text>
<text x="64" y="214">│</text>
<text x="84" y="214">T</text>
<text x="94" y="214">h</text>
<text x="104" y="214">r</text>
<text x="114" y="214">e</text>
<text x="124" y="214">a</text>
<text x="134" y="214">d</text>
<text x="154" y="214">2</text>
<text x="174" y="214">│</text>
<text x="194" y="214">─</text>
<text x="204" y="214">─</text>
<text x="214" y="214">─</text>
<text x="224" y="214">─</text>
<text x="234" y="214">─</text>
<text x="244" y="214">─</text>
<text x="254" y="214">─</text>
<text x="264" y="214">─</text>
<text x="274" y="214">─</text>
<text x="284" y="214">─</text>
<text x="294" y="214">─</text>
<text x="304" y="214">─</text>
<text x="314" y="214">─</text>
<text x="324" y="214">►</text>
<text x="334" y="214">│</text>
<text x="364" y="214">阻</text>
<text x="384" y="214">塞</text>
<text x="404" y="214">等</text>
<text x="424" y="214">待</text>
<text x="444" y="214">.</text>
<text x="454" y="214">.</text>
<text x="464" y="214">.</text>
<text x="564" y="214">│</text>
<text x="714" y="214">│</text>
<text x="34" y="234">│</text>
<text x="64" y="234">└</text>
<text x="74" y="234">─</text>
<text x="84" y="234">─</text>
<text x="94" y="234">─</text>
<text x="104" y="234">─</text>
<text x="114" y="234">─</text>
<text x="124" y="234">─</text>
<text x="134" y="234">─</text>
<text x="144" y="234">─</text>
<text x="154" y="234">─</text>
<text x="164" y="234">─</text>
<text x="174" y="234">┘</text>
<text x="214" y="234">失</text>
<text x="234" y="234">敗</text>
<text x="254" y="234">，</text>
<text x="274" y="234">排</text>
<text x="294" y="234">隊</text>
<text x="344" y="234">│</text>
<text x="374" y="234">░</text>
<text x="384" y="234">░</text>
<text x="394" y="234">░</text>
<text x="404" y="234">░</text>
<text x="414" y="234">░</text>
<text x="424" y="234">░</text>
<text x="434" y="234">░</text>
<text x="444" y="234">░</text>
<text x="454" y="234">░</text>
<text x="464" y="234">░</text>
<text x="474" y="234">░</text>
<text x="484" y="234">░</text>
<text x="494" y="234">░</text>
<text x="504" y="234">░</text>
<text x="564" y="234">│</text>
<text x="714" y="234">│</text>
<text x="34" y="254">│</text>
<text x="334" y="254">└</text>
<text x="344" y="254">─</text>
<text x="354" y="254">─</text>
<text x="364" y="254">─</text>
<text x="374" y="254">─</text>
<text x="384" y="254">─</text>
<text x="394" y="254">─</text>
<text x="404" y="254">─</text>
<text x="414" y="254">─</text>
<text x="424" y="254">─</text>
<text x="434" y="254">─</text>
<text x="444" y="254">─</text>
<text x="454" y="254">─</text>
<text x="464" y="254">─</text>
<text x="474" y="254">─</text>
<text x="484" y="254">─</text>
<text x="494" y="254">─</text>
<text x="504" y="254">─</text>
<text x="514" y="254">─</text>
<text x="524" y="254">─</text>
<text x="534" y="254">─</text>
<text x="544" y="254">─</text>
<text x="554" y="254">─</text>
<text x="564" y="254">┘</text>
<text x="714" y="254">│</text>
<text x="34" y="274">│</text>
<text x="64" y="274">┌</text>
<text x="74" y="274">─</text>
<text x="84" y="274">─</text>
<text x="94" y="274">─</text>
<text x="104" y="274">─</text>
<text x="114" y="274">─</text>
<text x="124" y="274">─</text>
<text x="134" y="274">─</text>
<text x="144" y="274">─</text>
<text x="154" y="274">─</text>
<text x="164" y="274">─</text>
<text x="174" y="274">┐</text>
<text x="234" y="274">l</text>
<text x="244" y="274">o</text>
<text x="254" y="274">c</text>
<text x="264" y="274">k</text>
<text x="274" y="274">(</text>
<text x="284" y="274">)</text>
<text x="334" y="274">┌</text>
<text x="344" y="274">─</text>
<text x="354" y="274">─</text>
<text x="364" y="274">─</text>
<text x="374" y="274">─</text>
<text x="384" y="274">─</text>
<text x="394" y="274">─</text>
<text x="404" y="274">─</text>
<text x="414" y="274">─</text>
<text x="424" y="274">─</text>
<text x="434" y="274">─</text>
<text x="444" y="274">─</text>
<text x="454" y="274">─</text>
<text x="464" y="274">─</text>
<text x="474" y="274">─</text>
<text x="484" y="274">─</text>
<text x="494" y="274">─</text>
<text x="504" y="274">─</text>
<text x="514" y="274">─</text>
<text x="524" y="274">─</text>
<text x="534" y="274">─</text>
<text x="544" y="274">─</text>
<text x="554" y="274">─</text>
<text x="564" y="274">┐</text>
<text x="714" y="274">│</text>
<text x="34" y="294">│</text>
<text x="64" y="294">│</text>
<text x="84" y="294">T</text>
<text x="94" y="294">h</text>
<text x="104" y="294">r</text>
<text x="114" y="294">e</text>
<text x="124" y="294">a</text>
<text x="134" y="294">d</text>
<text x="154" y="294">3</text>
<text x="174" y="294">│</text>
<text x="194" y="294">─</text>
<text x="204" y="294">─</text>
<text x="214" y="294">─</text>
<text x="224" y="294">─</text>
<text x="234" y="294">─</text>
<text x="244" y="294">─</text>
<text x="254" y="294">─</text>
<text x="264" y="294">─</text>
<text x="274" y="294">─</text>
<text x="284" y="294">─</text>
<text x="294" y="294">─</text>
<text x="304" y="294">─</text>
<text x="314" y="294">─</text>
<text x="324" y="294">►</text>
<text x="334" y="294">│</text>
<text x="364" y="294">阻</text>
<text x="384" y="294">塞</text>
<text x="404" y="294">等</text>
<text x="424" y="294">待</text>
<text x="444" y="294">.</text>
<text x="454" y="294">.</text>
<text x="464" y="294">.</text>
<text x="564" y="294">│</text>
<text x="714" y="294">│</text>
<text x="34" y="314">│</text>
<text x="64" y="314">└</text>
<text x="74" y="314">─</text>
<text x="84" y="314">─</text>
<text x="94" y="314">─</text>
<text x="104" y="314">─</text>
<text x="114" y="314">─</text>
<text x="124" y="314">─</text>
<text x="134" y="314">─</text>
<text x="144" y="314">─</text>
<text x="154" y="314">─</text>
<text x="164" y="314">─</text>
<text x="174" y="314">┘</text>
<text x="214" y="314">失</text>
<text x="234" y="314">敗</text>
<text x="254" y="314">，</text>
<text x="274" y="314">排</text>
<text x="294" y="314">隊</text>
<text x="344" y="314">│</text>
<text x="374" y="314">░</text>
<text x="384" y="314">░</text>
<text x="394" y="314">░</text>
<text x="404" y="314">░</text>
<text x="414" y="314">░</text>
<text x="424" y="314">░</text>
<text x="434" y="314">░</text>
<text x="444" y="314">░</text>
<text x="454" y="314">░</text>
<text x="464" y="314">░</text>
<text x="474" y="314">░</text>
<text x="484" y="314">░</text>
<text x="494" y="314">░</text>
<text x="504" y="314">░</text>
<text x="564" y="314">│</text>
<text x="714" y="314">│</text>
<text x="34" y="334">│</text>
<text x="334" y="334">└</text>
<text x="344" y="334">─</text>
<text x="354" y="334">─</text>
<text x="364" y="334">─</text>
<text x="374" y="334">─</text>
<text x="384" y="334">─</text>
<text x="394" y="334">─</text>
<text x="404" y="334">─</text>
<text x="414" y="334">─</text>
<text x="424" y="334">─</text>
<text x="434" y="334">─</text>
<text x="444" y="334">─</text>
<text x="454" y="334">─</text>
<text x="464" y="334">─</text>
<text x="474" y="334">─</text>
<text x="484" y="334">─</text>
<text x="494" y="334">─</text>
<text x="504" y="334">─</text>
<text x="514" y="334">─</text>
<text x="524" y="334">─</text>
<text x="534" y="334">─</text>
<text x="544" y="334">─</text>
<text x="554" y="334">─</text>
<text x="564" y="334">┘</text>
<text x="714" y="334">│</text>
<text x="34" y="354">└</text>
<text x="44" y="354">─</text>
<text x="54" y="354">─</text>
<text x="64" y="354">─</text>
<text x="74" y="354">─</text>
<text x="84" y="354">─</text>
<text x="94" y="354">─</text>
<text x="104" y="354">─</text>
<text x="114" y="354">─</text>
<text x="124" y="354">─</text>
<text x="134" y="354">─</text>
<text x="144" y="354">─</text>
<text x="154" y="354">─</text>
<text x="164" y="354">─</text>
<text x="174" y="354">─</text>
<text x="184" y="354">─</text>
<text x="194" y="354">─</text>
<text x="204" y="354">─</text>
<text x="214" y="354">─</text>
<text x="224" y="354">─</text>
<text x="234" y="354">─</text>
<text x="244" y="354">─</text>
<text x="254" y="354">─</text>
<text x="264" y="354">─</text>
<text x="274" y="354">─</text>
<text x="284" y="354">─</text>
<text x="294" y="354">─</text>
<text x="304" y="354">─</text>
<text x="314" y="354">─</text>
<text x="324" y="354">─</text>
<text x="334" y="354">─</text>
<text x="344" y="354">─</text>
<text x="354" y="354">─</text>
<text x="364" y="354">─</text>
<text x="374" y="354">─</text>
<text x="384" y="354">─</text>
<text x="394" y="354">─</text>
<text x="404" y="354">─</text>
<text x="414" y="354">─</text>
<text x="424" y="354">─</text>
<text x="434" y="354">─</text>
<text x="444" y="354">─</text>
<text x="454" y="354">─</text>
<text x="464" y="354">─</text>
<text x="474" y="354">─</text>
<text x="484" y="354">─</text>
<text x="494" y="354">─</text>
<text x="504" y="354">─</text>
<text x="514" y="354">─</text>
<text x="524" y="354">─</text>
<text x="534" y="354">─</text>
<text x="544" y="354">─</text>
<text x="554" y="354">─</text>
<text x="564" y="354">─</text>
<text x="574" y="354">─</text>
<text x="584" y="354">─</text>
<text x="594" y="354">─</text>
<text x="604" y="354">─</text>
<text x="614" y="354">─</text>
<text x="624" y="354">─</text>
<text x="634" y="354">─</text>
<text x="644" y="354">─</text>
<text x="654" y="354">─</text>
<text x="664" y="354">─</text>
<text x="674" y="354">─</text>
<text x="684" y="354">─</text>
<text x="694" y="354">─</text>
<text x="704" y="354">─</text>
<text x="714" y="354">┘</text>
<text x="34" y="394">鎖</text>
<text x="54" y="394">的</text>
<text x="74" y="394">生</text>
<text x="94" y="394">命</text>
<text x="114" y="394">週</text>
<text x="134" y="394">期</text>
<text x="154" y="394">：</text>
<text x="34" y="434">T</text>
<text x="44" y="434">h</text>
<text x="54" y="434">r</text>
<text x="64" y="434">e</text>
<text x="74" y="434">a</text>
<text x="84" y="434">d</text>
<text x="104" y="434">1</text>
<text x="114" y="434">:</text>
<text x="144" y="434">─</text>
<text x="154" y="434">─</text>
<text x="164" y="434">►</text>
<text x="184" y="434">l</text>
<text x="194" y="434">o</text>
<text x="204" y="434">c</text>
<text x="214" y="434">k</text>
<text x="224" y="434">(</text>
<text x="234" y="434">)</text>
<text x="254" y="434">─</text>
<text x="264" y="434">─</text>
<text x="274" y="434">►</text>
<text x="294" y="434">[</text>
<text x="304" y="434">臨</text>
<text x="324" y="434">界</text>
<text x="344" y="434">區</text>
<text x="364" y="434">]</text>
<text x="384" y="434">─</text>
<text x="394" y="434">─</text>
<text x="404" y="434">►</text>
<text x="424" y="434">u</text>
<text x="434" y="434">n</text>
<text x="444" y="434">l</text>
<text x="454" y="434">o</text>
<text x="464" y="434">c</text>
<text x="474" y="434">k</text>
<text x="484" y="434">(</text>
<text x="494" y="434">)</text>
<text x="514" y="434">─</text>
<text x="524" y="434">─</text>
<text x="534" y="434">►</text>
<text x="444" y="454">│</text>
<text x="714" y="454">│</text>
<text x="194" y="474">│</text>
<text x="214" y="474">獲</text>
<text x="234" y="474">取</text>
<text x="254" y="474">鎖</text>
<text x="274" y="474">（</text>
<text x="294" y="474">進</text>
<text x="314" y="474">入</text>
<text x="334" y="474">）</text>
<text x="474" y="474">│</text>
<text x="494" y="474">釋</text>
<text x="514" y="474">放</text>
<text x="534" y="474">鎖</text>
<text x="194" y="494">▼</text>
<text x="464" y="494">▼</text>
<text x="34" y="514">T</text>
<text x="44" y="514">h</text>
<text x="54" y="514">r</text>
<text x="64" y="514">e</text>
<text x="74" y="514">a</text>
<text x="84" y="514">d</text>
<text x="104" y="514">2</text>
<text x="114" y="514">:</text>
<text x="144" y="514">─</text>
<text x="154" y="514">─</text>
<text x="164" y="514">►</text>
<text x="184" y="514">l</text>
<text x="194" y="514">o</text>
<text x="204" y="514">c</text>
<text x="214" y="514">k</text>
<text x="224" y="514">(</text>
<text x="234" y="514">)</text>
<text x="254" y="514">─</text>
<text x="264" y="514">─</text>
<text x="284" y="514">阻</text>
<text x="304" y="514">塞</text>
<text x="324" y="514">.</text>
<text x="334" y="514">.</text>
<text x="344" y="514">.</text>
<text x="354" y="514">.</text>
<text x="364" y="514">.</text>
<text x="374" y="514">.</text>
<text x="384" y="514">.</text>
<text x="404" y="514">─</text>
<text x="414" y="514">─</text>
<text x="424" y="514">►</text>
<text x="444" y="514">[</text>
<text x="454" y="514">臨</text>
<text x="474" y="514">界</text>
<text x="494" y="514">區</text>
<text x="514" y="514">]</text>
<text x="534" y="514">─</text>
<text x="544" y="514">─</text>
<text x="554" y="514">►</text>
<text x="574" y="514">u</text>
<text x="584" y="514">n</text>
<text x="594" y="514">l</text>
<text x="604" y="514">o</text>
<text x="614" y="514">c</text>
<text x="624" y="514">k</text>
<text x="634" y="514">(</text>
<text x="644" y="514">)</text>
<text x="664" y="514">─</text>
<text x="674" y="514">─</text>
<text x="684" y="514">►</text>
<text x="284" y="534">▲</text>
<text x="444" y="534">▲</text>
<text x="254" y="554">T</text>
<text x="264" y="554">1</text>
<text x="284" y="554">持</text>
<text x="304" y="554">有</text>
<text x="324" y="554">鎖</text>
<text x="344" y="554">時</text>
<text x="444" y="554">T</text>
<text x="454" y="554">1</text>
<text x="474" y="554">u</text>
<text x="484" y="554">n</text>
<text x="494" y="554">l</text>
<text x="504" y="554">o</text>
<text x="514" y="554">c</text>
<text x="524" y="554">k</text>
<text x="544" y="554">後</text>
<text x="254" y="574">T</text>
<text x="264" y="574">2</text>
<text x="284" y="574">被</text>
<text x="304" y="574">阻</text>
<text x="324" y="574">塞</text>
<text x="444" y="574">T</text>
<text x="454" y="574">2</text>
<text x="474" y="574">被</text>
<text x="494" y="574">喚</text>
<text x="514" y="574">醒</text>
<text x="34" y="614">互</text>
<text x="54" y="614">斥</text>
<text x="74" y="614">保</text>
<text x="94" y="614">護</text>
<text x="114" y="614">的</text>
<text x="134" y="614">是</text>
<text x="154" y="614">「</text>
<text x="174" y="614">操</text>
<text x="194" y="614">作</text>
<text x="214" y="614">的</text>
<text x="234" y="614">不</text>
<text x="254" y="614">可</text>
<text x="274" y="614">分</text>
<text x="294" y="614">性</text>
<text x="314" y="614">」</text>
<text x="334" y="614">，</text>
<text x="354" y="614">確</text>
<text x="374" y="614">保</text>
<text x="394" y="614">中</text>
<text x="414" y="614">間</text>
<text x="434" y="614">狀</text>
<text x="454" y="614">態</text>
<text x="474" y="614">不</text>
<text x="494" y="614">被</text>
<text x="514" y="614">其</text>
<text x="534" y="614">他</text>
<text x="554" y="614">執</text>
<text x="574" y="614">行</text>
<text x="594" y="614">緒</text>
<text x="614" y="614">看</text>
<text x="634" y="614">見</text>
<text x="654" y="614">。</text>
</g>
</svg>
</div>
<p>同一時間只允許一個執行單元修改共享資料。</p>
<p>白話例子：結帳金額是共享資源，兩個收銀機同時改同筆訂單會亂掉；互斥鎖好比「正在服務中，請稍候」的牌子。</p>
<h2 id="示意圖"><a class="header" href="#示意圖">示意圖</a></h2>
<div class="ascii-svg-wrap">
<svg class="ascii-svg" xmlns="http://www.w3.org/2000/svg" width="858" height="264" viewBox="0 0 858 264" role="img" aria-label="ASCII diagram">
<g fill="currentColor" font-family="Noto Sans Mono CJK TC, Noto Sans Mono CJK SC, Noto Sans Mono CJK JP, Sarasa Mono TC, Cascadia Mono, JetBrains Mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace" font-size="16" text-rendering="geometricPrecision" xml:space="preserve">
<text x="14" y="14">三</text>
<text x="34" y="14">大</text>
<text x="54" y="14">核</text>
<text x="74" y="14">心</text>
<text x="94" y="14">問</text>
<text x="114" y="14">題</text>
<text x="134" y="14">綜</text>
<text x="154" y="14">合</text>
<text x="174" y="14">示</text>
<text x="194" y="14">意</text>
<text x="214" y="14">（</text>
<text x="234" y="14">P</text>
<text x="244" y="14">i</text>
<text x="254" y="14">p</text>
<text x="264" y="14">e</text>
<text x="274" y="14">l</text>
<text x="284" y="14">i</text>
<text x="294" y="14">n</text>
<text x="304" y="14">e</text>
<text x="324" y="14">+</text>
<text x="344" y="14">同</text>
<text x="364" y="14">步</text>
<text x="394" y="14">+</text>
<text x="414" y="14">互</text>
<text x="434" y="14">斥</text>
<text x="454" y="14">）</text>
<text x="474" y="14">：</text>
<text x="34" y="54">┌</text>
<text x="44" y="54">─</text>
<text x="54" y="54">─</text>
<text x="64" y="54">─</text>
<text x="74" y="54">─</text>
<text x="84" y="54">─</text>
<text x="94" y="54">─</text>
<text x="104" y="54">─</text>
<text x="114" y="54">─</text>
<text x="124" y="54">─</text>
<text x="134" y="54">─</text>
<text x="144" y="54">┐</text>
<text x="224" y="54">Q</text>
<text x="234" y="54">u</text>
<text x="244" y="54">e</text>
<text x="254" y="54">u</text>
<text x="264" y="54">e</text>
<text x="354" y="54">┌</text>
<text x="364" y="54">─</text>
<text x="374" y="54">─</text>
<text x="384" y="54">─</text>
<text x="394" y="54">─</text>
<text x="404" y="54">─</text>
<text x="414" y="54">─</text>
<text x="424" y="54">─</text>
<text x="434" y="54">─</text>
<text x="444" y="54">─</text>
<text x="454" y="54">─</text>
<text x="464" y="54">─</text>
<text x="474" y="54">─</text>
<text x="484" y="54">─</text>
<text x="494" y="54">─</text>
<text x="504" y="54">┐</text>
<text x="574" y="54">Q</text>
<text x="584" y="54">u</text>
<text x="594" y="54">e</text>
<text x="604" y="54">u</text>
<text x="614" y="54">e</text>
<text x="684" y="54">┌</text>
<text x="694" y="54">─</text>
<text x="704" y="54">─</text>
<text x="714" y="54">─</text>
<text x="724" y="54">─</text>
<text x="734" y="54">─</text>
<text x="744" y="54">─</text>
<text x="754" y="54">─</text>
<text x="764" y="54">─</text>
<text x="774" y="54">─</text>
<text x="784" y="54">─</text>
<text x="794" y="54">─</text>
<text x="804" y="54">─</text>
<text x="814" y="54">─</text>
<text x="824" y="54">─</text>
<text x="834" y="54">┐</text>
<text x="34" y="74">│</text>
<text x="54" y="74">P</text>
<text x="64" y="74">r</text>
<text x="74" y="74">o</text>
<text x="84" y="74">d</text>
<text x="94" y="74">u</text>
<text x="104" y="74">c</text>
<text x="114" y="74">e</text>
<text x="124" y="74">r</text>
<text x="144" y="74">│</text>
<text x="164" y="74">─</text>
<text x="174" y="74">─</text>
<text x="184" y="74">─</text>
<text x="194" y="74">─</text>
<text x="204" y="74">─</text>
<text x="214" y="74">─</text>
<text x="224" y="74">─</text>
<text x="234" y="74">─</text>
<text x="244" y="74">─</text>
<text x="254" y="74">─</text>
<text x="264" y="74">─</text>
<text x="274" y="74">─</text>
<text x="284" y="74">─</text>
<text x="294" y="74">─</text>
<text x="304" y="74">─</text>
<text x="314" y="74">─</text>
<text x="324" y="74">─</text>
<text x="334" y="74">─</text>
<text x="344" y="74">►</text>
<text x="354" y="74">│</text>
<text x="404" y="74">B</text>
<text x="414" y="74">u</text>
<text x="424" y="74">f</text>
<text x="434" y="74">f</text>
<text x="444" y="74">e</text>
<text x="454" y="74">r</text>
<text x="504" y="74">│</text>
<text x="514" y="74">─</text>
<text x="524" y="74">─</text>
<text x="534" y="74">─</text>
<text x="544" y="74">─</text>
<text x="554" y="74">─</text>
<text x="564" y="74">─</text>
<text x="574" y="74">─</text>
<text x="584" y="74">─</text>
<text x="594" y="74">─</text>
<text x="604" y="74">─</text>
<text x="614" y="74">─</text>
<text x="624" y="74">─</text>
<text x="634" y="74">─</text>
<text x="644" y="74">─</text>
<text x="654" y="74">─</text>
<text x="664" y="74">►</text>
<text x="684" y="74">│</text>
<text x="704" y="74">C</text>
<text x="714" y="74">o</text>
<text x="724" y="74">n</text>
<text x="734" y="74">s</text>
<text x="744" y="74">u</text>
<text x="754" y="74">m</text>
<text x="764" y="74">e</text>
<text x="774" y="74">r</text>
<text x="834" y="74">│</text>
<text x="34" y="94">│</text>
<text x="64" y="94">T</text>
<text x="74" y="94">h</text>
<text x="84" y="94">r</text>
<text x="94" y="94">e</text>
<text x="104" y="94">a</text>
<text x="114" y="94">d</text>
<text x="144" y="94">│</text>
<text x="174" y="94">(</text>
<text x="184" y="94">互</text>
<text x="204" y="94">斥</text>
<text x="224" y="94">：</text>
<text x="244" y="94">每</text>
<text x="264" y="94">次</text>
<text x="284" y="94">只</text>
<text x="304" y="94">有</text>
<text x="354" y="94">│</text>
<text x="384" y="94">(</text>
<text x="394" y="94">同</text>
<text x="414" y="94">步</text>
<text x="434" y="94">：</text>
<text x="514" y="94">│</text>
<text x="534" y="94">(</text>
<text x="544" y="94">互</text>
<text x="564" y="94">斥</text>
<text x="584" y="94">：</text>
<text x="604" y="94">每</text>
<text x="624" y="94">次</text>
<text x="644" y="94">只</text>
<text x="664" y="94">有</text>
<text x="704" y="94">│</text>
<text x="734" y="94">T</text>
<text x="744" y="94">h</text>
<text x="754" y="94">r</text>
<text x="764" y="94">e</text>
<text x="774" y="94">a</text>
<text x="784" y="94">d</text>
<text x="834" y="94">│</text>
<text x="34" y="114">│</text>
<text x="54" y="114">生</text>
<text x="74" y="114">產</text>
<text x="94" y="114">資</text>
<text x="114" y="114">料</text>
<text x="154" y="114">│</text>
<text x="194" y="114">一</text>
<text x="214" y="114">個</text>
<text x="234" y="114">寫</text>
<text x="254" y="114">入</text>
<text x="274" y="114">者</text>
<text x="294" y="114">)</text>
<text x="364" y="114">│</text>
<text x="394" y="114">B</text>
<text x="404" y="114">u</text>
<text x="414" y="114">f</text>
<text x="424" y="114">f</text>
<text x="434" y="114">e</text>
<text x="444" y="114">r</text>
<text x="464" y="114">非</text>
<text x="484" y="114">空</text>
<text x="524" y="114">│</text>
<text x="554" y="114">一</text>
<text x="574" y="114">個</text>
<text x="594" y="114">讀</text>
<text x="614" y="114">取</text>
<text x="634" y="114">者</text>
<text x="654" y="114">)</text>
<text x="714" y="114">│</text>
<text x="734" y="114">消</text>
<text x="754" y="114">費</text>
<text x="774" y="114">資</text>
<text x="794" y="114">料</text>
<text x="834" y="114">│</text>
<text x="34" y="134">└</text>
<text x="44" y="134">─</text>
<text x="54" y="134">─</text>
<text x="64" y="134">─</text>
<text x="74" y="134">─</text>
<text x="84" y="134">─</text>
<text x="94" y="134">─</text>
<text x="104" y="134">─</text>
<text x="114" y="134">─</text>
<text x="124" y="134">─</text>
<text x="134" y="134">─</text>
<text x="144" y="134">┘</text>
<text x="354" y="134">│</text>
<text x="384" y="134">才</text>
<text x="404" y="134">能</text>
<text x="424" y="134">消</text>
<text x="444" y="134">費</text>
<text x="464" y="134">）</text>
<text x="514" y="134">│</text>
<text x="694" y="134">└</text>
<text x="704" y="134">─</text>
<text x="714" y="134">─</text>
<text x="724" y="134">─</text>
<text x="734" y="134">─</text>
<text x="744" y="134">─</text>
<text x="754" y="134">─</text>
<text x="764" y="134">─</text>
<text x="774" y="134">─</text>
<text x="784" y="134">─</text>
<text x="794" y="134">─</text>
<text x="804" y="134">─</text>
<text x="814" y="134">─</text>
<text x="824" y="134">─</text>
<text x="834" y="134">┘</text>
<text x="354" y="154">└</text>
<text x="364" y="154">─</text>
<text x="374" y="154">─</text>
<text x="384" y="154">─</text>
<text x="394" y="154">─</text>
<text x="404" y="154">─</text>
<text x="414" y="154">─</text>
<text x="424" y="154">─</text>
<text x="434" y="154">─</text>
<text x="444" y="154">─</text>
<text x="454" y="154">─</text>
<text x="464" y="154">─</text>
<text x="474" y="154">─</text>
<text x="484" y="154">─</text>
<text x="494" y="154">─</text>
<text x="504" y="154">─</text>
<text x="514" y="154">─</text>
<text x="524" y="154">─</text>
<text x="534" y="154">─</text>
<text x="544" y="154">─</text>
<text x="554" y="154">─</text>
<text x="564" y="154">─</text>
<text x="574" y="154">─</text>
<text x="584" y="154">─</text>
<text x="594" y="154">─</text>
<text x="604" y="154">─</text>
<text x="614" y="154">─</text>
<text x="624" y="154">─</text>
<text x="634" y="154">─</text>
<text x="644" y="154">─</text>
<text x="654" y="154">─</text>
<text x="664" y="154">─</text>
<text x="674" y="154">─</text>
<text x="684" y="154">─</text>
<text x="694" y="154">─</text>
<text x="704" y="154">─</text>
<text x="714" y="154">─</text>
<text x="724" y="154">─</text>
<text x="734" y="154">─</text>
<text x="744" y="154">─</text>
<text x="754" y="154">─</text>
<text x="764" y="154">─</text>
<text x="774" y="154">─</text>
<text x="784" y="154">─</text>
<text x="794" y="154">─</text>
<text x="804" y="154">─</text>
<text x="814" y="154">─</text>
<text x="824" y="154">─</text>
<text x="834" y="154">┘</text>
<text x="34" y="194">分</text>
<text x="54" y="194">工</text>
<text x="74" y="194">：</text>
<text x="94" y="194">P</text>
<text x="104" y="194">r</text>
<text x="114" y="194">o</text>
<text x="124" y="194">d</text>
<text x="134" y="194">u</text>
<text x="144" y="194">c</text>
<text x="154" y="194">e</text>
<text x="164" y="194">r</text>
<text x="184" y="194">和</text>
<text x="214" y="194">C</text>
<text x="224" y="194">o</text>
<text x="234" y="194">n</text>
<text x="244" y="194">s</text>
<text x="254" y="194">u</text>
<text x="264" y="194">m</text>
<text x="274" y="194">e</text>
<text x="284" y="194">r</text>
<text x="304" y="194">各</text>
<text x="324" y="194">自</text>
<text x="344" y="194">獨</text>
<text x="364" y="194">立</text>
<text x="384" y="194">執</text>
<text x="404" y="194">行</text>
<text x="424" y="194">（</text>
<text x="444" y="194">分</text>
<text x="464" y="194">工</text>
<text x="484" y="194">）</text>
<text x="34" y="214">同</text>
<text x="54" y="214">步</text>
<text x="74" y="214">：</text>
<text x="94" y="214">C</text>
<text x="104" y="214">o</text>
<text x="114" y="214">n</text>
<text x="124" y="214">s</text>
<text x="134" y="214">u</text>
<text x="144" y="214">m</text>
<text x="154" y="214">e</text>
<text x="164" y="214">r</text>
<text x="184" y="214">等</text>
<text x="204" y="214">待</text>
<text x="234" y="214">B</text>
<text x="244" y="214">u</text>
<text x="254" y="214">f</text>
<text x="264" y="214">f</text>
<text x="274" y="214">e</text>
<text x="284" y="214">r</text>
<text x="304" y="214">有</text>
<text x="324" y="214">資</text>
<text x="344" y="214">料</text>
<text x="364" y="214">（</text>
<text x="384" y="214">同</text>
<text x="404" y="214">步</text>
<text x="424" y="214">）</text>
<text x="34" y="234">互</text>
<text x="54" y="234">斥</text>
<text x="74" y="234">：</text>
<text x="94" y="234">B</text>
<text x="104" y="234">u</text>
<text x="114" y="234">f</text>
<text x="124" y="234">f</text>
<text x="134" y="234">e</text>
<text x="144" y="234">r</text>
<text x="164" y="234">的</text>
<text x="184" y="234">讀</text>
<text x="204" y="234">寫</text>
<text x="224" y="234">必</text>
<text x="244" y="234">須</text>
<text x="264" y="234">互</text>
<text x="284" y="234">斥</text>
<text x="304" y="234">，</text>
<text x="324" y="234">防</text>
<text x="344" y="234">止</text>
<text x="364" y="234">資</text>
<text x="384" y="234">料</text>
<text x="404" y="234">損</text>
<text x="424" y="234">毀</text>
<text x="444" y="234">（</text>
<text x="464" y="234">互</text>
<text x="484" y="234">斥</text>
<text x="504" y="234">）</text>
</g>
</svg>
</div>
<h2 id="跨語言完整範例"><a class="header" href="#跨語言完整範例">跨語言完整範例</a></h2>
<p>三執行緒 Pipeline（Producer → Buffer → Consumer），展示分工 + 同步 + 互斥。</p>
<h3 id="cpthread--condition-variable"><a class="header" href="#cpthread--condition-variable">C（pthread + condition variable）</a></h3>
<pre><code class="language-c">#include &lt;pthread.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#define BUFFER_SIZE 8
#define ITEMS 10

int buffer[BUFFER_SIZE];
int head = 0, tail = 0, count = 0;
int done = 0;

pthread_mutex_t mu = PTHREAD_MUTEX_INITIALIZER;
pthread_cond_t not_full  = PTHREAD_COND_INITIALIZER;
pthread_cond_t not_empty = PTHREAD_COND_INITIALIZER;

void *producer(void *arg) {
    for (int i = 0; i &lt; ITEMS; i++) {
        pthread_mutex_lock(&amp;mu);
        while (count == BUFFER_SIZE)
            pthread_cond_wait(&amp;not_full, &amp;mu);
        buffer[tail] = i;
        tail = (tail + 1) % BUFFER_SIZE;
        count++;
        printf("[Producer] put %d\n", i);
        pthread_cond_signal(&amp;not_empty);
        pthread_mutex_unlock(&amp;mu);
    }
    pthread_mutex_lock(&amp;mu);
    done = 1;
    pthread_cond_signal(&amp;not_empty);
    pthread_mutex_unlock(&amp;mu);
    return NULL;
}

void *consumer(void *arg) {
    while (1) {
        pthread_mutex_lock(&amp;mu);
        while (count == 0 &amp;&amp; !done)
            pthread_cond_wait(&amp;not_empty, &amp;mu);
        if (count == 0 &amp;&amp; done) { pthread_mutex_unlock(&amp;mu); break; }
        int val = buffer[head];
        head = (head + 1) % BUFFER_SIZE;
        count--;
        printf("[Consumer] got %d\n", val);
        pthread_cond_signal(&amp;not_full);
        pthread_mutex_unlock(&amp;mu);
    }
    return NULL;
}

int main(void) {
    pthread_t p, c;
    pthread_create(&amp;p, NULL, producer, NULL);
    pthread_create(&amp;c, NULL, consumer, NULL);
    pthread_join(p, NULL);
    pthread_join(c, NULL);
    return 0;
}
</code></pre>
<pre><code class="language-bash">gcc -o pipeline pipeline.c -lpthread &amp;&amp; ./pipeline
</code></pre>
<h3 id="cstdthread--condition_variable"><a class="header" href="#cstdthread--condition_variable">C++（std::thread + condition_variable）</a></h3>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;thread&gt;
#include &lt;queue&gt;
#include &lt;mutex&gt;
#include &lt;condition_variable&gt;

const int ITEMS = 10;
std::queue&lt;int&gt; buffer;
std::mutex mu;
std::condition_variable not_empty;
bool producer_done = false;

void producer() {
    for (int i = 0; i &lt; ITEMS; i++) {
        std::unique_lock&lt;std::mutex&gt; lock(mu);
        buffer.push(i);
        std::cout &lt;&lt; "[Producer] put " &lt;&lt; i &lt;&lt; "\n";
        not_empty.notify_one();
    }
    std::unique_lock&lt;std::mutex&gt; lock(mu);
    producer_done = true;
    not_empty.notify_all();
}

void consumer() {
    while (true) {
        std::unique_lock&lt;std::mutex&gt; lock(mu);
        not_empty.wait(lock, [] { return !buffer.empty() || producer_done; });
        if (buffer.empty()) break;
        int val = buffer.front(); buffer.pop();
        std::cout &lt;&lt; "[Consumer] got " &lt;&lt; val &lt;&lt; "\n";
    }
}

int main() {
    std::thread p(producer), c(consumer);
    p.join(); c.join();
}
</code></pre>
<pre><code class="language-bash">g++ -std=c++17 -o pipeline pipeline.cpp -lpthread &amp;&amp; ./pipeline
</code></pre>
<h3 id="ruststdsyncmpsc-channel"><a class="header" href="#ruststdsyncmpsc-channel">Rust（std::sync::mpsc channel）</a></h3>
<pre><pre class="playground"><code class="language-rust">use std::sync::mpsc;
use std::thread;
use std::time::Duration;

const ITEMS: i32 = 10;

fn main() {
    let (tx, rx) = mpsc::channel::&lt;i32&gt;();

    let producer = thread::spawn(move || {
        for i in 0..ITEMS {
            println!("[Producer] put {}", i);
            tx.send(i).unwrap();
            thread::sleep(Duration::from_millis(10));
        }
        // tx 在此 drop，channel 自動關閉
    });

    let consumer = thread::spawn(move || {
        for val in rx {   // rx 迭代到 channel 關閉為止
            println!("[Consumer] got {}", val);
        }
        println!("[Consumer] done");
    });

    producer.join().unwrap();
    consumer.join().unwrap();
}</code></pre></pre>
<pre><code class="language-bash">cargo run
</code></pre>
<h3 id="gogoroutine--channel"><a class="header" href="#gogoroutine--channel">Go（goroutine + channel）</a></h3>
<pre><code class="language-go">package main

import (
    "fmt"
    "time"
)

const items = 10

func producer(ch chan&lt;- int) {
    for i := 0; i &lt; items; i++ {
        fmt.Printf("[Producer] put %d\n", i)
        ch &lt;- i
        time.Sleep(10 * time.Millisecond)
    }
    close(ch)
}

func consumer(ch &lt;-chan int) {
    for val := range ch {
        fmt.Printf("[Consumer] got %d\n", val)
    }
    fmt.Println("[Consumer] done")
}

func main() {
    ch := make(chan int, 4)  // 緩衝 channel 作為 buffer
    go producer(ch)
    consumer(ch)             // 主 goroutine 當 consumer
}
</code></pre>
<pre><code class="language-bash">go run main.go
</code></pre>
<h3 id="pythonqueuequeue--threading"><a class="header" href="#pythonqueuequeue--threading">Python（queue.Queue + threading）</a></h3>
<pre><code class="language-python">import queue
import threading

ITEMS = 10
buf: queue.Queue[int] = queue.Queue(maxsize=4)

def producer():
    for i in range(ITEMS):
        buf.put(i)                   # 滿了就阻塞（同步）
        print(f"[Producer] put {i}")
    buf.put(None)                    # 哨兵值通知結束

def consumer():
    while True:
        val = buf.get()              # 空了就阻塞（同步）
        if val is None:
            break
        print(f"[Consumer] got {val}")
    print("[Consumer] done")

if __name__ == "__main__":
    t_prod = threading.Thread(target=producer)
    t_cons = threading.Thread(target=consumer)
    t_prod.start()
    t_cons.start()
    t_prod.join()
    t_cons.join()
</code></pre>
<pre><code class="language-bash">python3 pipeline.py
</code></pre>
<h2 id="完整專案級範例python"><a class="header" href="#完整專案級範例python">完整專案級範例（Python）</a></h2>
<p>檔案：<code>examples/python/ch03.py</code></p>
<pre><code class="language-bash">python3 examples/python/ch03.py
</code></pre>
<pre><code class="language-python">"""Chapter 03: split work + sync.

展示三大核心問題：
1. 分工：Producer 和 Consumer 各自獨立執行
2. 同步：Consumer 等待 Buffer 有資料（queue.Queue 內建阻塞語意）
3. 互斥：Queue 內部使用鎖保護 Buffer 讀寫
"""
import queue
import threading

buf: queue.Queue[int] = queue.Queue()
barrier = threading.Barrier(3)


def worker(name: str):
    s = 0
    while True:
        try:
            s += buf.get_nowait()
        except queue.Empty:
            break
    print(name, "partial=", s)
    barrier.wait()


if __name__ == "__main__":
    for i in range(1, 11):
        buf.put(i)
    ts = [threading.Thread(target=worker, args=(f"W{i}",)) for i in (1, 2)]
    for t in ts:
        t.start()
    barrier.wait()
    print("all workers reached sync point")
    for t in ts:
        t.join()
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="ch02-basics-risks.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="ch04-atomic-visibility-order.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="ch02-basics-risks.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="ch04-atomic-visibility-order.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
