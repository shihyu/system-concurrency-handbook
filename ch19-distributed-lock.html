<!DOCTYPE HTML>
<html lang="zh-TW" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>第19章 分散式鎖架構 - 高並發編程通用概念（跨 Java/C++/Rust/Go）</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/ascii-diagram.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">高並發編程通用概念（跨 Java/C++/Rust/Go）</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="第19章-分散式鎖架構"><a class="header" href="#第19章-分散式鎖架構">第19章 分散式鎖架構</a></h1>
<h2 id="191-為什麼需要分散式鎖"><a class="header" href="#191-為什麼需要分散式鎖">19.1 為什麼需要分散式鎖</a></h2>
<!-- subsection-diagram -->
<h3 id="本小節示意圖"><a class="header" href="#本小節示意圖">本小節示意圖</a></h3>
<div class="ascii-svg-wrap">
<svg class="ascii-svg" xmlns="http://www.w3.org/2000/svg" width="658" height="1044" viewBox="0 0 658 1044" role="img" aria-label="ASCII diagram">
<g fill="currentColor" font-family="Noto Sans Mono CJK TC, Noto Sans Mono CJK SC, Noto Sans Mono CJK JP, Sarasa Mono TC, Cascadia Mono, JetBrains Mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace" font-size="16" text-rendering="geometricPrecision" xml:space="preserve">
<text x="14" y="14">單</text>
<text x="34" y="14">節</text>
<text x="54" y="14">點</text>
<text x="84" y="14">v</text>
<text x="94" y="14">s</text>
<text x="114" y="14">多</text>
<text x="134" y="14">節</text>
<text x="154" y="14">點</text>
<text x="174" y="14">鎖</text>
<text x="194" y="14">的</text>
<text x="214" y="14">邊</text>
<text x="234" y="14">界</text>
<text x="34" y="54">─</text>
<text x="44" y="54">─</text>
<text x="54" y="54">─</text>
<text x="74" y="54">單</text>
<text x="94" y="54">節</text>
<text x="114" y="54">點</text>
<text x="134" y="54">（</text>
<text x="154" y="54">J</text>
<text x="164" y="54">V</text>
<text x="174" y="54">M</text>
<text x="194" y="54">M</text>
<text x="204" y="54">u</text>
<text x="214" y="54">t</text>
<text x="224" y="54">e</text>
<text x="234" y="54">x</text>
<text x="254" y="54">夠</text>
<text x="274" y="54">用</text>
<text x="294" y="54">）</text>
<text x="314" y="54">─</text>
<text x="324" y="54">─</text>
<text x="334" y="54">─</text>
<text x="344" y="54">─</text>
<text x="354" y="54">─</text>
<text x="364" y="54">─</text>
<text x="374" y="54">─</text>
<text x="384" y="54">─</text>
<text x="394" y="54">─</text>
<text x="404" y="54">─</text>
<text x="414" y="54">─</text>
<text x="424" y="54">─</text>
<text x="434" y="54">─</text>
<text x="444" y="54">─</text>
<text x="454" y="54">─</text>
<text x="464" y="54">─</text>
<text x="474" y="54">─</text>
<text x="484" y="54">─</text>
<text x="494" y="54">─</text>
<text x="504" y="54">─</text>
<text x="514" y="54">─</text>
<text x="524" y="54">─</text>
<text x="534" y="54">─</text>
<text x="544" y="54">─</text>
<text x="554" y="54">─</text>
<text x="564" y="54">─</text>
<text x="574" y="54">─</text>
<text x="584" y="54">─</text>
<text x="594" y="54">─</text>
<text x="604" y="54">─</text>
<text x="614" y="54">─</text>
<text x="624" y="54">─</text>
<text x="634" y="54">─</text>
<text x="34" y="94">┌</text>
<text x="44" y="94">─</text>
<text x="54" y="94">─</text>
<text x="64" y="94">─</text>
<text x="74" y="94">─</text>
<text x="84" y="94">─</text>
<text x="94" y="94">─</text>
<text x="104" y="94">─</text>
<text x="114" y="94">─</text>
<text x="124" y="94">─</text>
<text x="134" y="94">─</text>
<text x="144" y="94">─</text>
<text x="154" y="94">─</text>
<text x="164" y="94">─</text>
<text x="174" y="94">─</text>
<text x="184" y="94">─</text>
<text x="194" y="94">─</text>
<text x="204" y="94">─</text>
<text x="214" y="94">─</text>
<text x="224" y="94">─</text>
<text x="234" y="94">─</text>
<text x="244" y="94">─</text>
<text x="254" y="94">─</text>
<text x="264" y="94">─</text>
<text x="274" y="94">─</text>
<text x="284" y="94">─</text>
<text x="294" y="94">─</text>
<text x="304" y="94">─</text>
<text x="314" y="94">─</text>
<text x="324" y="94">─</text>
<text x="334" y="94">─</text>
<text x="344" y="94">─</text>
<text x="354" y="94">─</text>
<text x="364" y="94">─</text>
<text x="374" y="94">─</text>
<text x="384" y="94">─</text>
<text x="394" y="94">─</text>
<text x="404" y="94">─</text>
<text x="414" y="94">─</text>
<text x="424" y="94">─</text>
<text x="434" y="94">─</text>
<text x="444" y="94">─</text>
<text x="454" y="94">─</text>
<text x="464" y="94">─</text>
<text x="474" y="94">─</text>
<text x="484" y="94">─</text>
<text x="494" y="94">─</text>
<text x="504" y="94">─</text>
<text x="514" y="94">─</text>
<text x="524" y="94">─</text>
<text x="534" y="94">─</text>
<text x="544" y="94">─</text>
<text x="554" y="94">─</text>
<text x="564" y="94">─</text>
<text x="574" y="94">─</text>
<text x="584" y="94">─</text>
<text x="594" y="94">─</text>
<text x="604" y="94">─</text>
<text x="614" y="94">─</text>
<text x="624" y="94">─</text>
<text x="634" y="94">┐</text>
<text x="34" y="114">│</text>
<text x="154" y="114">A</text>
<text x="164" y="114">p</text>
<text x="174" y="114">p</text>
<text x="194" y="114">I</text>
<text x="204" y="114">n</text>
<text x="214" y="114">s</text>
<text x="224" y="114">t</text>
<text x="234" y="114">a</text>
<text x="244" y="114">n</text>
<text x="254" y="114">c</text>
<text x="264" y="114">e</text>
<text x="634" y="114">│</text>
<text x="244" y="134">│</text>
<text x="634" y="134">│</text>
<text x="34" y="154">│</text>
<text x="64" y="154">T</text>
<text x="74" y="154">h</text>
<text x="84" y="154">r</text>
<text x="94" y="154">e</text>
<text x="104" y="154">a</text>
<text x="114" y="154">d</text>
<text x="134" y="154">A</text>
<text x="154" y="154">─</text>
<text x="164" y="154">─</text>
<text x="174" y="154">─</text>
<text x="184" y="154">─</text>
<text x="194" y="154">─</text>
<text x="204" y="154">─</text>
<text x="214" y="154">─</text>
<text x="224" y="154">─</text>
<text x="234" y="154">─</text>
<text x="244" y="154">─</text>
<text x="254" y="154">─</text>
<text x="264" y="154">─</text>
<text x="274" y="154">─</text>
<text x="284" y="154">─</text>
<text x="294" y="154">─</text>
<text x="304" y="154">─</text>
<text x="314" y="154">─</text>
<text x="324" y="154">─</text>
<text x="334" y="154">─</text>
<text x="344" y="154">─</text>
<text x="354" y="154">─</text>
<text x="364" y="154">─</text>
<text x="374" y="154">─</text>
<text x="384" y="154">┐</text>
<text x="634" y="154">│</text>
<text x="34" y="174">│</text>
<text x="174" y="174">├</text>
<text x="184" y="174">─</text>
<text x="194" y="174">►</text>
<text x="214" y="174">[</text>
<text x="224" y="174">J</text>
<text x="234" y="174">V</text>
<text x="244" y="174">M</text>
<text x="264" y="174">M</text>
<text x="274" y="174">u</text>
<text x="284" y="174">t</text>
<text x="294" y="174">e</text>
<text x="304" y="174">x</text>
<text x="314" y="174">]</text>
<text x="334" y="174">─</text>
<text x="344" y="174">►</text>
<text x="364" y="174">D</text>
<text x="374" y="174">B</text>
<text x="634" y="174">│</text>
<text x="34" y="194">│</text>
<text x="64" y="194">T</text>
<text x="74" y="194">h</text>
<text x="84" y="194">r</text>
<text x="94" y="194">e</text>
<text x="104" y="194">a</text>
<text x="114" y="194">d</text>
<text x="134" y="194">B</text>
<text x="154" y="194">─</text>
<text x="164" y="194">─</text>
<text x="174" y="194">─</text>
<text x="184" y="194">─</text>
<text x="194" y="194">─</text>
<text x="204" y="194">─</text>
<text x="214" y="194">─</text>
<text x="224" y="194">─</text>
<text x="234" y="194">─</text>
<text x="244" y="194">─</text>
<text x="254" y="194">─</text>
<text x="264" y="194">─</text>
<text x="274" y="194">─</text>
<text x="284" y="194">─</text>
<text x="294" y="194">─</text>
<text x="304" y="194">─</text>
<text x="314" y="194">─</text>
<text x="324" y="194">─</text>
<text x="334" y="194">─</text>
<text x="344" y="194">─</text>
<text x="354" y="194">─</text>
<text x="364" y="194">─</text>
<text x="374" y="194">─</text>
<text x="384" y="194">┘</text>
<text x="634" y="194">│</text>
<text x="34" y="214">│</text>
<text x="74" y="214">(</text>
<text x="84" y="214">等</text>
<text x="104" y="214">待</text>
<text x="124" y="214">)</text>
<text x="634" y="214">│</text>
<text x="34" y="234">└</text>
<text x="44" y="234">─</text>
<text x="54" y="234">─</text>
<text x="64" y="234">─</text>
<text x="74" y="234">─</text>
<text x="84" y="234">─</text>
<text x="94" y="234">─</text>
<text x="104" y="234">─</text>
<text x="114" y="234">─</text>
<text x="124" y="234">─</text>
<text x="134" y="234">─</text>
<text x="144" y="234">─</text>
<text x="154" y="234">─</text>
<text x="164" y="234">─</text>
<text x="174" y="234">─</text>
<text x="184" y="234">─</text>
<text x="194" y="234">─</text>
<text x="204" y="234">─</text>
<text x="214" y="234">─</text>
<text x="224" y="234">─</text>
<text x="234" y="234">─</text>
<text x="244" y="234">─</text>
<text x="254" y="234">─</text>
<text x="264" y="234">─</text>
<text x="274" y="234">─</text>
<text x="284" y="234">─</text>
<text x="294" y="234">─</text>
<text x="304" y="234">─</text>
<text x="314" y="234">─</text>
<text x="324" y="234">─</text>
<text x="334" y="234">─</text>
<text x="344" y="234">─</text>
<text x="354" y="234">─</text>
<text x="364" y="234">─</text>
<text x="374" y="234">─</text>
<text x="384" y="234">─</text>
<text x="394" y="234">─</text>
<text x="404" y="234">─</text>
<text x="414" y="234">─</text>
<text x="424" y="234">─</text>
<text x="434" y="234">─</text>
<text x="444" y="234">─</text>
<text x="454" y="234">─</text>
<text x="464" y="234">─</text>
<text x="474" y="234">─</text>
<text x="484" y="234">─</text>
<text x="494" y="234">─</text>
<text x="504" y="234">─</text>
<text x="514" y="234">─</text>
<text x="524" y="234">─</text>
<text x="534" y="234">─</text>
<text x="544" y="234">─</text>
<text x="554" y="234">─</text>
<text x="564" y="234">─</text>
<text x="574" y="234">─</text>
<text x="584" y="234">─</text>
<text x="594" y="234">─</text>
<text x="604" y="234">─</text>
<text x="614" y="234">─</text>
<text x="624" y="234">─</text>
<text x="634" y="234">┘</text>
<text x="34" y="254">✓</text>
<text x="54" y="254">同</text>
<text x="74" y="254">一</text>
<text x="104" y="254">J</text>
<text x="114" y="254">V</text>
<text x="124" y="254">M</text>
<text x="144" y="254">內</text>
<text x="164" y="254">，</text>
<text x="184" y="254">m</text>
<text x="194" y="254">u</text>
<text x="204" y="254">t</text>
<text x="214" y="254">e</text>
<text x="224" y="254">x</text>
<text x="244" y="254">可</text>
<text x="264" y="254">保</text>
<text x="284" y="254">護</text>
<text x="304" y="254">共</text>
<text x="324" y="254">享</text>
<text x="344" y="254">資</text>
<text x="364" y="254">源</text>
<text x="34" y="294">─</text>
<text x="44" y="294">─</text>
<text x="54" y="294">─</text>
<text x="74" y="294">多</text>
<text x="94" y="294">節</text>
<text x="114" y="294">點</text>
<text x="134" y="294">（</text>
<text x="154" y="294">J</text>
<text x="164" y="294">V</text>
<text x="174" y="294">M</text>
<text x="194" y="294">M</text>
<text x="204" y="294">u</text>
<text x="214" y="294">t</text>
<text x="224" y="294">e</text>
<text x="234" y="294">x</text>
<text x="254" y="294">失</text>
<text x="274" y="294">效</text>
<text x="294" y="294">）</text>
<text x="314" y="294">─</text>
<text x="324" y="294">─</text>
<text x="334" y="294">─</text>
<text x="344" y="294">─</text>
<text x="354" y="294">─</text>
<text x="364" y="294">─</text>
<text x="374" y="294">─</text>
<text x="384" y="294">─</text>
<text x="394" y="294">─</text>
<text x="404" y="294">─</text>
<text x="414" y="294">─</text>
<text x="424" y="294">─</text>
<text x="434" y="294">─</text>
<text x="444" y="294">─</text>
<text x="454" y="294">─</text>
<text x="464" y="294">─</text>
<text x="474" y="294">─</text>
<text x="484" y="294">─</text>
<text x="494" y="294">─</text>
<text x="504" y="294">─</text>
<text x="514" y="294">─</text>
<text x="524" y="294">─</text>
<text x="534" y="294">─</text>
<text x="544" y="294">─</text>
<text x="554" y="294">─</text>
<text x="564" y="294">─</text>
<text x="574" y="294">─</text>
<text x="584" y="294">─</text>
<text x="594" y="294">─</text>
<text x="604" y="294">─</text>
<text x="614" y="294">─</text>
<text x="624" y="294">─</text>
<text x="34" y="334">┌</text>
<text x="44" y="334">─</text>
<text x="54" y="334">─</text>
<text x="64" y="334">─</text>
<text x="74" y="334">─</text>
<text x="84" y="334">─</text>
<text x="94" y="334">─</text>
<text x="104" y="334">─</text>
<text x="114" y="334">─</text>
<text x="124" y="334">─</text>
<text x="134" y="334">─</text>
<text x="144" y="334">─</text>
<text x="154" y="334">─</text>
<text x="164" y="334">─</text>
<text x="174" y="334">─</text>
<text x="184" y="334">─</text>
<text x="194" y="334">─</text>
<text x="204" y="334">─</text>
<text x="214" y="334">─</text>
<text x="224" y="334">─</text>
<text x="234" y="334">─</text>
<text x="244" y="334">─</text>
<text x="254" y="334">┐</text>
<text x="334" y="334">┌</text>
<text x="344" y="334">─</text>
<text x="354" y="334">─</text>
<text x="364" y="334">─</text>
<text x="374" y="334">─</text>
<text x="384" y="334">─</text>
<text x="394" y="334">─</text>
<text x="404" y="334">─</text>
<text x="414" y="334">─</text>
<text x="424" y="334">─</text>
<text x="434" y="334">─</text>
<text x="444" y="334">─</text>
<text x="454" y="334">─</text>
<text x="464" y="334">─</text>
<text x="474" y="334">─</text>
<text x="484" y="334">─</text>
<text x="494" y="334">─</text>
<text x="504" y="334">─</text>
<text x="514" y="334">─</text>
<text x="524" y="334">─</text>
<text x="534" y="334">─</text>
<text x="544" y="334">─</text>
<text x="554" y="334">─</text>
<text x="564" y="334">─</text>
<text x="574" y="334">─</text>
<text x="584" y="334">─</text>
<text x="594" y="334">─</text>
<text x="604" y="334">─</text>
<text x="614" y="334">─</text>
<text x="624" y="334">─</text>
<text x="634" y="334">┐</text>
<text x="34" y="354">│</text>
<text x="74" y="354">A</text>
<text x="84" y="354">p</text>
<text x="94" y="354">p</text>
<text x="114" y="354">I</text>
<text x="124" y="354">n</text>
<text x="134" y="354">s</text>
<text x="144" y="354">t</text>
<text x="154" y="354">a</text>
<text x="164" y="354">n</text>
<text x="174" y="354">c</text>
<text x="184" y="354">e</text>
<text x="204" y="354">1</text>
<text x="254" y="354">│</text>
<text x="334" y="354">│</text>
<text x="374" y="354">A</text>
<text x="384" y="354">p</text>
<text x="394" y="354">p</text>
<text x="414" y="354">I</text>
<text x="424" y="354">n</text>
<text x="434" y="354">s</text>
<text x="444" y="354">t</text>
<text x="454" y="354">a</text>
<text x="464" y="354">n</text>
<text x="474" y="354">c</text>
<text x="484" y="354">e</text>
<text x="504" y="354">2</text>
<text x="634" y="354">│</text>
<text x="114" y="374">│</text>
<text x="334" y="374">│</text>
<text x="414" y="374">│</text>
<text x="634" y="374">│</text>
<text x="34" y="394">│</text>
<text x="64" y="394">[</text>
<text x="74" y="394">J</text>
<text x="84" y="394">V</text>
<text x="94" y="394">M</text>
<text x="114" y="394">L</text>
<text x="124" y="394">o</text>
<text x="134" y="394">c</text>
<text x="144" y="394">k</text>
<text x="164" y="394">A</text>
<text x="174" y="394">]</text>
<text x="254" y="394">│</text>
<text x="334" y="394">│</text>
<text x="364" y="394">[</text>
<text x="374" y="394">J</text>
<text x="384" y="394">V</text>
<text x="394" y="394">M</text>
<text x="414" y="394">L</text>
<text x="424" y="394">o</text>
<text x="434" y="394">c</text>
<text x="444" y="394">k</text>
<text x="464" y="394">B</text>
<text x="474" y="394">]</text>
<text x="634" y="394">│</text>
<text x="34" y="414">│</text>
<text x="64" y="414">↑</text>
<text x="84" y="414">只</text>
<text x="104" y="414">保</text>
<text x="124" y="414">護</text>
<text x="144" y="414">本</text>
<text x="174" y="414">J</text>
<text x="184" y="414">V</text>
<text x="194" y="414">M</text>
<text x="254" y="414">│</text>
<text x="334" y="414">│</text>
<text x="364" y="414">↑</text>
<text x="384" y="414">只</text>
<text x="404" y="414">保</text>
<text x="424" y="414">護</text>
<text x="444" y="414">本</text>
<text x="474" y="414">J</text>
<text x="484" y="414">V</text>
<text x="494" y="414">M</text>
<text x="634" y="414">│</text>
<text x="34" y="434">└</text>
<text x="44" y="434">─</text>
<text x="54" y="434">─</text>
<text x="64" y="434">─</text>
<text x="74" y="434">─</text>
<text x="84" y="434">─</text>
<text x="94" y="434">─</text>
<text x="104" y="434">─</text>
<text x="114" y="434">─</text>
<text x="124" y="434">─</text>
<text x="134" y="434">─</text>
<text x="144" y="434">┬</text>
<text x="154" y="434">─</text>
<text x="164" y="434">─</text>
<text x="174" y="434">─</text>
<text x="184" y="434">─</text>
<text x="194" y="434">─</text>
<text x="204" y="434">─</text>
<text x="214" y="434">─</text>
<text x="224" y="434">─</text>
<text x="234" y="434">─</text>
<text x="244" y="434">─</text>
<text x="254" y="434">┘</text>
<text x="334" y="434">└</text>
<text x="344" y="434">─</text>
<text x="354" y="434">─</text>
<text x="364" y="434">─</text>
<text x="374" y="434">─</text>
<text x="384" y="434">─</text>
<text x="394" y="434">─</text>
<text x="404" y="434">─</text>
<text x="414" y="434">─</text>
<text x="424" y="434">─</text>
<text x="434" y="434">─</text>
<text x="444" y="434">┬</text>
<text x="454" y="434">─</text>
<text x="464" y="434">─</text>
<text x="474" y="434">─</text>
<text x="484" y="434">─</text>
<text x="494" y="434">─</text>
<text x="504" y="434">─</text>
<text x="514" y="434">─</text>
<text x="524" y="434">─</text>
<text x="534" y="434">─</text>
<text x="544" y="434">─</text>
<text x="554" y="434">─</text>
<text x="564" y="434">─</text>
<text x="574" y="434">─</text>
<text x="584" y="434">─</text>
<text x="594" y="434">─</text>
<text x="604" y="434">─</text>
<text x="614" y="434">─</text>
<text x="624" y="434">─</text>
<text x="634" y="434">┘</text>
<text x="334" y="454">│</text>
<text x="634" y="454">│</text>
<text x="144" y="474">│</text>
<text x="164" y="474">都</text>
<text x="184" y="474">能</text>
<text x="204" y="474">同</text>
<text x="224" y="474">時</text>
<text x="244" y="474">存</text>
<text x="264" y="474">取</text>
<text x="634" y="474">│</text>
<text x="144" y="494">▼</text>
<text x="444" y="494">▼</text>
<text x="34" y="514">┌</text>
<text x="44" y="514">─</text>
<text x="54" y="514">─</text>
<text x="64" y="514">─</text>
<text x="74" y="514">─</text>
<text x="84" y="514">─</text>
<text x="94" y="514">─</text>
<text x="104" y="514">─</text>
<text x="114" y="514">─</text>
<text x="124" y="514">─</text>
<text x="134" y="514">─</text>
<text x="144" y="514">─</text>
<text x="154" y="514">─</text>
<text x="164" y="514">─</text>
<text x="174" y="514">─</text>
<text x="184" y="514">─</text>
<text x="194" y="514">─</text>
<text x="204" y="514">─</text>
<text x="214" y="514">─</text>
<text x="224" y="514">─</text>
<text x="234" y="514">─</text>
<text x="244" y="514">─</text>
<text x="254" y="514">─</text>
<text x="264" y="514">─</text>
<text x="274" y="514">─</text>
<text x="284" y="514">─</text>
<text x="294" y="514">─</text>
<text x="304" y="514">─</text>
<text x="314" y="514">─</text>
<text x="324" y="514">─</text>
<text x="334" y="514">─</text>
<text x="344" y="514">─</text>
<text x="354" y="514">─</text>
<text x="364" y="514">─</text>
<text x="374" y="514">─</text>
<text x="384" y="514">─</text>
<text x="394" y="514">─</text>
<text x="404" y="514">─</text>
<text x="414" y="514">─</text>
<text x="424" y="514">─</text>
<text x="434" y="514">─</text>
<text x="444" y="514">─</text>
<text x="454" y="514">─</text>
<text x="464" y="514">─</text>
<text x="474" y="514">─</text>
<text x="484" y="514">─</text>
<text x="494" y="514">─</text>
<text x="504" y="514">─</text>
<text x="514" y="514">─</text>
<text x="524" y="514">─</text>
<text x="534" y="514">─</text>
<text x="544" y="514">─</text>
<text x="554" y="514">─</text>
<text x="564" y="514">─</text>
<text x="574" y="514">─</text>
<text x="584" y="514">─</text>
<text x="594" y="514">─</text>
<text x="604" y="514">─</text>
<text x="614" y="514">─</text>
<text x="624" y="514">─</text>
<text x="634" y="514">┐</text>
<text x="34" y="534">│</text>
<text x="184" y="534">共</text>
<text x="204" y="534">享</text>
<text x="224" y="534">資</text>
<text x="244" y="534">源</text>
<text x="264" y="534">：</text>
<text x="284" y="534">D</text>
<text x="294" y="534">B</text>
<text x="314" y="534">/</text>
<text x="334" y="534">R</text>
<text x="344" y="534">e</text>
<text x="354" y="534">d</text>
<text x="364" y="534">i</text>
<text x="374" y="534">s</text>
<text x="394" y="534">/</text>
<text x="414" y="534">文</text>
<text x="434" y="534">件</text>
<text x="634" y="534">│</text>
<text x="84" y="554">│</text>
<text x="634" y="554">│</text>
<text x="34" y="574">│</text>
<text x="64" y="574">L</text>
<text x="74" y="574">o</text>
<text x="84" y="574">c</text>
<text x="94" y="574">k</text>
<text x="114" y="574">A</text>
<text x="134" y="574">和</text>
<text x="164" y="574">L</text>
<text x="174" y="574">o</text>
<text x="184" y="574">c</text>
<text x="194" y="574">k</text>
<text x="214" y="574">B</text>
<text x="234" y="574">互</text>
<text x="254" y="574">不</text>
<text x="274" y="574">可</text>
<text x="294" y="574">見</text>
<text x="324" y="574">→</text>
<text x="344" y="574">兩</text>
<text x="364" y="574">個</text>
<text x="384" y="574">實</text>
<text x="404" y="574">例</text>
<text x="424" y="574">同</text>
<text x="444" y="574">時</text>
<text x="464" y="574">操</text>
<text x="484" y="574">作</text>
<text x="514" y="574">→</text>
<text x="534" y="574">競</text>
<text x="554" y="574">態</text>
<text x="634" y="574">│</text>
<text x="34" y="594">└</text>
<text x="44" y="594">─</text>
<text x="54" y="594">─</text>
<text x="64" y="594">─</text>
<text x="74" y="594">─</text>
<text x="84" y="594">─</text>
<text x="94" y="594">─</text>
<text x="104" y="594">─</text>
<text x="114" y="594">─</text>
<text x="124" y="594">─</text>
<text x="134" y="594">─</text>
<text x="144" y="594">─</text>
<text x="154" y="594">─</text>
<text x="164" y="594">─</text>
<text x="174" y="594">─</text>
<text x="184" y="594">─</text>
<text x="194" y="594">─</text>
<text x="204" y="594">─</text>
<text x="214" y="594">─</text>
<text x="224" y="594">─</text>
<text x="234" y="594">─</text>
<text x="244" y="594">─</text>
<text x="254" y="594">─</text>
<text x="264" y="594">─</text>
<text x="274" y="594">─</text>
<text x="284" y="594">─</text>
<text x="294" y="594">─</text>
<text x="304" y="594">─</text>
<text x="314" y="594">─</text>
<text x="324" y="594">─</text>
<text x="334" y="594">─</text>
<text x="344" y="594">─</text>
<text x="354" y="594">─</text>
<text x="364" y="594">─</text>
<text x="374" y="594">─</text>
<text x="384" y="594">─</text>
<text x="394" y="594">─</text>
<text x="404" y="594">─</text>
<text x="414" y="594">─</text>
<text x="424" y="594">─</text>
<text x="434" y="594">─</text>
<text x="444" y="594">─</text>
<text x="454" y="594">─</text>
<text x="464" y="594">─</text>
<text x="474" y="594">─</text>
<text x="484" y="594">─</text>
<text x="494" y="594">─</text>
<text x="504" y="594">─</text>
<text x="514" y="594">─</text>
<text x="524" y="594">─</text>
<text x="534" y="594">─</text>
<text x="544" y="594">─</text>
<text x="554" y="594">─</text>
<text x="564" y="594">─</text>
<text x="574" y="594">─</text>
<text x="584" y="594">─</text>
<text x="594" y="594">─</text>
<text x="604" y="594">─</text>
<text x="614" y="594">─</text>
<text x="624" y="594">─</text>
<text x="634" y="594">┘</text>
<text x="34" y="634">✗</text>
<text x="54" y="634">跨</text>
<text x="84" y="634">J</text>
<text x="94" y="634">V</text>
<text x="104" y="634">M</text>
<text x="124" y="634">/</text>
<text x="144" y="634">跨</text>
<text x="164" y="634">進</text>
<text x="184" y="634">程</text>
<text x="214" y="634">/</text>
<text x="234" y="634">跨</text>
<text x="254" y="634">機</text>
<text x="274" y="634">器</text>
<text x="304" y="634">→</text>
<text x="324" y="634">需</text>
<text x="344" y="634">要</text>
<text x="364" y="634">分</text>
<text x="384" y="634">散</text>
<text x="404" y="634">式</text>
<text x="424" y="634">鎖</text>
<text x="34" y="674">─</text>
<text x="44" y="674">─</text>
<text x="54" y="674">─</text>
<text x="74" y="674">分</text>
<text x="94" y="674">散</text>
<text x="114" y="674">式</text>
<text x="134" y="674">鎖</text>
<text x="154" y="674">解</text>
<text x="174" y="674">法</text>
<text x="204" y="674">─</text>
<text x="214" y="674">─</text>
<text x="224" y="674">─</text>
<text x="234" y="674">─</text>
<text x="244" y="674">─</text>
<text x="254" y="674">─</text>
<text x="264" y="674">─</text>
<text x="274" y="674">─</text>
<text x="284" y="674">─</text>
<text x="294" y="674">─</text>
<text x="304" y="674">─</text>
<text x="314" y="674">─</text>
<text x="324" y="674">─</text>
<text x="334" y="674">─</text>
<text x="344" y="674">─</text>
<text x="354" y="674">─</text>
<text x="364" y="674">─</text>
<text x="374" y="674">─</text>
<text x="384" y="674">─</text>
<text x="394" y="674">─</text>
<text x="404" y="674">─</text>
<text x="414" y="674">─</text>
<text x="424" y="674">─</text>
<text x="434" y="674">─</text>
<text x="444" y="674">─</text>
<text x="454" y="674">─</text>
<text x="464" y="674">─</text>
<text x="474" y="674">─</text>
<text x="484" y="674">─</text>
<text x="494" y="674">─</text>
<text x="504" y="674">─</text>
<text x="514" y="674">─</text>
<text x="524" y="674">─</text>
<text x="534" y="674">─</text>
<text x="544" y="674">─</text>
<text x="554" y="674">─</text>
<text x="564" y="674">─</text>
<text x="574" y="674">─</text>
<text x="584" y="674">─</text>
<text x="594" y="674">─</text>
<text x="604" y="674">─</text>
<text x="614" y="674">─</text>
<text x="624" y="674">─</text>
<text x="634" y="674">─</text>
<text x="34" y="714">┌</text>
<text x="44" y="714">─</text>
<text x="54" y="714">─</text>
<text x="64" y="714">─</text>
<text x="74" y="714">─</text>
<text x="84" y="714">─</text>
<text x="94" y="714">─</text>
<text x="104" y="714">─</text>
<text x="114" y="714">─</text>
<text x="124" y="714">─</text>
<text x="134" y="714">─</text>
<text x="144" y="714">─</text>
<text x="154" y="714">─</text>
<text x="164" y="714">─</text>
<text x="174" y="714">─</text>
<text x="184" y="714">─</text>
<text x="194" y="714">─</text>
<text x="204" y="714">─</text>
<text x="214" y="714">─</text>
<text x="224" y="714">─</text>
<text x="234" y="714">─</text>
<text x="244" y="714">─</text>
<text x="254" y="714">┐</text>
<text x="334" y="714">┌</text>
<text x="344" y="714">─</text>
<text x="354" y="714">─</text>
<text x="364" y="714">─</text>
<text x="374" y="714">─</text>
<text x="384" y="714">─</text>
<text x="394" y="714">─</text>
<text x="404" y="714">─</text>
<text x="414" y="714">─</text>
<text x="424" y="714">─</text>
<text x="434" y="714">─</text>
<text x="444" y="714">─</text>
<text x="454" y="714">─</text>
<text x="464" y="714">─</text>
<text x="474" y="714">─</text>
<text x="484" y="714">─</text>
<text x="494" y="714">─</text>
<text x="504" y="714">─</text>
<text x="514" y="714">─</text>
<text x="524" y="714">─</text>
<text x="534" y="714">─</text>
<text x="544" y="714">─</text>
<text x="554" y="714">─</text>
<text x="564" y="714">─</text>
<text x="574" y="714">─</text>
<text x="584" y="714">─</text>
<text x="594" y="714">─</text>
<text x="604" y="714">─</text>
<text x="614" y="714">─</text>
<text x="624" y="714">─</text>
<text x="634" y="714">┐</text>
<text x="34" y="734">│</text>
<text x="74" y="734">A</text>
<text x="84" y="734">p</text>
<text x="94" y="734">p</text>
<text x="114" y="734">I</text>
<text x="124" y="734">n</text>
<text x="134" y="734">s</text>
<text x="144" y="734">t</text>
<text x="154" y="734">a</text>
<text x="164" y="734">n</text>
<text x="174" y="734">c</text>
<text x="184" y="734">e</text>
<text x="204" y="734">1</text>
<text x="254" y="734">│</text>
<text x="334" y="734">│</text>
<text x="374" y="734">A</text>
<text x="384" y="734">p</text>
<text x="394" y="734">p</text>
<text x="414" y="734">I</text>
<text x="424" y="734">n</text>
<text x="434" y="734">s</text>
<text x="444" y="734">t</text>
<text x="454" y="734">a</text>
<text x="464" y="734">n</text>
<text x="474" y="734">c</text>
<text x="484" y="734">e</text>
<text x="504" y="734">2</text>
<text x="634" y="734">│</text>
<text x="34" y="754">└</text>
<text x="44" y="754">─</text>
<text x="54" y="754">─</text>
<text x="64" y="754">─</text>
<text x="74" y="754">─</text>
<text x="84" y="754">─</text>
<text x="94" y="754">─</text>
<text x="104" y="754">─</text>
<text x="114" y="754">─</text>
<text x="124" y="754">─</text>
<text x="134" y="754">─</text>
<text x="144" y="754">┬</text>
<text x="154" y="754">─</text>
<text x="164" y="754">─</text>
<text x="174" y="754">─</text>
<text x="184" y="754">─</text>
<text x="194" y="754">─</text>
<text x="204" y="754">─</text>
<text x="214" y="754">─</text>
<text x="224" y="754">─</text>
<text x="234" y="754">─</text>
<text x="244" y="754">─</text>
<text x="254" y="754">┘</text>
<text x="334" y="754">└</text>
<text x="344" y="754">─</text>
<text x="354" y="754">─</text>
<text x="364" y="754">─</text>
<text x="374" y="754">─</text>
<text x="384" y="754">─</text>
<text x="394" y="754">─</text>
<text x="404" y="754">─</text>
<text x="414" y="754">─</text>
<text x="424" y="754">─</text>
<text x="434" y="754">─</text>
<text x="444" y="754">┬</text>
<text x="454" y="754">─</text>
<text x="464" y="754">─</text>
<text x="474" y="754">─</text>
<text x="484" y="754">─</text>
<text x="494" y="754">─</text>
<text x="504" y="754">─</text>
<text x="514" y="754">─</text>
<text x="524" y="754">─</text>
<text x="534" y="754">─</text>
<text x="544" y="754">─</text>
<text x="554" y="754">─</text>
<text x="564" y="754">─</text>
<text x="574" y="754">─</text>
<text x="584" y="754">─</text>
<text x="594" y="754">─</text>
<text x="604" y="754">─</text>
<text x="614" y="754">─</text>
<text x="624" y="754">─</text>
<text x="634" y="754">┘</text>
<text x="334" y="774">│</text>
<text x="634" y="774">│</text>
<text x="144" y="794">│</text>
<text x="164" y="794">先</text>
<text x="184" y="794">搶</text>
<text x="204" y="794">鎖</text>
<text x="454" y="794">│</text>
<text x="474" y="794">搶</text>
<text x="494" y="794">鎖</text>
<text x="514" y="794">失</text>
<text x="534" y="794">敗</text>
<text x="554" y="794">，</text>
<text x="574" y="794">等</text>
<text x="594" y="794">待</text>
<text x="144" y="814">▼</text>
<text x="444" y="814">▼</text>
<text x="34" y="834">┌</text>
<text x="44" y="834">─</text>
<text x="54" y="834">─</text>
<text x="64" y="834">─</text>
<text x="74" y="834">─</text>
<text x="84" y="834">─</text>
<text x="94" y="834">─</text>
<text x="104" y="834">─</text>
<text x="114" y="834">─</text>
<text x="124" y="834">─</text>
<text x="134" y="834">─</text>
<text x="144" y="834">─</text>
<text x="154" y="834">─</text>
<text x="164" y="834">─</text>
<text x="174" y="834">─</text>
<text x="184" y="834">─</text>
<text x="194" y="834">─</text>
<text x="204" y="834">─</text>
<text x="214" y="834">─</text>
<text x="224" y="834">─</text>
<text x="234" y="834">─</text>
<text x="244" y="834">─</text>
<text x="254" y="834">─</text>
<text x="264" y="834">─</text>
<text x="274" y="834">─</text>
<text x="284" y="834">─</text>
<text x="294" y="834">─</text>
<text x="304" y="834">─</text>
<text x="314" y="834">─</text>
<text x="324" y="834">─</text>
<text x="334" y="834">─</text>
<text x="344" y="834">─</text>
<text x="354" y="834">─</text>
<text x="364" y="834">─</text>
<text x="374" y="834">─</text>
<text x="384" y="834">─</text>
<text x="394" y="834">─</text>
<text x="404" y="834">─</text>
<text x="414" y="834">─</text>
<text x="424" y="834">─</text>
<text x="434" y="834">─</text>
<text x="444" y="834">─</text>
<text x="454" y="834">─</text>
<text x="464" y="834">─</text>
<text x="474" y="834">─</text>
<text x="484" y="834">─</text>
<text x="494" y="834">─</text>
<text x="504" y="834">─</text>
<text x="514" y="834">─</text>
<text x="524" y="834">─</text>
<text x="534" y="834">─</text>
<text x="544" y="834">─</text>
<text x="554" y="834">─</text>
<text x="564" y="834">─</text>
<text x="574" y="834">─</text>
<text x="584" y="834">─</text>
<text x="594" y="834">─</text>
<text x="604" y="834">─</text>
<text x="614" y="834">─</text>
<text x="624" y="834">─</text>
<text x="634" y="834">┐</text>
<text x="34" y="854">│</text>
<text x="154" y="854">R</text>
<text x="164" y="854">e</text>
<text x="174" y="854">d</text>
<text x="184" y="854">i</text>
<text x="194" y="854">s</text>
<text x="214" y="854">/</text>
<text x="234" y="854">Z</text>
<text x="244" y="854">o</text>
<text x="254" y="854">o</text>
<text x="264" y="854">K</text>
<text x="274" y="854">e</text>
<text x="284" y="854">e</text>
<text x="294" y="854">p</text>
<text x="304" y="854">e</text>
<text x="314" y="854">r</text>
<text x="324" y="854">（</text>
<text x="344" y="854">分</text>
<text x="364" y="854">散</text>
<text x="384" y="854">式</text>
<text x="404" y="854">鎖</text>
<text x="424" y="854">服</text>
<text x="444" y="854">務</text>
<text x="464" y="854">）</text>
<text x="634" y="854">│</text>
<text x="84" y="874">│</text>
<text x="634" y="874">│</text>
<text x="34" y="894">│</text>
<text x="74" y="894">l</text>
<text x="84" y="894">o</text>
<text x="94" y="894">c</text>
<text x="104" y="894">k</text>
<text x="114" y="894">:</text>
<text x="124" y="894">o</text>
<text x="134" y="894">r</text>
<text x="144" y="894">d</text>
<text x="154" y="894">e</text>
<text x="164" y="894">r</text>
<text x="184" y="894">=</text>
<text x="204" y="894">&quot;</text>
<text x="214" y="894">i</text>
<text x="224" y="894">n</text>
<text x="234" y="894">s</text>
<text x="244" y="894">t</text>
<text x="254" y="894">a</text>
<text x="264" y="894">n</text>
<text x="274" y="894">c</text>
<text x="284" y="894">e</text>
<text x="294" y="894">-</text>
<text x="304" y="894">1</text>
<text x="314" y="894">-</text>
<text x="324" y="894">u</text>
<text x="334" y="894">u</text>
<text x="344" y="894">i</text>
<text x="354" y="894">d</text>
<text x="364" y="894">&quot;</text>
<text x="394" y="894">T</text>
<text x="404" y="894">T</text>
<text x="414" y="894">L</text>
<text x="424" y="894">=</text>
<text x="434" y="894">1</text>
<text x="444" y="894">0</text>
<text x="454" y="894">s</text>
<text x="634" y="894">│</text>
<text x="34" y="914">└</text>
<text x="44" y="914">─</text>
<text x="54" y="914">─</text>
<text x="64" y="914">─</text>
<text x="74" y="914">─</text>
<text x="84" y="914">─</text>
<text x="94" y="914">─</text>
<text x="104" y="914">─</text>
<text x="114" y="914">─</text>
<text x="124" y="914">─</text>
<text x="134" y="914">─</text>
<text x="144" y="914">─</text>
<text x="154" y="914">─</text>
<text x="164" y="914">─</text>
<text x="174" y="914">─</text>
<text x="184" y="914">─</text>
<text x="194" y="914">─</text>
<text x="204" y="914">─</text>
<text x="214" y="914">─</text>
<text x="224" y="914">─</text>
<text x="234" y="914">─</text>
<text x="244" y="914">─</text>
<text x="254" y="914">─</text>
<text x="264" y="914">─</text>
<text x="274" y="914">─</text>
<text x="284" y="914">─</text>
<text x="294" y="914">─</text>
<text x="304" y="914">─</text>
<text x="314" y="914">─</text>
<text x="324" y="914">─</text>
<text x="334" y="914">─</text>
<text x="344" y="914">─</text>
<text x="354" y="914">─</text>
<text x="364" y="914">─</text>
<text x="374" y="914">─</text>
<text x="384" y="914">─</text>
<text x="394" y="914">─</text>
<text x="404" y="914">─</text>
<text x="414" y="914">─</text>
<text x="424" y="914">─</text>
<text x="434" y="914">─</text>
<text x="444" y="914">─</text>
<text x="454" y="914">─</text>
<text x="464" y="914">─</text>
<text x="474" y="914">─</text>
<text x="484" y="914">─</text>
<text x="494" y="914">─</text>
<text x="504" y="914">─</text>
<text x="514" y="914">─</text>
<text x="524" y="914">─</text>
<text x="534" y="914">─</text>
<text x="544" y="914">─</text>
<text x="554" y="914">─</text>
<text x="564" y="914">─</text>
<text x="574" y="914">─</text>
<text x="584" y="914">─</text>
<text x="594" y="914">─</text>
<text x="604" y="914">─</text>
<text x="614" y="914">─</text>
<text x="624" y="914">─</text>
<text x="634" y="914">┘</text>
<text x="144" y="934">│</text>
<text x="164" y="934">持</text>
<text x="184" y="934">有</text>
<text x="204" y="934">鎖</text>
<text x="144" y="954">▼</text>
<text x="34" y="974">┌</text>
<text x="44" y="974">─</text>
<text x="54" y="974">─</text>
<text x="64" y="974">─</text>
<text x="74" y="974">─</text>
<text x="84" y="974">─</text>
<text x="94" y="974">─</text>
<text x="104" y="974">─</text>
<text x="114" y="974">─</text>
<text x="124" y="974">─</text>
<text x="134" y="974">─</text>
<text x="144" y="974">─</text>
<text x="154" y="974">─</text>
<text x="164" y="974">─</text>
<text x="174" y="974">─</text>
<text x="184" y="974">─</text>
<text x="194" y="974">─</text>
<text x="204" y="974">─</text>
<text x="214" y="974">─</text>
<text x="224" y="974">─</text>
<text x="234" y="974">─</text>
<text x="244" y="974">─</text>
<text x="254" y="974">─</text>
<text x="264" y="974">─</text>
<text x="274" y="974">─</text>
<text x="284" y="974">─</text>
<text x="294" y="974">─</text>
<text x="304" y="974">─</text>
<text x="314" y="974">─</text>
<text x="324" y="974">─</text>
<text x="334" y="974">─</text>
<text x="344" y="974">─</text>
<text x="354" y="974">─</text>
<text x="364" y="974">─</text>
<text x="374" y="974">─</text>
<text x="384" y="974">─</text>
<text x="394" y="974">─</text>
<text x="404" y="974">─</text>
<text x="414" y="974">─</text>
<text x="424" y="974">─</text>
<text x="434" y="974">─</text>
<text x="444" y="974">─</text>
<text x="454" y="974">─</text>
<text x="464" y="974">─</text>
<text x="474" y="974">─</text>
<text x="484" y="974">─</text>
<text x="494" y="974">─</text>
<text x="504" y="974">─</text>
<text x="514" y="974">─</text>
<text x="524" y="974">─</text>
<text x="534" y="974">─</text>
<text x="544" y="974">─</text>
<text x="554" y="974">─</text>
<text x="564" y="974">─</text>
<text x="574" y="974">─</text>
<text x="584" y="974">─</text>
<text x="594" y="974">─</text>
<text x="604" y="974">─</text>
<text x="614" y="974">─</text>
<text x="624" y="974">─</text>
<text x="634" y="974">┐</text>
<text x="34" y="994">│</text>
<text x="244" y="994">共</text>
<text x="264" y="994">享</text>
<text x="284" y="994">資</text>
<text x="304" y="994">源</text>
<text x="324" y="994">：</text>
<text x="344" y="994">D</text>
<text x="354" y="994">B</text>
<text x="634" y="994">│</text>
<text x="34" y="1014">└</text>
<text x="44" y="1014">─</text>
<text x="54" y="1014">─</text>
<text x="64" y="1014">─</text>
<text x="74" y="1014">─</text>
<text x="84" y="1014">─</text>
<text x="94" y="1014">─</text>
<text x="104" y="1014">─</text>
<text x="114" y="1014">─</text>
<text x="124" y="1014">─</text>
<text x="134" y="1014">─</text>
<text x="144" y="1014">─</text>
<text x="154" y="1014">─</text>
<text x="164" y="1014">─</text>
<text x="174" y="1014">─</text>
<text x="184" y="1014">─</text>
<text x="194" y="1014">─</text>
<text x="204" y="1014">─</text>
<text x="214" y="1014">─</text>
<text x="224" y="1014">─</text>
<text x="234" y="1014">─</text>
<text x="244" y="1014">─</text>
<text x="254" y="1014">─</text>
<text x="264" y="1014">─</text>
<text x="274" y="1014">─</text>
<text x="284" y="1014">─</text>
<text x="294" y="1014">─</text>
<text x="304" y="1014">─</text>
<text x="314" y="1014">─</text>
<text x="324" y="1014">─</text>
<text x="334" y="1014">─</text>
<text x="344" y="1014">─</text>
<text x="354" y="1014">─</text>
<text x="364" y="1014">─</text>
<text x="374" y="1014">─</text>
<text x="384" y="1014">─</text>
<text x="394" y="1014">─</text>
<text x="404" y="1014">─</text>
<text x="414" y="1014">─</text>
<text x="424" y="1014">─</text>
<text x="434" y="1014">─</text>
<text x="444" y="1014">─</text>
<text x="454" y="1014">─</text>
<text x="464" y="1014">─</text>
<text x="474" y="1014">─</text>
<text x="484" y="1014">─</text>
<text x="494" y="1014">─</text>
<text x="504" y="1014">─</text>
<text x="514" y="1014">─</text>
<text x="524" y="1014">─</text>
<text x="534" y="1014">─</text>
<text x="544" y="1014">─</text>
<text x="554" y="1014">─</text>
<text x="564" y="1014">─</text>
<text x="574" y="1014">─</text>
<text x="584" y="1014">─</text>
<text x="594" y="1014">─</text>
<text x="604" y="1014">─</text>
<text x="614" y="1014">─</text>
<text x="624" y="1014">─</text>
<text x="634" y="1014">┘</text>
</g>
</svg>
</div>
<p>單機鎖只能管單進程，服務多副本時會失效。</p>
<h2 id="192-超賣案例對應-19211922"><a class="header" href="#192-超賣案例對應-19211922">19.2 超賣案例（對應 19.2.1~19.2.2）</a></h2>
<!-- subsection-diagram -->
<h3 id="本小節示意圖-1"><a class="header" href="#本小節示意圖-1">本小節示意圖</a></h3>
<div class="ascii-svg-wrap">
<svg class="ascii-svg" xmlns="http://www.w3.org/2000/svg" width="728" height="604" viewBox="0 0 728 604" role="img" aria-label="ASCII diagram">
<g fill="currentColor" font-family="Noto Sans Mono CJK TC, Noto Sans Mono CJK SC, Noto Sans Mono CJK JP, Sarasa Mono TC, Cascadia Mono, JetBrains Mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace" font-size="16" text-rendering="geometricPrecision" xml:space="preserve">
<text x="14" y="14">r</text>
<text x="24" y="14">e</text>
<text x="34" y="14">a</text>
<text x="44" y="14">d</text>
<text x="54" y="14">-</text>
<text x="64" y="14">m</text>
<text x="74" y="14">o</text>
<text x="84" y="14">d</text>
<text x="94" y="14">i</text>
<text x="104" y="14">f</text>
<text x="114" y="14">y</text>
<text x="124" y="14">-</text>
<text x="134" y="14">w</text>
<text x="144" y="14">r</text>
<text x="154" y="14">i</text>
<text x="164" y="14">t</text>
<text x="174" y="14">e</text>
<text x="194" y="14">競</text>
<text x="214" y="14">態</text>
<text x="234" y="14">導</text>
<text x="254" y="14">致</text>
<text x="274" y="14">超</text>
<text x="294" y="14">賣</text>
<text x="34" y="54">時</text>
<text x="54" y="54">間</text>
<text x="74" y="54">軸</text>
<text x="104" y="54">─</text>
<text x="114" y="54">─</text>
<text x="124" y="54">─</text>
<text x="134" y="54">─</text>
<text x="144" y="54">─</text>
<text x="154" y="54">─</text>
<text x="164" y="54">─</text>
<text x="174" y="54">─</text>
<text x="184" y="54">─</text>
<text x="194" y="54">─</text>
<text x="204" y="54">─</text>
<text x="214" y="54">─</text>
<text x="224" y="54">─</text>
<text x="234" y="54">─</text>
<text x="244" y="54">─</text>
<text x="254" y="54">─</text>
<text x="264" y="54">─</text>
<text x="274" y="54">─</text>
<text x="284" y="54">─</text>
<text x="294" y="54">─</text>
<text x="304" y="54">─</text>
<text x="314" y="54">─</text>
<text x="324" y="54">─</text>
<text x="334" y="54">─</text>
<text x="344" y="54">─</text>
<text x="354" y="54">─</text>
<text x="364" y="54">─</text>
<text x="374" y="54">─</text>
<text x="384" y="54">─</text>
<text x="394" y="54">─</text>
<text x="404" y="54">─</text>
<text x="414" y="54">─</text>
<text x="424" y="54">─</text>
<text x="434" y="54">─</text>
<text x="444" y="54">─</text>
<text x="454" y="54">─</text>
<text x="464" y="54">─</text>
<text x="474" y="54">─</text>
<text x="484" y="54">─</text>
<text x="494" y="54">─</text>
<text x="504" y="54">─</text>
<text x="514" y="54">─</text>
<text x="524" y="54">─</text>
<text x="534" y="54">─</text>
<text x="544" y="54">─</text>
<text x="554" y="54">─</text>
<text x="564" y="54">─</text>
<text x="574" y="54">─</text>
<text x="584" y="54">─</text>
<text x="594" y="54">─</text>
<text x="604" y="54">─</text>
<text x="614" y="54">─</text>
<text x="624" y="54">─</text>
<text x="634" y="54">─</text>
<text x="644" y="54">►</text>
<text x="124" y="74">T</text>
<text x="134" y="74">+</text>
<text x="144" y="74">0</text>
<text x="214" y="74">T</text>
<text x="224" y="74">+</text>
<text x="234" y="74">1</text>
<text x="304" y="74">T</text>
<text x="314" y="74">+</text>
<text x="324" y="74">2</text>
<text x="394" y="74">T</text>
<text x="404" y="74">+</text>
<text x="414" y="74">3</text>
<text x="484" y="74">T</text>
<text x="494" y="74">+</text>
<text x="504" y="74">4</text>
<text x="574" y="74">T</text>
<text x="584" y="74">+</text>
<text x="594" y="74">5</text>
<text x="34" y="114">A</text>
<text x="44" y="114">p</text>
<text x="54" y="114">p</text>
<text x="64" y="114">1</text>
<text x="114" y="114">[</text>
<text x="124" y="114">讀</text>
<text x="154" y="114">s</text>
<text x="164" y="114">t</text>
<text x="174" y="114">o</text>
<text x="184" y="114">c</text>
<text x="194" y="114">k</text>
<text x="204" y="114">]</text>
<text x="394" y="114">[</text>
<text x="404" y="114">扣</text>
<text x="424" y="114">減</text>
<text x="444" y="114">]</text>
<text x="484" y="114">[</text>
<text x="494" y="114">寫</text>
<text x="524" y="114">s</text>
<text x="534" y="114">t</text>
<text x="544" y="114">o</text>
<text x="554" y="114">c</text>
<text x="564" y="114">k</text>
<text x="574" y="114">=</text>
<text x="584" y="114">0</text>
<text x="594" y="114">]</text>
<text x="124" y="134">s</text>
<text x="134" y="134">t</text>
<text x="144" y="134">o</text>
<text x="154" y="134">c</text>
<text x="164" y="134">k</text>
<text x="174" y="134">=</text>
<text x="184" y="134">1</text>
<text x="394" y="134">s</text>
<text x="404" y="134">t</text>
<text x="414" y="134">o</text>
<text x="424" y="134">c</text>
<text x="434" y="134">k</text>
<text x="444" y="134">=</text>
<text x="454" y="134">1</text>
<text x="464" y="134">-</text>
<text x="474" y="134">1</text>
<text x="484" y="134">=</text>
<text x="494" y="134">0</text>
<text x="34" y="174">A</text>
<text x="44" y="174">p</text>
<text x="54" y="174">p</text>
<text x="64" y="174">2</text>
<text x="214" y="174">[</text>
<text x="224" y="174">讀</text>
<text x="254" y="174">s</text>
<text x="264" y="174">t</text>
<text x="274" y="174">o</text>
<text x="284" y="174">c</text>
<text x="294" y="174">k</text>
<text x="304" y="174">]</text>
<text x="494" y="174">[</text>
<text x="504" y="174">扣</text>
<text x="524" y="174">減</text>
<text x="544" y="174">]</text>
<text x="584" y="174">[</text>
<text x="594" y="174">寫</text>
<text x="624" y="174">s</text>
<text x="634" y="174">t</text>
<text x="644" y="174">o</text>
<text x="654" y="174">c</text>
<text x="664" y="174">k</text>
<text x="674" y="174">=</text>
<text x="684" y="174">-</text>
<text x="694" y="174">1</text>
<text x="704" y="174">]</text>
<text x="224" y="194">s</text>
<text x="234" y="194">t</text>
<text x="244" y="194">o</text>
<text x="254" y="194">c</text>
<text x="264" y="194">k</text>
<text x="274" y="194">=</text>
<text x="284" y="194">1</text>
<text x="494" y="194">s</text>
<text x="504" y="194">t</text>
<text x="514" y="194">o</text>
<text x="524" y="194">c</text>
<text x="534" y="194">k</text>
<text x="544" y="194">=</text>
<text x="554" y="194">1</text>
<text x="564" y="194">-</text>
<text x="574" y="194">1</text>
<text x="584" y="194">=</text>
<text x="594" y="194">0</text>
<text x="224" y="214">↑</text>
<text x="244" y="214">讀</text>
<text x="264" y="214">到</text>
<text x="284" y="214">舊</text>
<text x="304" y="214">值</text>
<text x="324" y="214">！</text>
<text x="504" y="214">↑</text>
<text x="524" y="214">再</text>
<text x="544" y="214">次</text>
<text x="564" y="214">扣</text>
<text x="584" y="214">減</text>
<text x="614" y="214">→</text>
<text x="634" y="214">超</text>
<text x="654" y="214">賣</text>
<text x="674" y="214">！</text>
<text x="34" y="254">┌</text>
<text x="44" y="254">─</text>
<text x="54" y="254">─</text>
<text x="64" y="254">─</text>
<text x="74" y="254">─</text>
<text x="84" y="254">─</text>
<text x="94" y="254">─</text>
<text x="104" y="254">─</text>
<text x="114" y="254">─</text>
<text x="124" y="254">─</text>
<text x="134" y="254">─</text>
<text x="144" y="254">─</text>
<text x="154" y="254">─</text>
<text x="164" y="254">─</text>
<text x="174" y="254">─</text>
<text x="184" y="254">─</text>
<text x="194" y="254">─</text>
<text x="204" y="254">─</text>
<text x="214" y="254">─</text>
<text x="224" y="254">─</text>
<text x="234" y="254">─</text>
<text x="244" y="254">─</text>
<text x="254" y="254">─</text>
<text x="264" y="254">─</text>
<text x="274" y="254">─</text>
<text x="284" y="254">─</text>
<text x="294" y="254">─</text>
<text x="304" y="254">─</text>
<text x="314" y="254">─</text>
<text x="324" y="254">─</text>
<text x="334" y="254">─</text>
<text x="344" y="254">─</text>
<text x="354" y="254">─</text>
<text x="364" y="254">─</text>
<text x="374" y="254">─</text>
<text x="384" y="254">─</text>
<text x="394" y="254">─</text>
<text x="404" y="254">─</text>
<text x="414" y="254">─</text>
<text x="424" y="254">─</text>
<text x="434" y="254">─</text>
<text x="444" y="254">─</text>
<text x="454" y="254">─</text>
<text x="464" y="254">─</text>
<text x="474" y="254">─</text>
<text x="484" y="254">─</text>
<text x="494" y="254">─</text>
<text x="504" y="254">─</text>
<text x="514" y="254">─</text>
<text x="524" y="254">─</text>
<text x="534" y="254">─</text>
<text x="544" y="254">─</text>
<text x="554" y="254">─</text>
<text x="564" y="254">─</text>
<text x="574" y="254">─</text>
<text x="584" y="254">─</text>
<text x="594" y="254">─</text>
<text x="604" y="254">─</text>
<text x="614" y="254">─</text>
<text x="624" y="254">─</text>
<text x="634" y="254">─</text>
<text x="644" y="254">─</text>
<text x="654" y="254">─</text>
<text x="664" y="254">─</text>
<text x="674" y="254">─</text>
<text x="684" y="254">─</text>
<text x="694" y="254">┐</text>
<text x="34" y="274">│</text>
<text x="64" y="274">問</text>
<text x="84" y="274">題</text>
<text x="104" y="274">根</text>
<text x="124" y="274">源</text>
<text x="144" y="274">：</text>
<text x="164" y="274">R</text>
<text x="174" y="274">e</text>
<text x="184" y="274">a</text>
<text x="194" y="274">d</text>
<text x="204" y="274">-</text>
<text x="214" y="274">M</text>
<text x="224" y="274">o</text>
<text x="234" y="274">d</text>
<text x="244" y="274">i</text>
<text x="254" y="274">f</text>
<text x="264" y="274">y</text>
<text x="274" y="274">-</text>
<text x="284" y="274">W</text>
<text x="294" y="274">r</text>
<text x="304" y="274">i</text>
<text x="314" y="274">t</text>
<text x="324" y="274">e</text>
<text x="344" y="274">非</text>
<text x="364" y="274">原</text>
<text x="384" y="274">子</text>
<text x="694" y="274">│</text>
<text x="104" y="294">│</text>
<text x="694" y="294">│</text>
<text x="34" y="314">│</text>
<text x="64" y="314">S</text>
<text x="74" y="314">t</text>
<text x="84" y="314">e</text>
<text x="94" y="314">p</text>
<text x="114" y="314">1</text>
<text x="124" y="314">:</text>
<text x="144" y="314">s</text>
<text x="154" y="314">t</text>
<text x="164" y="314">o</text>
<text x="174" y="314">c</text>
<text x="184" y="314">k</text>
<text x="204" y="314">=</text>
<text x="224" y="314">D</text>
<text x="234" y="314">B</text>
<text x="244" y="314">.</text>
<text x="254" y="314">r</text>
<text x="264" y="314">e</text>
<text x="274" y="314">a</text>
<text x="284" y="314">d</text>
<text x="294" y="314">(</text>
<text x="304" y="314">&quot;</text>
<text x="314" y="314">s</text>
<text x="324" y="314">t</text>
<text x="334" y="314">o</text>
<text x="344" y="314">c</text>
<text x="354" y="314">k</text>
<text x="364" y="314">_</text>
<text x="374" y="314">0</text>
<text x="384" y="314">0</text>
<text x="394" y="314">1</text>
<text x="404" y="314">&quot;</text>
<text x="414" y="314">)</text>
<text x="454" y="314">→</text>
<text x="474" y="314">s</text>
<text x="484" y="314">t</text>
<text x="494" y="314">o</text>
<text x="504" y="314">c</text>
<text x="514" y="314">k</text>
<text x="534" y="314">=</text>
<text x="554" y="314">1</text>
<text x="694" y="314">│</text>
<text x="34" y="334">│</text>
<text x="64" y="334">S</text>
<text x="74" y="334">t</text>
<text x="84" y="334">e</text>
<text x="94" y="334">p</text>
<text x="114" y="334">2</text>
<text x="124" y="334">:</text>
<text x="144" y="334">i</text>
<text x="154" y="334">f</text>
<text x="174" y="334">s</text>
<text x="184" y="334">t</text>
<text x="194" y="334">o</text>
<text x="204" y="334">c</text>
<text x="214" y="334">k</text>
<text x="234" y="334">&gt;</text>
<text x="254" y="334">0</text>
<text x="264" y="334">:</text>
<text x="284" y="334">s</text>
<text x="294" y="334">t</text>
<text x="304" y="334">o</text>
<text x="314" y="334">c</text>
<text x="324" y="334">k</text>
<text x="344" y="334">-</text>
<text x="354" y="334">=</text>
<text x="374" y="334">1</text>
<text x="454" y="334">→</text>
<text x="474" y="334">s</text>
<text x="484" y="334">t</text>
<text x="494" y="334">o</text>
<text x="504" y="334">c</text>
<text x="514" y="334">k</text>
<text x="534" y="334">=</text>
<text x="554" y="334">0</text>
<text x="694" y="334">│</text>
<text x="34" y="354">│</text>
<text x="64" y="354">S</text>
<text x="74" y="354">t</text>
<text x="84" y="354">e</text>
<text x="94" y="354">p</text>
<text x="114" y="354">3</text>
<text x="124" y="354">:</text>
<text x="144" y="354">D</text>
<text x="154" y="354">B</text>
<text x="164" y="354">.</text>
<text x="174" y="354">w</text>
<text x="184" y="354">r</text>
<text x="194" y="354">i</text>
<text x="204" y="354">t</text>
<text x="214" y="354">e</text>
<text x="224" y="354">(</text>
<text x="234" y="354">&quot;</text>
<text x="244" y="354">s</text>
<text x="254" y="354">t</text>
<text x="264" y="354">o</text>
<text x="274" y="354">c</text>
<text x="284" y="354">k</text>
<text x="294" y="354">_</text>
<text x="304" y="354">0</text>
<text x="314" y="354">0</text>
<text x="324" y="354">1</text>
<text x="334" y="354">&quot;</text>
<text x="344" y="354">,</text>
<text x="364" y="354">s</text>
<text x="374" y="354">t</text>
<text x="384" y="354">o</text>
<text x="394" y="354">c</text>
<text x="404" y="354">k</text>
<text x="414" y="354">)</text>
<text x="454" y="354">→</text>
<text x="474" y="354">s</text>
<text x="484" y="354">t</text>
<text x="494" y="354">o</text>
<text x="504" y="354">c</text>
<text x="514" y="354">k</text>
<text x="534" y="354">=</text>
<text x="554" y="354">0</text>
<text x="694" y="354">│</text>
<text x="104" y="374">│</text>
<text x="694" y="374">│</text>
<text x="34" y="394">│</text>
<text x="64" y="394">兩</text>
<text x="84" y="394">個</text>
<text x="114" y="394">A</text>
<text x="124" y="394">p</text>
<text x="134" y="394">p</text>
<text x="154" y="394">在</text>
<text x="184" y="394">S</text>
<text x="194" y="394">t</text>
<text x="204" y="394">e</text>
<text x="214" y="394">p</text>
<text x="234" y="394">1</text>
<text x="254" y="394">和</text>
<text x="284" y="394">S</text>
<text x="294" y="394">t</text>
<text x="304" y="394">e</text>
<text x="314" y="394">p</text>
<text x="334" y="394">3</text>
<text x="354" y="394">之</text>
<text x="374" y="394">間</text>
<text x="394" y="394">沒</text>
<text x="414" y="394">有</text>
<text x="434" y="394">互</text>
<text x="454" y="394">斥</text>
<text x="694" y="394">│</text>
<text x="34" y="414">│</text>
<text x="64" y="414">→</text>
<text x="84" y="414">都</text>
<text x="104" y="414">讀</text>
<text x="124" y="414">到</text>
<text x="154" y="414">s</text>
<text x="164" y="414">t</text>
<text x="174" y="414">o</text>
<text x="184" y="414">c</text>
<text x="194" y="414">k</text>
<text x="204" y="414">=</text>
<text x="214" y="414">1</text>
<text x="234" y="414">→</text>
<text x="254" y="414">都</text>
<text x="274" y="414">認</text>
<text x="294" y="414">為</text>
<text x="314" y="414">可</text>
<text x="334" y="414">以</text>
<text x="354" y="414">扣</text>
<text x="374" y="414">減</text>
<text x="404" y="414">→</text>
<text x="424" y="414">s</text>
<text x="434" y="414">t</text>
<text x="444" y="414">o</text>
<text x="454" y="414">c</text>
<text x="464" y="414">k</text>
<text x="484" y="414">變</text>
<text x="514" y="414">-</text>
<text x="524" y="414">1</text>
<text x="694" y="414">│</text>
<text x="34" y="434">└</text>
<text x="44" y="434">─</text>
<text x="54" y="434">─</text>
<text x="64" y="434">─</text>
<text x="74" y="434">─</text>
<text x="84" y="434">─</text>
<text x="94" y="434">─</text>
<text x="104" y="434">─</text>
<text x="114" y="434">─</text>
<text x="124" y="434">─</text>
<text x="134" y="434">─</text>
<text x="144" y="434">─</text>
<text x="154" y="434">─</text>
<text x="164" y="434">─</text>
<text x="174" y="434">─</text>
<text x="184" y="434">─</text>
<text x="194" y="434">─</text>
<text x="204" y="434">─</text>
<text x="214" y="434">─</text>
<text x="224" y="434">─</text>
<text x="234" y="434">─</text>
<text x="244" y="434">─</text>
<text x="254" y="434">─</text>
<text x="264" y="434">─</text>
<text x="274" y="434">─</text>
<text x="284" y="434">─</text>
<text x="294" y="434">─</text>
<text x="304" y="434">─</text>
<text x="314" y="434">─</text>
<text x="324" y="434">─</text>
<text x="334" y="434">─</text>
<text x="344" y="434">─</text>
<text x="354" y="434">─</text>
<text x="364" y="434">─</text>
<text x="374" y="434">─</text>
<text x="384" y="434">─</text>
<text x="394" y="434">─</text>
<text x="404" y="434">─</text>
<text x="414" y="434">─</text>
<text x="424" y="434">─</text>
<text x="434" y="434">─</text>
<text x="444" y="434">─</text>
<text x="454" y="434">─</text>
<text x="464" y="434">─</text>
<text x="474" y="434">─</text>
<text x="484" y="434">─</text>
<text x="494" y="434">─</text>
<text x="504" y="434">─</text>
<text x="514" y="434">─</text>
<text x="524" y="434">─</text>
<text x="534" y="434">─</text>
<text x="544" y="434">─</text>
<text x="554" y="434">─</text>
<text x="564" y="434">─</text>
<text x="574" y="434">─</text>
<text x="584" y="434">─</text>
<text x="594" y="434">─</text>
<text x="604" y="434">─</text>
<text x="614" y="434">─</text>
<text x="624" y="434">─</text>
<text x="634" y="434">─</text>
<text x="644" y="434">─</text>
<text x="654" y="434">─</text>
<text x="664" y="434">─</text>
<text x="674" y="434">─</text>
<text x="684" y="434">─</text>
<text x="694" y="434">┘</text>
<text x="34" y="474">正</text>
<text x="54" y="474">確</text>
<text x="74" y="474">做</text>
<text x="94" y="474">法</text>
<text x="114" y="474">：</text>
<text x="134" y="474">加</text>
<text x="154" y="474">分</text>
<text x="174" y="474">散</text>
<text x="194" y="474">式</text>
<text x="214" y="474">鎖</text>
<text x="234" y="474">後</text>
<text x="34" y="514">A</text>
<text x="44" y="514">p</text>
<text x="54" y="514">p</text>
<text x="64" y="514">1</text>
<text x="114" y="514">[</text>
<text x="124" y="514">取</text>
<text x="144" y="514">鎖</text>
<text x="174" y="514">✓</text>
<text x="184" y="514">]</text>
<text x="194" y="514">[</text>
<text x="204" y="514">讀</text>
<text x="234" y="514">s</text>
<text x="244" y="514">t</text>
<text x="254" y="514">o</text>
<text x="264" y="514">c</text>
<text x="274" y="514">k</text>
<text x="284" y="514">=</text>
<text x="294" y="514">1</text>
<text x="304" y="514">]</text>
<text x="314" y="514">[</text>
<text x="324" y="514">扣</text>
<text x="344" y="514">減</text>
<text x="364" y="514">]</text>
<text x="374" y="514">[</text>
<text x="384" y="514">寫</text>
<text x="414" y="514">s</text>
<text x="424" y="514">t</text>
<text x="434" y="514">o</text>
<text x="444" y="514">c</text>
<text x="454" y="514">k</text>
<text x="464" y="514">=</text>
<text x="474" y="514">0</text>
<text x="484" y="514">]</text>
<text x="494" y="514">[</text>
<text x="504" y="514">釋</text>
<text x="524" y="514">放</text>
<text x="544" y="514">鎖</text>
<text x="564" y="514">]</text>
<text x="34" y="534">A</text>
<text x="44" y="534">p</text>
<text x="54" y="534">p</text>
<text x="64" y="534">2</text>
<text x="114" y="534">[</text>
<text x="124" y="534">等</text>
<text x="144" y="534">鎖</text>
<text x="164" y="534">─</text>
<text x="174" y="534">─</text>
<text x="184" y="534">─</text>
<text x="194" y="534">─</text>
<text x="204" y="534">─</text>
<text x="214" y="534">─</text>
<text x="224" y="534">─</text>
<text x="234" y="534">─</text>
<text x="244" y="534">─</text>
<text x="254" y="534">─</text>
<text x="264" y="534">─</text>
<text x="274" y="534">─</text>
<text x="284" y="534">─</text>
<text x="294" y="534">─</text>
<text x="304" y="534">─</text>
<text x="314" y="534">─</text>
<text x="324" y="534">─</text>
<text x="334" y="534">─</text>
<text x="344" y="534">─</text>
<text x="354" y="534">─</text>
<text x="364" y="534">─</text>
<text x="374" y="534">─</text>
<text x="384" y="534">─</text>
<text x="394" y="534">─</text>
<text x="404" y="534">─</text>
<text x="414" y="534">─</text>
<text x="424" y="534">─</text>
<text x="434" y="534">─</text>
<text x="444" y="534">─</text>
<text x="454" y="534">]</text>
<text x="464" y="534">[</text>
<text x="474" y="534">取</text>
<text x="494" y="534">鎖</text>
<text x="514" y="534">]</text>
<text x="524" y="534">[</text>
<text x="534" y="534">讀</text>
<text x="564" y="534">s</text>
<text x="574" y="534">t</text>
<text x="584" y="534">o</text>
<text x="594" y="534">c</text>
<text x="604" y="534">k</text>
<text x="614" y="534">=</text>
<text x="624" y="534">0</text>
<text x="634" y="534">]</text>
<text x="644" y="534">[</text>
<text x="654" y="534">售</text>
<text x="674" y="534">罄</text>
<text x="694" y="534">]</text>
<text x="34" y="574">結</text>
<text x="54" y="574">果</text>
<text x="74" y="574">：</text>
<text x="94" y="574">s</text>
<text x="104" y="574">t</text>
<text x="114" y="574">o</text>
<text x="124" y="574">c</text>
<text x="134" y="574">k</text>
<text x="154" y="574">=</text>
<text x="174" y="574">0</text>
<text x="184" y="574">（</text>
<text x="204" y="574">正</text>
<text x="224" y="574">確</text>
<text x="244" y="574">）</text>
<text x="264" y="574">，</text>
<text x="284" y="574">不</text>
<text x="304" y="574">超</text>
<text x="324" y="574">賣</text>
</g>
</svg>
</div>
<p>多節點同時扣庫存，若無跨節點互斥，庫存會變負數。</p>
<h2 id="193-jvm-本地鎖邊界對應-19311932"><a class="header" href="#193-jvm-本地鎖邊界對應-19311932">19.3 JVM 本地鎖邊界（對應 19.3.1~19.3.2）</a></h2>
<!-- subsection-diagram -->
<h3 id="本小節示意圖-2"><a class="header" href="#本小節示意圖-2">本小節示意圖</a></h3>
<div class="ascii-svg-wrap">
<svg class="ascii-svg" xmlns="http://www.w3.org/2000/svg" width="698" height="784" viewBox="0 0 698 784" role="img" aria-label="ASCII diagram">
<g fill="currentColor" font-family="Noto Sans Mono CJK TC, Noto Sans Mono CJK SC, Noto Sans Mono CJK JP, Sarasa Mono TC, Cascadia Mono, JetBrains Mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace" font-size="16" text-rendering="geometricPrecision" xml:space="preserve">
<text x="14" y="14">J</text>
<text x="24" y="14">V</text>
<text x="34" y="14">M</text>
<text x="54" y="14">本</text>
<text x="74" y="14">地</text>
<text x="94" y="14">鎖</text>
<text x="114" y="14">的</text>
<text x="134" y="14">可</text>
<text x="154" y="14">見</text>
<text x="174" y="14">範</text>
<text x="194" y="14">圍</text>
<text x="214" y="14">邊</text>
<text x="234" y="14">界</text>
<text x="34" y="54">┌</text>
<text x="44" y="54">─</text>
<text x="54" y="54">─</text>
<text x="64" y="54">─</text>
<text x="74" y="54">─</text>
<text x="84" y="54">─</text>
<text x="94" y="54">─</text>
<text x="104" y="54">─</text>
<text x="114" y="54">─</text>
<text x="124" y="54">─</text>
<text x="134" y="54">─</text>
<text x="144" y="54">─</text>
<text x="154" y="54">─</text>
<text x="164" y="54">─</text>
<text x="174" y="54">─</text>
<text x="184" y="54">─</text>
<text x="194" y="54">─</text>
<text x="204" y="54">─</text>
<text x="214" y="54">─</text>
<text x="224" y="54">─</text>
<text x="234" y="54">─</text>
<text x="244" y="54">─</text>
<text x="254" y="54">─</text>
<text x="264" y="54">─</text>
<text x="274" y="54">─</text>
<text x="284" y="54">─</text>
<text x="294" y="54">─</text>
<text x="304" y="54">─</text>
<text x="314" y="54">─</text>
<text x="324" y="54">─</text>
<text x="334" y="54">─</text>
<text x="344" y="54">─</text>
<text x="354" y="54">─</text>
<text x="364" y="54">─</text>
<text x="374" y="54">─</text>
<text x="384" y="54">─</text>
<text x="394" y="54">─</text>
<text x="404" y="54">─</text>
<text x="414" y="54">─</text>
<text x="424" y="54">─</text>
<text x="434" y="54">─</text>
<text x="444" y="54">─</text>
<text x="454" y="54">─</text>
<text x="464" y="54">─</text>
<text x="474" y="54">─</text>
<text x="484" y="54">─</text>
<text x="494" y="54">─</text>
<text x="504" y="54">─</text>
<text x="514" y="54">─</text>
<text x="524" y="54">─</text>
<text x="534" y="54">─</text>
<text x="544" y="54">─</text>
<text x="554" y="54">─</text>
<text x="564" y="54">─</text>
<text x="574" y="54">─</text>
<text x="584" y="54">─</text>
<text x="594" y="54">─</text>
<text x="604" y="54">─</text>
<text x="614" y="54">─</text>
<text x="624" y="54">─</text>
<text x="634" y="54">─</text>
<text x="644" y="54">─</text>
<text x="654" y="54">─</text>
<text x="664" y="54">─</text>
<text x="674" y="54">┐</text>
<text x="34" y="74">│</text>
<text x="64" y="74">機</text>
<text x="84" y="74">器</text>
<text x="114" y="74">A</text>
<text x="674" y="74">│</text>
<text x="34" y="94">│</text>
<text x="64" y="94">┌</text>
<text x="74" y="94">─</text>
<text x="84" y="94">─</text>
<text x="94" y="94">─</text>
<text x="104" y="94">─</text>
<text x="114" y="94">─</text>
<text x="124" y="94">─</text>
<text x="134" y="94">─</text>
<text x="144" y="94">─</text>
<text x="154" y="94">─</text>
<text x="164" y="94">─</text>
<text x="174" y="94">─</text>
<text x="184" y="94">─</text>
<text x="194" y="94">─</text>
<text x="204" y="94">─</text>
<text x="214" y="94">─</text>
<text x="224" y="94">─</text>
<text x="234" y="94">─</text>
<text x="244" y="94">─</text>
<text x="254" y="94">─</text>
<text x="264" y="94">─</text>
<text x="274" y="94">─</text>
<text x="284" y="94">─</text>
<text x="294" y="94">─</text>
<text x="304" y="94">─</text>
<text x="314" y="94">─</text>
<text x="324" y="94">─</text>
<text x="334" y="94">─</text>
<text x="344" y="94">─</text>
<text x="354" y="94">─</text>
<text x="364" y="94">─</text>
<text x="374" y="94">─</text>
<text x="384" y="94">─</text>
<text x="394" y="94">─</text>
<text x="404" y="94">─</text>
<text x="414" y="94">─</text>
<text x="424" y="94">─</text>
<text x="434" y="94">─</text>
<text x="444" y="94">─</text>
<text x="454" y="94">─</text>
<text x="464" y="94">─</text>
<text x="474" y="94">─</text>
<text x="484" y="94">─</text>
<text x="494" y="94">─</text>
<text x="504" y="94">─</text>
<text x="514" y="94">─</text>
<text x="524" y="94">─</text>
<text x="534" y="94">─</text>
<text x="544" y="94">─</text>
<text x="554" y="94">─</text>
<text x="564" y="94">─</text>
<text x="574" y="94">─</text>
<text x="584" y="94">─</text>
<text x="594" y="94">─</text>
<text x="604" y="94">─</text>
<text x="614" y="94">─</text>
<text x="624" y="94">─</text>
<text x="634" y="94">─</text>
<text x="644" y="94">┐</text>
<text x="674" y="94">│</text>
<text x="34" y="114">│</text>
<text x="64" y="114">│</text>
<text x="94" y="114">A</text>
<text x="104" y="114">p</text>
<text x="114" y="114">p</text>
<text x="134" y="114">I</text>
<text x="144" y="114">n</text>
<text x="154" y="114">s</text>
<text x="164" y="114">t</text>
<text x="174" y="114">a</text>
<text x="184" y="114">n</text>
<text x="194" y="114">c</text>
<text x="204" y="114">e</text>
<text x="224" y="114">1</text>
<text x="244" y="114">(</text>
<text x="254" y="114">J</text>
<text x="264" y="114">V</text>
<text x="274" y="114">M</text>
<text x="284" y="114">)</text>
<text x="644" y="114">│</text>
<text x="674" y="114">│</text>
<text x="44" y="134">│</text>
<text x="74" y="134">│</text>
<text x="644" y="134">│</text>
<text x="674" y="134">│</text>
<text x="34" y="154">│</text>
<text x="64" y="154">│</text>
<text x="94" y="154">s</text>
<text x="104" y="154">y</text>
<text x="114" y="154">n</text>
<text x="124" y="154">c</text>
<text x="134" y="154">h</text>
<text x="144" y="154">r</text>
<text x="154" y="154">o</text>
<text x="164" y="154">n</text>
<text x="174" y="154">i</text>
<text x="184" y="154">z</text>
<text x="194" y="154">e</text>
<text x="204" y="154">d</text>
<text x="214" y="154">(</text>
<text x="224" y="154">l</text>
<text x="234" y="154">o</text>
<text x="244" y="154">c</text>
<text x="254" y="154">k</text>
<text x="264" y="154">O</text>
<text x="274" y="154">b</text>
<text x="284" y="154">j</text>
<text x="294" y="154">)</text>
<text x="314" y="154">{</text>
<text x="334" y="154">.</text>
<text x="344" y="154">.</text>
<text x="354" y="154">.</text>
<text x="374" y="154">}</text>
<text x="404" y="154">←</text>
<text x="424" y="154">J</text>
<text x="434" y="154">V</text>
<text x="444" y="154">M</text>
<text x="464" y="154">鎖</text>
<text x="644" y="154">│</text>
<text x="674" y="154">│</text>
<text x="34" y="174">│</text>
<text x="64" y="174">│</text>
<text x="94" y="174">┌</text>
<text x="104" y="174">─</text>
<text x="114" y="174">─</text>
<text x="124" y="174">─</text>
<text x="134" y="174">─</text>
<text x="144" y="174">─</text>
<text x="154" y="174">─</text>
<text x="164" y="174">─</text>
<text x="174" y="174">─</text>
<text x="184" y="174">─</text>
<text x="194" y="174">─</text>
<text x="204" y="174">─</text>
<text x="214" y="174">─</text>
<text x="224" y="174">─</text>
<text x="234" y="174">─</text>
<text x="244" y="174">─</text>
<text x="254" y="174">─</text>
<text x="264" y="174">─</text>
<text x="274" y="174">─</text>
<text x="284" y="174">─</text>
<text x="294" y="174">─</text>
<text x="304" y="174">─</text>
<text x="314" y="174">─</text>
<text x="324" y="174">─</text>
<text x="334" y="174">─</text>
<text x="344" y="174">─</text>
<text x="354" y="174">─</text>
<text x="364" y="174">─</text>
<text x="374" y="174">┐</text>
<text x="644" y="174">│</text>
<text x="674" y="174">│</text>
<text x="34" y="194">│</text>
<text x="64" y="194">│</text>
<text x="94" y="194">│</text>
<text x="124" y="194">T</text>
<text x="134" y="194">h</text>
<text x="144" y="194">r</text>
<text x="154" y="194">e</text>
<text x="164" y="194">a</text>
<text x="174" y="194">d</text>
<text x="194" y="194">P</text>
<text x="204" y="194">o</text>
<text x="214" y="194">o</text>
<text x="224" y="194">l</text>
<text x="374" y="194">│</text>
<text x="644" y="194">│</text>
<text x="674" y="194">│</text>
<text x="34" y="214">│</text>
<text x="64" y="214">│</text>
<text x="94" y="214">│</text>
<text x="124" y="214">T</text>
<text x="134" y="214">1</text>
<text x="154" y="214">─</text>
<text x="164" y="214">─</text>
<text x="174" y="214">─</text>
<text x="184" y="214">┐</text>
<text x="374" y="214">│</text>
<text x="644" y="214">│</text>
<text x="674" y="214">│</text>
<text x="34" y="234">│</text>
<text x="64" y="234">│</text>
<text x="94" y="234">│</text>
<text x="174" y="234">├</text>
<text x="184" y="234">─</text>
<text x="194" y="234">►</text>
<text x="214" y="234">[</text>
<text x="224" y="234">J</text>
<text x="234" y="234">V</text>
<text x="244" y="234">M</text>
<text x="264" y="234">L</text>
<text x="274" y="234">o</text>
<text x="284" y="234">c</text>
<text x="294" y="234">k</text>
<text x="304" y="234">]</text>
<text x="324" y="234">✓</text>
<text x="374" y="234">│</text>
<text x="644" y="234">│</text>
<text x="674" y="234">│</text>
<text x="34" y="254">│</text>
<text x="64" y="254">│</text>
<text x="94" y="254">│</text>
<text x="124" y="254">T</text>
<text x="134" y="254">2</text>
<text x="154" y="254">─</text>
<text x="164" y="254">─</text>
<text x="174" y="254">─</text>
<text x="184" y="254">┘</text>
<text x="374" y="254">│</text>
<text x="644" y="254">│</text>
<text x="674" y="254">│</text>
<text x="34" y="274">│</text>
<text x="64" y="274">│</text>
<text x="94" y="274">└</text>
<text x="104" y="274">─</text>
<text x="114" y="274">─</text>
<text x="124" y="274">─</text>
<text x="134" y="274">─</text>
<text x="144" y="274">─</text>
<text x="154" y="274">─</text>
<text x="164" y="274">─</text>
<text x="174" y="274">─</text>
<text x="184" y="274">─</text>
<text x="194" y="274">─</text>
<text x="204" y="274">─</text>
<text x="214" y="274">─</text>
<text x="224" y="274">─</text>
<text x="234" y="274">─</text>
<text x="244" y="274">─</text>
<text x="254" y="274">─</text>
<text x="264" y="274">─</text>
<text x="274" y="274">─</text>
<text x="284" y="274">─</text>
<text x="294" y="274">─</text>
<text x="304" y="274">─</text>
<text x="314" y="274">─</text>
<text x="324" y="274">─</text>
<text x="334" y="274">─</text>
<text x="344" y="274">─</text>
<text x="354" y="274">─</text>
<text x="364" y="274">─</text>
<text x="374" y="274">┘</text>
<text x="644" y="274">│</text>
<text x="674" y="274">│</text>
<text x="34" y="294">│</text>
<text x="64" y="294">└</text>
<text x="74" y="294">─</text>
<text x="84" y="294">─</text>
<text x="94" y="294">─</text>
<text x="104" y="294">─</text>
<text x="114" y="294">─</text>
<text x="124" y="294">─</text>
<text x="134" y="294">─</text>
<text x="144" y="294">─</text>
<text x="154" y="294">─</text>
<text x="164" y="294">─</text>
<text x="174" y="294">─</text>
<text x="184" y="294">─</text>
<text x="194" y="294">─</text>
<text x="204" y="294">─</text>
<text x="214" y="294">─</text>
<text x="224" y="294">─</text>
<text x="234" y="294">─</text>
<text x="244" y="294">─</text>
<text x="254" y="294">─</text>
<text x="264" y="294">─</text>
<text x="274" y="294">─</text>
<text x="284" y="294">─</text>
<text x="294" y="294">─</text>
<text x="304" y="294">─</text>
<text x="314" y="294">─</text>
<text x="324" y="294">─</text>
<text x="334" y="294">─</text>
<text x="344" y="294">─</text>
<text x="354" y="294">─</text>
<text x="364" y="294">─</text>
<text x="374" y="294">─</text>
<text x="384" y="294">─</text>
<text x="394" y="294">─</text>
<text x="404" y="294">─</text>
<text x="414" y="294">─</text>
<text x="424" y="294">─</text>
<text x="434" y="294">─</text>
<text x="444" y="294">─</text>
<text x="454" y="294">─</text>
<text x="464" y="294">─</text>
<text x="474" y="294">─</text>
<text x="484" y="294">─</text>
<text x="494" y="294">─</text>
<text x="504" y="294">─</text>
<text x="514" y="294">─</text>
<text x="524" y="294">─</text>
<text x="534" y="294">─</text>
<text x="544" y="294">─</text>
<text x="554" y="294">─</text>
<text x="564" y="294">─</text>
<text x="574" y="294">─</text>
<text x="584" y="294">─</text>
<text x="594" y="294">─</text>
<text x="604" y="294">─</text>
<text x="614" y="294">─</text>
<text x="624" y="294">─</text>
<text x="634" y="294">─</text>
<text x="644" y="294">┘</text>
<text x="674" y="294">│</text>
<text x="34" y="314">└</text>
<text x="44" y="314">─</text>
<text x="54" y="314">─</text>
<text x="64" y="314">─</text>
<text x="74" y="314">─</text>
<text x="84" y="314">─</text>
<text x="94" y="314">─</text>
<text x="104" y="314">─</text>
<text x="114" y="314">─</text>
<text x="124" y="314">─</text>
<text x="134" y="314">─</text>
<text x="144" y="314">─</text>
<text x="154" y="314">─</text>
<text x="164" y="314">─</text>
<text x="174" y="314">─</text>
<text x="184" y="314">─</text>
<text x="194" y="314">─</text>
<text x="204" y="314">─</text>
<text x="214" y="314">─</text>
<text x="224" y="314">─</text>
<text x="234" y="314">─</text>
<text x="244" y="314">─</text>
<text x="254" y="314">─</text>
<text x="264" y="314">─</text>
<text x="274" y="314">─</text>
<text x="284" y="314">─</text>
<text x="294" y="314">─</text>
<text x="304" y="314">─</text>
<text x="314" y="314">─</text>
<text x="324" y="314">─</text>
<text x="334" y="314">─</text>
<text x="344" y="314">─</text>
<text x="354" y="314">─</text>
<text x="364" y="314">─</text>
<text x="374" y="314">─</text>
<text x="384" y="314">─</text>
<text x="394" y="314">─</text>
<text x="404" y="314">─</text>
<text x="414" y="314">─</text>
<text x="424" y="314">─</text>
<text x="434" y="314">─</text>
<text x="444" y="314">─</text>
<text x="454" y="314">─</text>
<text x="464" y="314">─</text>
<text x="474" y="314">─</text>
<text x="484" y="314">─</text>
<text x="494" y="314">─</text>
<text x="504" y="314">─</text>
<text x="514" y="314">─</text>
<text x="524" y="314">─</text>
<text x="534" y="314">─</text>
<text x="544" y="314">─</text>
<text x="554" y="314">─</text>
<text x="564" y="314">─</text>
<text x="574" y="314">─</text>
<text x="584" y="314">─</text>
<text x="594" y="314">─</text>
<text x="604" y="314">─</text>
<text x="614" y="314">─</text>
<text x="624" y="314">─</text>
<text x="634" y="314">─</text>
<text x="644" y="314">─</text>
<text x="654" y="314">─</text>
<text x="664" y="314">─</text>
<text x="674" y="314">┘</text>
<text x="234" y="334">│</text>
<text x="254" y="334">J</text>
<text x="264" y="334">V</text>
<text x="274" y="334">M</text>
<text x="294" y="334">L</text>
<text x="304" y="334">o</text>
<text x="314" y="334">c</text>
<text x="324" y="334">k</text>
<text x="344" y="334">邊</text>
<text x="364" y="334">界</text>
<text x="384" y="334">到</text>
<text x="404" y="334">此</text>
<text x="424" y="334">為</text>
<text x="444" y="334">止</text>
<text x="234" y="354">│</text>
<text x="254" y="354">鎖</text>
<text x="274" y="354">的</text>
<text x="294" y="354">狀</text>
<text x="314" y="354">態</text>
<text x="334" y="354">不</text>
<text x="354" y="354">會</text>
<text x="374" y="354">跨</text>
<text x="394" y="354">越</text>
<text x="414" y="354">這</text>
<text x="434" y="354">條</text>
<text x="454" y="354">線</text>
<text x="34" y="374">─</text>
<text x="54" y="374">─</text>
<text x="74" y="374">─</text>
<text x="94" y="374">─</text>
<text x="114" y="374">─</text>
<text x="134" y="374">─</text>
<text x="154" y="374">─</text>
<text x="174" y="374">─</text>
<text x="194" y="374">─</text>
<text x="214" y="374">─</text>
<text x="224" y="374">│</text>
<text x="234" y="374">─</text>
<text x="254" y="374">─</text>
<text x="274" y="374">─</text>
<text x="294" y="374">─</text>
<text x="314" y="374">─</text>
<text x="334" y="374">─</text>
<text x="354" y="374">─</text>
<text x="374" y="374">─</text>
<text x="394" y="374">─</text>
<text x="414" y="374">─</text>
<text x="434" y="374">─</text>
<text x="454" y="374">─</text>
<text x="474" y="374">─</text>
<text x="494" y="374">─</text>
<text x="514" y="374">─</text>
<text x="534" y="374">─</text>
<text x="554" y="374">─</text>
<text x="574" y="374">─</text>
<text x="594" y="374">─</text>
<text x="614" y="374">─</text>
<text x="34" y="394">網</text>
<text x="54" y="394">路</text>
<text x="674" y="394">│</text>
<text x="34" y="414">┌</text>
<text x="44" y="414">─</text>
<text x="54" y="414">─</text>
<text x="64" y="414">─</text>
<text x="74" y="414">─</text>
<text x="84" y="414">─</text>
<text x="94" y="414">─</text>
<text x="104" y="414">─</text>
<text x="114" y="414">─</text>
<text x="124" y="414">─</text>
<text x="134" y="414">─</text>
<text x="144" y="414">─</text>
<text x="154" y="414">─</text>
<text x="164" y="414">─</text>
<text x="174" y="414">─</text>
<text x="184" y="414">─</text>
<text x="194" y="414">─</text>
<text x="204" y="414">─</text>
<text x="214" y="414">─</text>
<text x="224" y="414">─</text>
<text x="234" y="414">─</text>
<text x="244" y="414">▼</text>
<text x="254" y="414">─</text>
<text x="264" y="414">─</text>
<text x="274" y="414">─</text>
<text x="284" y="414">─</text>
<text x="294" y="414">─</text>
<text x="304" y="414">─</text>
<text x="314" y="414">─</text>
<text x="324" y="414">─</text>
<text x="334" y="414">─</text>
<text x="344" y="414">─</text>
<text x="354" y="414">─</text>
<text x="364" y="414">─</text>
<text x="374" y="414">─</text>
<text x="384" y="414">─</text>
<text x="394" y="414">─</text>
<text x="404" y="414">─</text>
<text x="414" y="414">─</text>
<text x="424" y="414">─</text>
<text x="434" y="414">─</text>
<text x="444" y="414">─</text>
<text x="454" y="414">─</text>
<text x="464" y="414">─</text>
<text x="474" y="414">─</text>
<text x="484" y="414">─</text>
<text x="494" y="414">─</text>
<text x="504" y="414">─</text>
<text x="514" y="414">─</text>
<text x="524" y="414">─</text>
<text x="534" y="414">─</text>
<text x="544" y="414">─</text>
<text x="554" y="414">─</text>
<text x="564" y="414">─</text>
<text x="574" y="414">─</text>
<text x="584" y="414">─</text>
<text x="594" y="414">─</text>
<text x="604" y="414">─</text>
<text x="614" y="414">─</text>
<text x="624" y="414">─</text>
<text x="634" y="414">─</text>
<text x="644" y="414">─</text>
<text x="654" y="414">─</text>
<text x="664" y="414">─</text>
<text x="674" y="414">┐</text>
<text x="34" y="434">│</text>
<text x="64" y="434">機</text>
<text x="84" y="434">器</text>
<text x="114" y="434">B</text>
<text x="674" y="434">│</text>
<text x="34" y="454">│</text>
<text x="64" y="454">┌</text>
<text x="74" y="454">─</text>
<text x="84" y="454">─</text>
<text x="94" y="454">─</text>
<text x="104" y="454">─</text>
<text x="114" y="454">─</text>
<text x="124" y="454">─</text>
<text x="134" y="454">─</text>
<text x="144" y="454">─</text>
<text x="154" y="454">─</text>
<text x="164" y="454">─</text>
<text x="174" y="454">─</text>
<text x="184" y="454">─</text>
<text x="194" y="454">─</text>
<text x="204" y="454">─</text>
<text x="214" y="454">─</text>
<text x="224" y="454">─</text>
<text x="234" y="454">─</text>
<text x="244" y="454">─</text>
<text x="254" y="454">─</text>
<text x="264" y="454">─</text>
<text x="274" y="454">─</text>
<text x="284" y="454">─</text>
<text x="294" y="454">─</text>
<text x="304" y="454">─</text>
<text x="314" y="454">─</text>
<text x="324" y="454">─</text>
<text x="334" y="454">─</text>
<text x="344" y="454">─</text>
<text x="354" y="454">─</text>
<text x="364" y="454">─</text>
<text x="374" y="454">─</text>
<text x="384" y="454">─</text>
<text x="394" y="454">─</text>
<text x="404" y="454">─</text>
<text x="414" y="454">─</text>
<text x="424" y="454">─</text>
<text x="434" y="454">─</text>
<text x="444" y="454">─</text>
<text x="454" y="454">─</text>
<text x="464" y="454">─</text>
<text x="474" y="454">─</text>
<text x="484" y="454">─</text>
<text x="494" y="454">─</text>
<text x="504" y="454">─</text>
<text x="514" y="454">─</text>
<text x="524" y="454">─</text>
<text x="534" y="454">─</text>
<text x="544" y="454">─</text>
<text x="554" y="454">─</text>
<text x="564" y="454">─</text>
<text x="574" y="454">─</text>
<text x="584" y="454">─</text>
<text x="594" y="454">─</text>
<text x="604" y="454">─</text>
<text x="614" y="454">─</text>
<text x="624" y="454">─</text>
<text x="634" y="454">─</text>
<text x="644" y="454">┐</text>
<text x="674" y="454">│</text>
<text x="34" y="474">│</text>
<text x="64" y="474">│</text>
<text x="94" y="474">A</text>
<text x="104" y="474">p</text>
<text x="114" y="474">p</text>
<text x="134" y="474">I</text>
<text x="144" y="474">n</text>
<text x="154" y="474">s</text>
<text x="164" y="474">t</text>
<text x="174" y="474">a</text>
<text x="184" y="474">n</text>
<text x="194" y="474">c</text>
<text x="204" y="474">e</text>
<text x="224" y="474">2</text>
<text x="244" y="474">(</text>
<text x="254" y="474">J</text>
<text x="264" y="474">V</text>
<text x="274" y="474">M</text>
<text x="284" y="474">)</text>
<text x="644" y="474">│</text>
<text x="674" y="474">│</text>
<text x="44" y="494">│</text>
<text x="74" y="494">│</text>
<text x="644" y="494">│</text>
<text x="674" y="494">│</text>
<text x="34" y="514">│</text>
<text x="64" y="514">│</text>
<text x="94" y="514">s</text>
<text x="104" y="514">y</text>
<text x="114" y="514">n</text>
<text x="124" y="514">c</text>
<text x="134" y="514">h</text>
<text x="144" y="514">r</text>
<text x="154" y="514">o</text>
<text x="164" y="514">n</text>
<text x="174" y="514">i</text>
<text x="184" y="514">z</text>
<text x="194" y="514">e</text>
<text x="204" y="514">d</text>
<text x="214" y="514">(</text>
<text x="224" y="514">l</text>
<text x="234" y="514">o</text>
<text x="244" y="514">c</text>
<text x="254" y="514">k</text>
<text x="264" y="514">O</text>
<text x="274" y="514">b</text>
<text x="284" y="514">j</text>
<text x="294" y="514">)</text>
<text x="314" y="514">{</text>
<text x="334" y="514">.</text>
<text x="344" y="514">.</text>
<text x="354" y="514">.</text>
<text x="374" y="514">}</text>
<text x="404" y="514">←</text>
<text x="424" y="514">完</text>
<text x="444" y="514">全</text>
<text x="464" y="514">獨</text>
<text x="484" y="514">立</text>
<text x="504" y="514">的</text>
<text x="534" y="514">J</text>
<text x="544" y="514">V</text>
<text x="554" y="514">M</text>
<text x="574" y="514">鎖</text>
<text x="644" y="514">│</text>
<text x="674" y="514">│</text>
<text x="34" y="534">│</text>
<text x="64" y="534">│</text>
<text x="94" y="534">↑</text>
<text x="114" y="534">和</text>
<text x="134" y="534">機</text>
<text x="154" y="534">器</text>
<text x="174" y="534">A</text>
<text x="184" y="534">的</text>
<text x="204" y="534">鎖</text>
<text x="224" y="534">物</text>
<text x="244" y="534">件</text>
<text x="264" y="534">不</text>
<text x="284" y="534">同</text>
<text x="304" y="534">，</text>
<text x="324" y="534">互</text>
<text x="344" y="534">不</text>
<text x="364" y="534">可</text>
<text x="384" y="534">見</text>
<text x="644" y="534">│</text>
<text x="674" y="534">│</text>
<text x="34" y="554">│</text>
<text x="64" y="554">└</text>
<text x="74" y="554">─</text>
<text x="84" y="554">─</text>
<text x="94" y="554">─</text>
<text x="104" y="554">─</text>
<text x="114" y="554">─</text>
<text x="124" y="554">─</text>
<text x="134" y="554">─</text>
<text x="144" y="554">─</text>
<text x="154" y="554">─</text>
<text x="164" y="554">─</text>
<text x="174" y="554">─</text>
<text x="184" y="554">─</text>
<text x="194" y="554">─</text>
<text x="204" y="554">─</text>
<text x="214" y="554">─</text>
<text x="224" y="554">─</text>
<text x="234" y="554">─</text>
<text x="244" y="554">─</text>
<text x="254" y="554">─</text>
<text x="264" y="554">─</text>
<text x="274" y="554">─</text>
<text x="284" y="554">─</text>
<text x="294" y="554">─</text>
<text x="304" y="554">─</text>
<text x="314" y="554">─</text>
<text x="324" y="554">─</text>
<text x="334" y="554">─</text>
<text x="344" y="554">─</text>
<text x="354" y="554">─</text>
<text x="364" y="554">─</text>
<text x="374" y="554">─</text>
<text x="384" y="554">─</text>
<text x="394" y="554">─</text>
<text x="404" y="554">─</text>
<text x="414" y="554">─</text>
<text x="424" y="554">─</text>
<text x="434" y="554">─</text>
<text x="444" y="554">─</text>
<text x="454" y="554">─</text>
<text x="464" y="554">─</text>
<text x="474" y="554">─</text>
<text x="484" y="554">─</text>
<text x="494" y="554">─</text>
<text x="504" y="554">─</text>
<text x="514" y="554">─</text>
<text x="524" y="554">─</text>
<text x="534" y="554">─</text>
<text x="544" y="554">─</text>
<text x="554" y="554">─</text>
<text x="564" y="554">─</text>
<text x="574" y="554">─</text>
<text x="584" y="554">─</text>
<text x="594" y="554">─</text>
<text x="604" y="554">─</text>
<text x="614" y="554">─</text>
<text x="624" y="554">─</text>
<text x="634" y="554">─</text>
<text x="644" y="554">┘</text>
<text x="674" y="554">│</text>
<text x="34" y="574">└</text>
<text x="44" y="574">─</text>
<text x="54" y="574">─</text>
<text x="64" y="574">─</text>
<text x="74" y="574">─</text>
<text x="84" y="574">─</text>
<text x="94" y="574">─</text>
<text x="104" y="574">─</text>
<text x="114" y="574">─</text>
<text x="124" y="574">─</text>
<text x="134" y="574">─</text>
<text x="144" y="574">─</text>
<text x="154" y="574">─</text>
<text x="164" y="574">─</text>
<text x="174" y="574">─</text>
<text x="184" y="574">─</text>
<text x="194" y="574">─</text>
<text x="204" y="574">─</text>
<text x="214" y="574">─</text>
<text x="224" y="574">─</text>
<text x="234" y="574">─</text>
<text x="244" y="574">─</text>
<text x="254" y="574">─</text>
<text x="264" y="574">─</text>
<text x="274" y="574">─</text>
<text x="284" y="574">─</text>
<text x="294" y="574">─</text>
<text x="304" y="574">─</text>
<text x="314" y="574">─</text>
<text x="324" y="574">─</text>
<text x="334" y="574">─</text>
<text x="344" y="574">─</text>
<text x="354" y="574">─</text>
<text x="364" y="574">─</text>
<text x="374" y="574">─</text>
<text x="384" y="574">─</text>
<text x="394" y="574">─</text>
<text x="404" y="574">─</text>
<text x="414" y="574">─</text>
<text x="424" y="574">─</text>
<text x="434" y="574">─</text>
<text x="444" y="574">─</text>
<text x="454" y="574">─</text>
<text x="464" y="574">─</text>
<text x="474" y="574">─</text>
<text x="484" y="574">─</text>
<text x="494" y="574">─</text>
<text x="504" y="574">─</text>
<text x="514" y="574">─</text>
<text x="524" y="574">─</text>
<text x="534" y="574">─</text>
<text x="544" y="574">─</text>
<text x="554" y="574">─</text>
<text x="564" y="574">─</text>
<text x="574" y="574">─</text>
<text x="584" y="574">─</text>
<text x="594" y="574">─</text>
<text x="604" y="574">─</text>
<text x="614" y="574">─</text>
<text x="624" y="574">─</text>
<text x="634" y="574">─</text>
<text x="644" y="574">─</text>
<text x="654" y="574">─</text>
<text x="664" y="574">─</text>
<text x="674" y="574">┘</text>
<text x="674" y="594">│</text>
<text x="234" y="614">▼</text>
<text x="34" y="634">┌</text>
<text x="44" y="634">─</text>
<text x="54" y="634">─</text>
<text x="64" y="634">─</text>
<text x="74" y="634">─</text>
<text x="84" y="634">─</text>
<text x="94" y="634">─</text>
<text x="104" y="634">─</text>
<text x="114" y="634">─</text>
<text x="124" y="634">─</text>
<text x="134" y="634">─</text>
<text x="144" y="634">─</text>
<text x="154" y="634">─</text>
<text x="164" y="634">─</text>
<text x="174" y="634">─</text>
<text x="184" y="634">─</text>
<text x="194" y="634">─</text>
<text x="204" y="634">─</text>
<text x="214" y="634">─</text>
<text x="224" y="634">─</text>
<text x="234" y="634">─</text>
<text x="244" y="634">─</text>
<text x="254" y="634">─</text>
<text x="264" y="634">─</text>
<text x="274" y="634">─</text>
<text x="284" y="634">─</text>
<text x="294" y="634">─</text>
<text x="304" y="634">─</text>
<text x="314" y="634">─</text>
<text x="324" y="634">─</text>
<text x="334" y="634">─</text>
<text x="344" y="634">─</text>
<text x="354" y="634">─</text>
<text x="364" y="634">─</text>
<text x="374" y="634">─</text>
<text x="384" y="634">─</text>
<text x="394" y="634">─</text>
<text x="404" y="634">─</text>
<text x="414" y="634">─</text>
<text x="424" y="634">─</text>
<text x="434" y="634">─</text>
<text x="444" y="634">─</text>
<text x="454" y="634">─</text>
<text x="464" y="634">─</text>
<text x="474" y="634">─</text>
<text x="484" y="634">─</text>
<text x="494" y="634">─</text>
<text x="504" y="634">─</text>
<text x="514" y="634">─</text>
<text x="524" y="634">─</text>
<text x="534" y="634">─</text>
<text x="544" y="634">─</text>
<text x="554" y="634">─</text>
<text x="564" y="634">─</text>
<text x="574" y="634">─</text>
<text x="584" y="634">─</text>
<text x="594" y="634">─</text>
<text x="604" y="634">─</text>
<text x="614" y="634">─</text>
<text x="624" y="634">─</text>
<text x="634" y="634">─</text>
<text x="644" y="634">─</text>
<text x="654" y="634">─</text>
<text x="664" y="634">─</text>
<text x="674" y="634">┐</text>
<text x="34" y="654">│</text>
<text x="64" y="654">共</text>
<text x="84" y="654">享</text>
<text x="104" y="654">資</text>
<text x="124" y="654">源</text>
<text x="144" y="654">：</text>
<text x="164" y="654">M</text>
<text x="174" y="654">y</text>
<text x="184" y="654">S</text>
<text x="194" y="654">Q</text>
<text x="204" y="654">L</text>
<text x="224" y="654">/</text>
<text x="244" y="654">R</text>
<text x="254" y="654">e</text>
<text x="264" y="654">d</text>
<text x="274" y="654">i</text>
<text x="284" y="654">s</text>
<text x="674" y="654">│</text>
<text x="34" y="674">│</text>
<text x="64" y="674">兩</text>
<text x="84" y="674">個</text>
<text x="114" y="674">A</text>
<text x="124" y="674">p</text>
<text x="134" y="674">p</text>
<text x="154" y="674">可</text>
<text x="174" y="674">以</text>
<text x="194" y="674">同</text>
<text x="214" y="674">時</text>
<text x="234" y="674">操</text>
<text x="254" y="674">作</text>
<text x="284" y="674">→</text>
<text x="304" y="674">競</text>
<text x="324" y="674">態</text>
<text x="344" y="674">！</text>
<text x="674" y="674">│</text>
<text x="34" y="694">└</text>
<text x="44" y="694">─</text>
<text x="54" y="694">─</text>
<text x="64" y="694">─</text>
<text x="74" y="694">─</text>
<text x="84" y="694">─</text>
<text x="94" y="694">─</text>
<text x="104" y="694">─</text>
<text x="114" y="694">─</text>
<text x="124" y="694">─</text>
<text x="134" y="694">─</text>
<text x="144" y="694">─</text>
<text x="154" y="694">─</text>
<text x="164" y="694">─</text>
<text x="174" y="694">─</text>
<text x="184" y="694">─</text>
<text x="194" y="694">─</text>
<text x="204" y="694">─</text>
<text x="214" y="694">─</text>
<text x="224" y="694">─</text>
<text x="234" y="694">─</text>
<text x="244" y="694">─</text>
<text x="254" y="694">─</text>
<text x="264" y="694">─</text>
<text x="274" y="694">─</text>
<text x="284" y="694">─</text>
<text x="294" y="694">─</text>
<text x="304" y="694">─</text>
<text x="314" y="694">─</text>
<text x="324" y="694">─</text>
<text x="334" y="694">─</text>
<text x="344" y="694">─</text>
<text x="354" y="694">─</text>
<text x="364" y="694">─</text>
<text x="374" y="694">─</text>
<text x="384" y="694">─</text>
<text x="394" y="694">─</text>
<text x="404" y="694">─</text>
<text x="414" y="694">─</text>
<text x="424" y="694">─</text>
<text x="434" y="694">─</text>
<text x="444" y="694">─</text>
<text x="454" y="694">─</text>
<text x="464" y="694">─</text>
<text x="474" y="694">─</text>
<text x="484" y="694">─</text>
<text x="494" y="694">─</text>
<text x="504" y="694">─</text>
<text x="514" y="694">─</text>
<text x="524" y="694">─</text>
<text x="534" y="694">─</text>
<text x="544" y="694">─</text>
<text x="554" y="694">─</text>
<text x="564" y="694">─</text>
<text x="574" y="694">─</text>
<text x="584" y="694">─</text>
<text x="594" y="694">─</text>
<text x="604" y="694">─</text>
<text x="614" y="694">─</text>
<text x="624" y="694">─</text>
<text x="634" y="694">─</text>
<text x="644" y="694">─</text>
<text x="654" y="694">─</text>
<text x="664" y="694">─</text>
<text x="674" y="694">┘</text>
<text x="34" y="734">結</text>
<text x="54" y="734">論</text>
<text x="74" y="734">：</text>
<text x="94" y="734">s</text>
<text x="104" y="734">y</text>
<text x="114" y="734">n</text>
<text x="124" y="734">c</text>
<text x="134" y="734">h</text>
<text x="144" y="734">r</text>
<text x="154" y="734">o</text>
<text x="164" y="734">n</text>
<text x="174" y="734">i</text>
<text x="184" y="734">z</text>
<text x="194" y="734">e</text>
<text x="204" y="734">d</text>
<text x="224" y="734">只</text>
<text x="244" y="734">在</text>
<text x="264" y="734">同</text>
<text x="294" y="734">J</text>
<text x="304" y="734">V</text>
<text x="314" y="734">M</text>
<text x="334" y="734">內</text>
<text x="354" y="734">有</text>
<text x="374" y="734">效</text>
<text x="394" y="734">，</text>
<text x="94" y="754">水</text>
<text x="114" y="754">平</text>
<text x="134" y="754">擴</text>
<text x="154" y="754">展</text>
<text x="174" y="754">後</text>
<text x="194" y="754">必</text>
<text x="214" y="754">須</text>
<text x="234" y="754">用</text>
<text x="254" y="754">外</text>
<text x="274" y="754">部</text>
<text x="294" y="754">分</text>
<text x="314" y="754">散</text>
<text x="334" y="754">式</text>
<text x="354" y="754">鎖</text>
<text x="374" y="754">。</text>
</g>
</svg>
</div>
<p><code>synchronized</code> 只在同 JVM 內有效。</p>
<h2 id="194-分散式鎖要求對應-19411942"><a class="header" href="#194-分散式鎖要求對應-19411942">19.4 分散式鎖要求（對應 19.4.1~19.4.2）</a></h2>
<!-- subsection-diagram -->
<h3 id="本小節示意圖-3"><a class="header" href="#本小節示意圖-3">本小節示意圖</a></h3>
<div class="ascii-svg-wrap">
<svg class="ascii-svg" xmlns="http://www.w3.org/2000/svg" width="698" height="884" viewBox="0 0 698 884" role="img" aria-label="ASCII diagram">
<g fill="currentColor" font-family="Noto Sans Mono CJK TC, Noto Sans Mono CJK SC, Noto Sans Mono CJK JP, Sarasa Mono TC, Cascadia Mono, JetBrains Mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace" font-size="16" text-rendering="geometricPrecision" xml:space="preserve">
<text x="14" y="14">分</text>
<text x="34" y="14">散</text>
<text x="54" y="14">式</text>
<text x="74" y="14">鎖</text>
<text x="94" y="14">五</text>
<text x="114" y="14">大</text>
<text x="134" y="14">需</text>
<text x="154" y="14">求</text>
<text x="174" y="14">與</text>
<text x="194" y="14">實</text>
<text x="214" y="14">現</text>
<text x="234" y="14">挑</text>
<text x="254" y="14">戰</text>
<text x="34" y="54">┌</text>
<text x="44" y="54">─</text>
<text x="54" y="54">─</text>
<text x="64" y="54">─</text>
<text x="74" y="54">─</text>
<text x="84" y="54">─</text>
<text x="94" y="54">─</text>
<text x="104" y="54">─</text>
<text x="114" y="54">─</text>
<text x="124" y="54">─</text>
<text x="134" y="54">─</text>
<text x="144" y="54">─</text>
<text x="154" y="54">─</text>
<text x="164" y="54">─</text>
<text x="174" y="54">─</text>
<text x="184" y="54">─</text>
<text x="194" y="54">─</text>
<text x="204" y="54">─</text>
<text x="214" y="54">─</text>
<text x="224" y="54">─</text>
<text x="234" y="54">─</text>
<text x="244" y="54">─</text>
<text x="254" y="54">─</text>
<text x="264" y="54">─</text>
<text x="274" y="54">─</text>
<text x="284" y="54">─</text>
<text x="294" y="54">─</text>
<text x="304" y="54">─</text>
<text x="314" y="54">─</text>
<text x="324" y="54">─</text>
<text x="334" y="54">─</text>
<text x="344" y="54">─</text>
<text x="354" y="54">─</text>
<text x="364" y="54">─</text>
<text x="374" y="54">─</text>
<text x="384" y="54">─</text>
<text x="394" y="54">─</text>
<text x="404" y="54">─</text>
<text x="414" y="54">─</text>
<text x="424" y="54">─</text>
<text x="434" y="54">─</text>
<text x="444" y="54">─</text>
<text x="454" y="54">─</text>
<text x="464" y="54">─</text>
<text x="474" y="54">─</text>
<text x="484" y="54">─</text>
<text x="494" y="54">─</text>
<text x="504" y="54">─</text>
<text x="514" y="54">─</text>
<text x="524" y="54">─</text>
<text x="534" y="54">─</text>
<text x="544" y="54">─</text>
<text x="554" y="54">─</text>
<text x="564" y="54">─</text>
<text x="574" y="54">─</text>
<text x="584" y="54">─</text>
<text x="594" y="54">─</text>
<text x="604" y="54">─</text>
<text x="614" y="54">─</text>
<text x="624" y="54">─</text>
<text x="634" y="54">─</text>
<text x="644" y="54">─</text>
<text x="654" y="54">─</text>
<text x="664" y="54">─</text>
<text x="674" y="54">┐</text>
<text x="34" y="74">│</text>
<text x="64" y="74">需</text>
<text x="84" y="74">求</text>
<text x="114" y="74">1</text>
<text x="124" y="74">：</text>
<text x="144" y="74">互</text>
<text x="164" y="74">斥</text>
<text x="184" y="74">性</text>
<text x="204" y="74">（</text>
<text x="224" y="74">M</text>
<text x="234" y="74">u</text>
<text x="244" y="74">t</text>
<text x="254" y="74">u</text>
<text x="264" y="74">a</text>
<text x="274" y="74">l</text>
<text x="294" y="74">E</text>
<text x="304" y="74">x</text>
<text x="314" y="74">c</text>
<text x="324" y="74">l</text>
<text x="334" y="74">u</text>
<text x="344" y="74">s</text>
<text x="354" y="74">i</text>
<text x="364" y="74">o</text>
<text x="374" y="74">n</text>
<text x="384" y="74">）</text>
<text x="674" y="74">│</text>
<text x="34" y="94">│</text>
<text x="64" y="94">同</text>
<text x="84" y="94">一</text>
<text x="104" y="94">時</text>
<text x="124" y="94">刻</text>
<text x="144" y="94">只</text>
<text x="164" y="94">有</text>
<text x="184" y="94">一</text>
<text x="204" y="94">個</text>
<text x="224" y="94">客</text>
<text x="244" y="94">戶</text>
<text x="264" y="94">端</text>
<text x="284" y="94">持</text>
<text x="304" y="94">有</text>
<text x="324" y="94">鎖</text>
<text x="674" y="94">│</text>
<text x="34" y="114">│</text>
<text x="64" y="114">實</text>
<text x="84" y="114">現</text>
<text x="104" y="114">：</text>
<text x="124" y="114">R</text>
<text x="134" y="114">e</text>
<text x="144" y="114">d</text>
<text x="154" y="114">i</text>
<text x="164" y="114">s</text>
<text x="184" y="114">S</text>
<text x="194" y="114">E</text>
<text x="204" y="114">T</text>
<text x="224" y="114">N</text>
<text x="234" y="114">X</text>
<text x="244" y="114">（</text>
<text x="264" y="114">N</text>
<text x="274" y="114">o</text>
<text x="284" y="114">t</text>
<text x="304" y="114">E</text>
<text x="314" y="114">x</text>
<text x="324" y="114">i</text>
<text x="334" y="114">s</text>
<text x="344" y="114">t</text>
<text x="354" y="114">）</text>
<text x="374" y="114">原</text>
<text x="394" y="114">子</text>
<text x="414" y="114">指</text>
<text x="434" y="114">令</text>
<text x="674" y="114">│</text>
<text x="34" y="134">│</text>
<text x="64" y="134">挑</text>
<text x="84" y="134">戰</text>
<text x="104" y="134">：</text>
<text x="124" y="134">網</text>
<text x="144" y="134">路</text>
<text x="164" y="134">分</text>
<text x="184" y="134">區</text>
<text x="204" y="134">時</text>
<text x="224" y="134">可</text>
<text x="244" y="134">能</text>
<text x="264" y="134">出</text>
<text x="284" y="134">現</text>
<text x="304" y="134">兩</text>
<text x="324" y="134">個</text>
<text x="344" y="134">持</text>
<text x="364" y="134">有</text>
<text x="384" y="134">者</text>
<text x="674" y="134">│</text>
<text x="34" y="154">└</text>
<text x="44" y="154">─</text>
<text x="54" y="154">─</text>
<text x="64" y="154">─</text>
<text x="74" y="154">─</text>
<text x="84" y="154">─</text>
<text x="94" y="154">─</text>
<text x="104" y="154">─</text>
<text x="114" y="154">─</text>
<text x="124" y="154">─</text>
<text x="134" y="154">─</text>
<text x="144" y="154">─</text>
<text x="154" y="154">─</text>
<text x="164" y="154">─</text>
<text x="174" y="154">─</text>
<text x="184" y="154">─</text>
<text x="194" y="154">─</text>
<text x="204" y="154">─</text>
<text x="214" y="154">─</text>
<text x="224" y="154">─</text>
<text x="234" y="154">─</text>
<text x="244" y="154">─</text>
<text x="254" y="154">─</text>
<text x="264" y="154">─</text>
<text x="274" y="154">─</text>
<text x="284" y="154">─</text>
<text x="294" y="154">─</text>
<text x="304" y="154">─</text>
<text x="314" y="154">─</text>
<text x="324" y="154">─</text>
<text x="334" y="154">─</text>
<text x="344" y="154">─</text>
<text x="354" y="154">─</text>
<text x="364" y="154">─</text>
<text x="374" y="154">─</text>
<text x="384" y="154">─</text>
<text x="394" y="154">─</text>
<text x="404" y="154">─</text>
<text x="414" y="154">─</text>
<text x="424" y="154">─</text>
<text x="434" y="154">─</text>
<text x="444" y="154">─</text>
<text x="454" y="154">─</text>
<text x="464" y="154">─</text>
<text x="474" y="154">─</text>
<text x="484" y="154">─</text>
<text x="494" y="154">─</text>
<text x="504" y="154">─</text>
<text x="514" y="154">─</text>
<text x="524" y="154">─</text>
<text x="534" y="154">─</text>
<text x="544" y="154">─</text>
<text x="554" y="154">─</text>
<text x="564" y="154">─</text>
<text x="574" y="154">─</text>
<text x="584" y="154">─</text>
<text x="594" y="154">─</text>
<text x="604" y="154">─</text>
<text x="614" y="154">─</text>
<text x="624" y="154">─</text>
<text x="634" y="154">─</text>
<text x="644" y="154">─</text>
<text x="654" y="154">─</text>
<text x="664" y="154">─</text>
<text x="674" y="154">┘</text>
<text x="34" y="194">┌</text>
<text x="44" y="194">─</text>
<text x="54" y="194">─</text>
<text x="64" y="194">─</text>
<text x="74" y="194">─</text>
<text x="84" y="194">─</text>
<text x="94" y="194">─</text>
<text x="104" y="194">─</text>
<text x="114" y="194">─</text>
<text x="124" y="194">─</text>
<text x="134" y="194">─</text>
<text x="144" y="194">─</text>
<text x="154" y="194">─</text>
<text x="164" y="194">─</text>
<text x="174" y="194">─</text>
<text x="184" y="194">─</text>
<text x="194" y="194">─</text>
<text x="204" y="194">─</text>
<text x="214" y="194">─</text>
<text x="224" y="194">─</text>
<text x="234" y="194">─</text>
<text x="244" y="194">─</text>
<text x="254" y="194">─</text>
<text x="264" y="194">─</text>
<text x="274" y="194">─</text>
<text x="284" y="194">─</text>
<text x="294" y="194">─</text>
<text x="304" y="194">─</text>
<text x="314" y="194">─</text>
<text x="324" y="194">─</text>
<text x="334" y="194">─</text>
<text x="344" y="194">─</text>
<text x="354" y="194">─</text>
<text x="364" y="194">─</text>
<text x="374" y="194">─</text>
<text x="384" y="194">─</text>
<text x="394" y="194">─</text>
<text x="404" y="194">─</text>
<text x="414" y="194">─</text>
<text x="424" y="194">─</text>
<text x="434" y="194">─</text>
<text x="444" y="194">─</text>
<text x="454" y="194">─</text>
<text x="464" y="194">─</text>
<text x="474" y="194">─</text>
<text x="484" y="194">─</text>
<text x="494" y="194">─</text>
<text x="504" y="194">─</text>
<text x="514" y="194">─</text>
<text x="524" y="194">─</text>
<text x="534" y="194">─</text>
<text x="544" y="194">─</text>
<text x="554" y="194">─</text>
<text x="564" y="194">─</text>
<text x="574" y="194">─</text>
<text x="584" y="194">─</text>
<text x="594" y="194">─</text>
<text x="604" y="194">─</text>
<text x="614" y="194">─</text>
<text x="624" y="194">─</text>
<text x="634" y="194">─</text>
<text x="644" y="194">─</text>
<text x="654" y="194">─</text>
<text x="664" y="194">─</text>
<text x="674" y="194">┐</text>
<text x="34" y="214">│</text>
<text x="64" y="214">需</text>
<text x="84" y="214">求</text>
<text x="114" y="214">2</text>
<text x="124" y="214">：</text>
<text x="144" y="214">不</text>
<text x="164" y="214">死</text>
<text x="184" y="214">鎖</text>
<text x="204" y="214">（</text>
<text x="224" y="214">N</text>
<text x="234" y="214">o</text>
<text x="254" y="214">D</text>
<text x="264" y="214">e</text>
<text x="274" y="214">a</text>
<text x="284" y="214">d</text>
<text x="294" y="214">l</text>
<text x="304" y="214">o</text>
<text x="314" y="214">c</text>
<text x="324" y="214">k</text>
<text x="334" y="214">）</text>
<text x="674" y="214">│</text>
<text x="34" y="234">│</text>
<text x="64" y="234">持</text>
<text x="84" y="234">鎖</text>
<text x="104" y="234">客</text>
<text x="124" y="234">戶</text>
<text x="144" y="234">端</text>
<text x="164" y="234">崩</text>
<text x="184" y="234">潰</text>
<text x="204" y="234">後</text>
<text x="224" y="234">，</text>
<text x="244" y="234">鎖</text>
<text x="264" y="234">必</text>
<text x="284" y="234">須</text>
<text x="304" y="234">自</text>
<text x="324" y="234">動</text>
<text x="344" y="234">釋</text>
<text x="364" y="234">放</text>
<text x="674" y="234">│</text>
<text x="34" y="254">│</text>
<text x="64" y="254">實</text>
<text x="84" y="254">現</text>
<text x="104" y="254">：</text>
<text x="124" y="254">T</text>
<text x="134" y="254">T</text>
<text x="144" y="254">L</text>
<text x="164" y="254">自</text>
<text x="184" y="254">動</text>
<text x="204" y="254">過</text>
<text x="224" y="254">期</text>
<text x="244" y="254">（</text>
<text x="264" y="254">S</text>
<text x="274" y="254">E</text>
<text x="284" y="254">T</text>
<text x="304" y="254">N</text>
<text x="314" y="254">X</text>
<text x="334" y="254">P</text>
<text x="344" y="254">X</text>
<text x="364" y="254">1</text>
<text x="374" y="254">0</text>
<text x="384" y="254">0</text>
<text x="394" y="254">0</text>
<text x="404" y="254">0</text>
<text x="414" y="254">）</text>
<text x="674" y="254">│</text>
<text x="34" y="274">│</text>
<text x="64" y="274">挑</text>
<text x="84" y="274">戰</text>
<text x="104" y="274">：</text>
<text x="124" y="274">T</text>
<text x="134" y="274">T</text>
<text x="144" y="274">L</text>
<text x="164" y="274">設</text>
<text x="184" y="274">定</text>
<text x="204" y="274">多</text>
<text x="224" y="274">長</text>
<text x="244" y="274">？</text>
<text x="264" y="274">太</text>
<text x="284" y="274">短</text>
<text x="314" y="274">→</text>
<text x="334" y="274">任</text>
<text x="354" y="274">務</text>
<text x="374" y="274">未</text>
<text x="394" y="274">完</text>
<text x="414" y="274">鎖</text>
<text x="434" y="274">已</text>
<text x="454" y="274">過</text>
<text x="474" y="274">期</text>
<text x="674" y="274">│</text>
<text x="34" y="294">└</text>
<text x="44" y="294">─</text>
<text x="54" y="294">─</text>
<text x="64" y="294">─</text>
<text x="74" y="294">─</text>
<text x="84" y="294">─</text>
<text x="94" y="294">─</text>
<text x="104" y="294">─</text>
<text x="114" y="294">─</text>
<text x="124" y="294">─</text>
<text x="134" y="294">─</text>
<text x="144" y="294">─</text>
<text x="154" y="294">─</text>
<text x="164" y="294">─</text>
<text x="174" y="294">─</text>
<text x="184" y="294">─</text>
<text x="194" y="294">─</text>
<text x="204" y="294">─</text>
<text x="214" y="294">─</text>
<text x="224" y="294">─</text>
<text x="234" y="294">─</text>
<text x="244" y="294">─</text>
<text x="254" y="294">─</text>
<text x="264" y="294">─</text>
<text x="274" y="294">─</text>
<text x="284" y="294">─</text>
<text x="294" y="294">─</text>
<text x="304" y="294">─</text>
<text x="314" y="294">─</text>
<text x="324" y="294">─</text>
<text x="334" y="294">─</text>
<text x="344" y="294">─</text>
<text x="354" y="294">─</text>
<text x="364" y="294">─</text>
<text x="374" y="294">─</text>
<text x="384" y="294">─</text>
<text x="394" y="294">─</text>
<text x="404" y="294">─</text>
<text x="414" y="294">─</text>
<text x="424" y="294">─</text>
<text x="434" y="294">─</text>
<text x="444" y="294">─</text>
<text x="454" y="294">─</text>
<text x="464" y="294">─</text>
<text x="474" y="294">─</text>
<text x="484" y="294">─</text>
<text x="494" y="294">─</text>
<text x="504" y="294">─</text>
<text x="514" y="294">─</text>
<text x="524" y="294">─</text>
<text x="534" y="294">─</text>
<text x="544" y="294">─</text>
<text x="554" y="294">─</text>
<text x="564" y="294">─</text>
<text x="574" y="294">─</text>
<text x="584" y="294">─</text>
<text x="594" y="294">─</text>
<text x="604" y="294">─</text>
<text x="614" y="294">─</text>
<text x="624" y="294">─</text>
<text x="634" y="294">─</text>
<text x="644" y="294">─</text>
<text x="654" y="294">─</text>
<text x="664" y="294">─</text>
<text x="674" y="294">┘</text>
<text x="34" y="334">┌</text>
<text x="44" y="334">─</text>
<text x="54" y="334">─</text>
<text x="64" y="334">─</text>
<text x="74" y="334">─</text>
<text x="84" y="334">─</text>
<text x="94" y="334">─</text>
<text x="104" y="334">─</text>
<text x="114" y="334">─</text>
<text x="124" y="334">─</text>
<text x="134" y="334">─</text>
<text x="144" y="334">─</text>
<text x="154" y="334">─</text>
<text x="164" y="334">─</text>
<text x="174" y="334">─</text>
<text x="184" y="334">─</text>
<text x="194" y="334">─</text>
<text x="204" y="334">─</text>
<text x="214" y="334">─</text>
<text x="224" y="334">─</text>
<text x="234" y="334">─</text>
<text x="244" y="334">─</text>
<text x="254" y="334">─</text>
<text x="264" y="334">─</text>
<text x="274" y="334">─</text>
<text x="284" y="334">─</text>
<text x="294" y="334">─</text>
<text x="304" y="334">─</text>
<text x="314" y="334">─</text>
<text x="324" y="334">─</text>
<text x="334" y="334">─</text>
<text x="344" y="334">─</text>
<text x="354" y="334">─</text>
<text x="364" y="334">─</text>
<text x="374" y="334">─</text>
<text x="384" y="334">─</text>
<text x="394" y="334">─</text>
<text x="404" y="334">─</text>
<text x="414" y="334">─</text>
<text x="424" y="334">─</text>
<text x="434" y="334">─</text>
<text x="444" y="334">─</text>
<text x="454" y="334">─</text>
<text x="464" y="334">─</text>
<text x="474" y="334">─</text>
<text x="484" y="334">─</text>
<text x="494" y="334">─</text>
<text x="504" y="334">─</text>
<text x="514" y="334">─</text>
<text x="524" y="334">─</text>
<text x="534" y="334">─</text>
<text x="544" y="334">─</text>
<text x="554" y="334">─</text>
<text x="564" y="334">─</text>
<text x="574" y="334">─</text>
<text x="584" y="334">─</text>
<text x="594" y="334">─</text>
<text x="604" y="334">─</text>
<text x="614" y="334">─</text>
<text x="624" y="334">─</text>
<text x="634" y="334">─</text>
<text x="644" y="334">─</text>
<text x="654" y="334">─</text>
<text x="664" y="334">─</text>
<text x="674" y="334">┐</text>
<text x="34" y="354">│</text>
<text x="64" y="354">需</text>
<text x="84" y="354">求</text>
<text x="114" y="354">3</text>
<text x="124" y="354">：</text>
<text x="144" y="354">可</text>
<text x="164" y="354">重</text>
<text x="184" y="354">入</text>
<text x="204" y="354">（</text>
<text x="224" y="354">R</text>
<text x="234" y="354">e</text>
<text x="244" y="354">e</text>
<text x="254" y="354">n</text>
<text x="264" y="354">t</text>
<text x="274" y="354">r</text>
<text x="284" y="354">a</text>
<text x="294" y="354">n</text>
<text x="304" y="354">c</text>
<text x="314" y="354">y</text>
<text x="324" y="354">）</text>
<text x="674" y="354">│</text>
<text x="34" y="374">│</text>
<text x="64" y="374">同</text>
<text x="84" y="374">一</text>
<text x="104" y="374">客</text>
<text x="124" y="374">戶</text>
<text x="144" y="374">端</text>
<text x="164" y="374">可</text>
<text x="184" y="374">多</text>
<text x="204" y="374">次</text>
<text x="224" y="374">獲</text>
<text x="244" y="374">取</text>
<text x="264" y="374">同</text>
<text x="284" y="374">一</text>
<text x="304" y="374">把</text>
<text x="324" y="374">鎖</text>
<text x="674" y="374">│</text>
<text x="34" y="394">│</text>
<text x="64" y="394">實</text>
<text x="84" y="394">現</text>
<text x="104" y="394">：</text>
<text x="124" y="394">鎖</text>
<text x="144" y="394">值</text>
<text x="164" y="394">包</text>
<text x="184" y="394">含</text>
<text x="214" y="394">c</text>
<text x="224" y="394">l</text>
<text x="234" y="394">i</text>
<text x="244" y="394">e</text>
<text x="254" y="394">n</text>
<text x="264" y="394">t</text>
<text x="274" y="394">I</text>
<text x="284" y="394">D</text>
<text x="294" y="394">，</text>
<text x="314" y="394">每</text>
<text x="334" y="394">次</text>
<text x="354" y="394">重</text>
<text x="374" y="394">入</text>
<text x="394" y="394">計</text>
<text x="414" y="394">數</text>
<text x="674" y="394">│</text>
<text x="34" y="414">│</text>
<text x="64" y="414">挑</text>
<text x="84" y="414">戰</text>
<text x="104" y="414">：</text>
<text x="124" y="414">需</text>
<text x="144" y="414">要</text>
<text x="174" y="414">L</text>
<text x="184" y="414">u</text>
<text x="194" y="414">a</text>
<text x="214" y="414">腳</text>
<text x="234" y="414">本</text>
<text x="254" y="414">保</text>
<text x="274" y="414">證</text>
<text x="304" y="414">c</text>
<text x="314" y="414">h</text>
<text x="324" y="414">e</text>
<text x="334" y="414">c</text>
<text x="344" y="414">k</text>
<text x="354" y="414">-</text>
<text x="364" y="414">i</text>
<text x="374" y="414">n</text>
<text x="384" y="414">c</text>
<text x="394" y="414">r</text>
<text x="404" y="414">e</text>
<text x="414" y="414">m</text>
<text x="424" y="414">e</text>
<text x="434" y="414">n</text>
<text x="444" y="414">t</text>
<text x="464" y="414">原</text>
<text x="484" y="414">子</text>
<text x="504" y="414">性</text>
<text x="674" y="414">│</text>
<text x="34" y="434">└</text>
<text x="44" y="434">─</text>
<text x="54" y="434">─</text>
<text x="64" y="434">─</text>
<text x="74" y="434">─</text>
<text x="84" y="434">─</text>
<text x="94" y="434">─</text>
<text x="104" y="434">─</text>
<text x="114" y="434">─</text>
<text x="124" y="434">─</text>
<text x="134" y="434">─</text>
<text x="144" y="434">─</text>
<text x="154" y="434">─</text>
<text x="164" y="434">─</text>
<text x="174" y="434">─</text>
<text x="184" y="434">─</text>
<text x="194" y="434">─</text>
<text x="204" y="434">─</text>
<text x="214" y="434">─</text>
<text x="224" y="434">─</text>
<text x="234" y="434">─</text>
<text x="244" y="434">─</text>
<text x="254" y="434">─</text>
<text x="264" y="434">─</text>
<text x="274" y="434">─</text>
<text x="284" y="434">─</text>
<text x="294" y="434">─</text>
<text x="304" y="434">─</text>
<text x="314" y="434">─</text>
<text x="324" y="434">─</text>
<text x="334" y="434">─</text>
<text x="344" y="434">─</text>
<text x="354" y="434">─</text>
<text x="364" y="434">─</text>
<text x="374" y="434">─</text>
<text x="384" y="434">─</text>
<text x="394" y="434">─</text>
<text x="404" y="434">─</text>
<text x="414" y="434">─</text>
<text x="424" y="434">─</text>
<text x="434" y="434">─</text>
<text x="444" y="434">─</text>
<text x="454" y="434">─</text>
<text x="464" y="434">─</text>
<text x="474" y="434">─</text>
<text x="484" y="434">─</text>
<text x="494" y="434">─</text>
<text x="504" y="434">─</text>
<text x="514" y="434">─</text>
<text x="524" y="434">─</text>
<text x="534" y="434">─</text>
<text x="544" y="434">─</text>
<text x="554" y="434">─</text>
<text x="564" y="434">─</text>
<text x="574" y="434">─</text>
<text x="584" y="434">─</text>
<text x="594" y="434">─</text>
<text x="604" y="434">─</text>
<text x="614" y="434">─</text>
<text x="624" y="434">─</text>
<text x="634" y="434">─</text>
<text x="644" y="434">─</text>
<text x="654" y="434">─</text>
<text x="664" y="434">─</text>
<text x="674" y="434">┘</text>
<text x="34" y="474">┌</text>
<text x="44" y="474">─</text>
<text x="54" y="474">─</text>
<text x="64" y="474">─</text>
<text x="74" y="474">─</text>
<text x="84" y="474">─</text>
<text x="94" y="474">─</text>
<text x="104" y="474">─</text>
<text x="114" y="474">─</text>
<text x="124" y="474">─</text>
<text x="134" y="474">─</text>
<text x="144" y="474">─</text>
<text x="154" y="474">─</text>
<text x="164" y="474">─</text>
<text x="174" y="474">─</text>
<text x="184" y="474">─</text>
<text x="194" y="474">─</text>
<text x="204" y="474">─</text>
<text x="214" y="474">─</text>
<text x="224" y="474">─</text>
<text x="234" y="474">─</text>
<text x="244" y="474">─</text>
<text x="254" y="474">─</text>
<text x="264" y="474">─</text>
<text x="274" y="474">─</text>
<text x="284" y="474">─</text>
<text x="294" y="474">─</text>
<text x="304" y="474">─</text>
<text x="314" y="474">─</text>
<text x="324" y="474">─</text>
<text x="334" y="474">─</text>
<text x="344" y="474">─</text>
<text x="354" y="474">─</text>
<text x="364" y="474">─</text>
<text x="374" y="474">─</text>
<text x="384" y="474">─</text>
<text x="394" y="474">─</text>
<text x="404" y="474">─</text>
<text x="414" y="474">─</text>
<text x="424" y="474">─</text>
<text x="434" y="474">─</text>
<text x="444" y="474">─</text>
<text x="454" y="474">─</text>
<text x="464" y="474">─</text>
<text x="474" y="474">─</text>
<text x="484" y="474">─</text>
<text x="494" y="474">─</text>
<text x="504" y="474">─</text>
<text x="514" y="474">─</text>
<text x="524" y="474">─</text>
<text x="534" y="474">─</text>
<text x="544" y="474">─</text>
<text x="554" y="474">─</text>
<text x="564" y="474">─</text>
<text x="574" y="474">─</text>
<text x="584" y="474">─</text>
<text x="594" y="474">─</text>
<text x="604" y="474">─</text>
<text x="614" y="474">─</text>
<text x="624" y="474">─</text>
<text x="634" y="474">─</text>
<text x="644" y="474">─</text>
<text x="654" y="474">─</text>
<text x="664" y="474">─</text>
<text x="674" y="474">┐</text>
<text x="34" y="494">│</text>
<text x="64" y="494">需</text>
<text x="84" y="494">求</text>
<text x="114" y="494">4</text>
<text x="124" y="494">：</text>
<text x="144" y="494">高</text>
<text x="164" y="494">可</text>
<text x="184" y="494">用</text>
<text x="204" y="494">（</text>
<text x="224" y="494">H</text>
<text x="234" y="494">i</text>
<text x="244" y="494">g</text>
<text x="254" y="494">h</text>
<text x="274" y="494">A</text>
<text x="284" y="494">v</text>
<text x="294" y="494">a</text>
<text x="304" y="494">i</text>
<text x="314" y="494">l</text>
<text x="324" y="494">a</text>
<text x="334" y="494">b</text>
<text x="344" y="494">i</text>
<text x="354" y="494">l</text>
<text x="364" y="494">i</text>
<text x="374" y="494">t</text>
<text x="384" y="494">y</text>
<text x="394" y="494">）</text>
<text x="674" y="494">│</text>
<text x="34" y="514">│</text>
<text x="64" y="514">鎖</text>
<text x="84" y="514">服</text>
<text x="104" y="514">務</text>
<text x="124" y="514">本</text>
<text x="144" y="514">身</text>
<text x="164" y="514">不</text>
<text x="184" y="514">能</text>
<text x="204" y="514">是</text>
<text x="224" y="514">單</text>
<text x="244" y="514">點</text>
<text x="674" y="514">│</text>
<text x="34" y="534">│</text>
<text x="64" y="534">實</text>
<text x="84" y="534">現</text>
<text x="104" y="534">：</text>
<text x="124" y="534">R</text>
<text x="134" y="534">e</text>
<text x="144" y="534">d</text>
<text x="154" y="534">i</text>
<text x="164" y="534">s</text>
<text x="184" y="534">S</text>
<text x="194" y="534">e</text>
<text x="204" y="534">n</text>
<text x="214" y="534">t</text>
<text x="224" y="534">i</text>
<text x="234" y="534">n</text>
<text x="244" y="534">e</text>
<text x="254" y="534">l</text>
<text x="274" y="534">/</text>
<text x="294" y="534">C</text>
<text x="304" y="534">l</text>
<text x="314" y="534">u</text>
<text x="324" y="534">s</text>
<text x="334" y="534">t</text>
<text x="344" y="534">e</text>
<text x="354" y="534">r</text>
<text x="364" y="534">；</text>
<text x="384" y="534">Z</text>
<text x="394" y="534">o</text>
<text x="404" y="534">o</text>
<text x="414" y="534">K</text>
<text x="424" y="534">e</text>
<text x="434" y="534">e</text>
<text x="444" y="534">p</text>
<text x="454" y="534">e</text>
<text x="464" y="534">r</text>
<text x="484" y="534">Q</text>
<text x="494" y="534">u</text>
<text x="504" y="534">o</text>
<text x="514" y="534">r</text>
<text x="524" y="534">u</text>
<text x="534" y="534">m</text>
<text x="674" y="534">│</text>
<text x="34" y="554">│</text>
<text x="64" y="554">挑</text>
<text x="84" y="554">戰</text>
<text x="104" y="554">：</text>
<text x="124" y="554">主</text>
<text x="144" y="554">從</text>
<text x="164" y="554">切</text>
<text x="184" y="554">換</text>
<text x="204" y="554">窗</text>
<text x="224" y="554">口</text>
<text x="244" y="554">期</text>
<text x="264" y="554">可</text>
<text x="284" y="554">能</text>
<text x="304" y="554">導</text>
<text x="324" y="554">致</text>
<text x="344" y="554">鎖</text>
<text x="364" y="554">丟</text>
<text x="384" y="554">失</text>
<text x="674" y="554">│</text>
<text x="34" y="574">└</text>
<text x="44" y="574">─</text>
<text x="54" y="574">─</text>
<text x="64" y="574">─</text>
<text x="74" y="574">─</text>
<text x="84" y="574">─</text>
<text x="94" y="574">─</text>
<text x="104" y="574">─</text>
<text x="114" y="574">─</text>
<text x="124" y="574">─</text>
<text x="134" y="574">─</text>
<text x="144" y="574">─</text>
<text x="154" y="574">─</text>
<text x="164" y="574">─</text>
<text x="174" y="574">─</text>
<text x="184" y="574">─</text>
<text x="194" y="574">─</text>
<text x="204" y="574">─</text>
<text x="214" y="574">─</text>
<text x="224" y="574">─</text>
<text x="234" y="574">─</text>
<text x="244" y="574">─</text>
<text x="254" y="574">─</text>
<text x="264" y="574">─</text>
<text x="274" y="574">─</text>
<text x="284" y="574">─</text>
<text x="294" y="574">─</text>
<text x="304" y="574">─</text>
<text x="314" y="574">─</text>
<text x="324" y="574">─</text>
<text x="334" y="574">─</text>
<text x="344" y="574">─</text>
<text x="354" y="574">─</text>
<text x="364" y="574">─</text>
<text x="374" y="574">─</text>
<text x="384" y="574">─</text>
<text x="394" y="574">─</text>
<text x="404" y="574">─</text>
<text x="414" y="574">─</text>
<text x="424" y="574">─</text>
<text x="434" y="574">─</text>
<text x="444" y="574">─</text>
<text x="454" y="574">─</text>
<text x="464" y="574">─</text>
<text x="474" y="574">─</text>
<text x="484" y="574">─</text>
<text x="494" y="574">─</text>
<text x="504" y="574">─</text>
<text x="514" y="574">─</text>
<text x="524" y="574">─</text>
<text x="534" y="574">─</text>
<text x="544" y="574">─</text>
<text x="554" y="574">─</text>
<text x="564" y="574">─</text>
<text x="574" y="574">─</text>
<text x="584" y="574">─</text>
<text x="594" y="574">─</text>
<text x="604" y="574">─</text>
<text x="614" y="574">─</text>
<text x="624" y="574">─</text>
<text x="634" y="574">─</text>
<text x="644" y="574">─</text>
<text x="654" y="574">─</text>
<text x="664" y="574">─</text>
<text x="674" y="574">┘</text>
<text x="34" y="614">┌</text>
<text x="44" y="614">─</text>
<text x="54" y="614">─</text>
<text x="64" y="614">─</text>
<text x="74" y="614">─</text>
<text x="84" y="614">─</text>
<text x="94" y="614">─</text>
<text x="104" y="614">─</text>
<text x="114" y="614">─</text>
<text x="124" y="614">─</text>
<text x="134" y="614">─</text>
<text x="144" y="614">─</text>
<text x="154" y="614">─</text>
<text x="164" y="614">─</text>
<text x="174" y="614">─</text>
<text x="184" y="614">─</text>
<text x="194" y="614">─</text>
<text x="204" y="614">─</text>
<text x="214" y="614">─</text>
<text x="224" y="614">─</text>
<text x="234" y="614">─</text>
<text x="244" y="614">─</text>
<text x="254" y="614">─</text>
<text x="264" y="614">─</text>
<text x="274" y="614">─</text>
<text x="284" y="614">─</text>
<text x="294" y="614">─</text>
<text x="304" y="614">─</text>
<text x="314" y="614">─</text>
<text x="324" y="614">─</text>
<text x="334" y="614">─</text>
<text x="344" y="614">─</text>
<text x="354" y="614">─</text>
<text x="364" y="614">─</text>
<text x="374" y="614">─</text>
<text x="384" y="614">─</text>
<text x="394" y="614">─</text>
<text x="404" y="614">─</text>
<text x="414" y="614">─</text>
<text x="424" y="614">─</text>
<text x="434" y="614">─</text>
<text x="444" y="614">─</text>
<text x="454" y="614">─</text>
<text x="464" y="614">─</text>
<text x="474" y="614">─</text>
<text x="484" y="614">─</text>
<text x="494" y="614">─</text>
<text x="504" y="614">─</text>
<text x="514" y="614">─</text>
<text x="524" y="614">─</text>
<text x="534" y="614">─</text>
<text x="544" y="614">─</text>
<text x="554" y="614">─</text>
<text x="564" y="614">─</text>
<text x="574" y="614">─</text>
<text x="584" y="614">─</text>
<text x="594" y="614">─</text>
<text x="604" y="614">─</text>
<text x="614" y="614">─</text>
<text x="624" y="614">─</text>
<text x="634" y="614">─</text>
<text x="644" y="614">─</text>
<text x="654" y="614">─</text>
<text x="664" y="614">─</text>
<text x="674" y="614">┐</text>
<text x="34" y="634">│</text>
<text x="64" y="634">需</text>
<text x="84" y="634">求</text>
<text x="114" y="634">5</text>
<text x="124" y="634">：</text>
<text x="144" y="634">可</text>
<text x="164" y="634">續</text>
<text x="184" y="634">租</text>
<text x="204" y="634">（</text>
<text x="224" y="634">W</text>
<text x="234" y="634">a</text>
<text x="244" y="634">t</text>
<text x="254" y="634">c</text>
<text x="264" y="634">h</text>
<text x="274" y="634">d</text>
<text x="284" y="634">o</text>
<text x="294" y="634">g</text>
<text x="314" y="634">/</text>
<text x="334" y="634">L</text>
<text x="344" y="634">e</text>
<text x="354" y="634">a</text>
<text x="364" y="634">s</text>
<text x="374" y="634">e</text>
<text x="394" y="634">R</text>
<text x="404" y="634">e</text>
<text x="414" y="634">n</text>
<text x="424" y="634">e</text>
<text x="434" y="634">w</text>
<text x="444" y="634">a</text>
<text x="454" y="634">l</text>
<text x="464" y="634">）</text>
<text x="674" y="634">│</text>
<text x="34" y="654">│</text>
<text x="64" y="654">任</text>
<text x="84" y="654">務</text>
<text x="104" y="654">執</text>
<text x="124" y="654">行</text>
<text x="144" y="654">時</text>
<text x="164" y="654">間</text>
<text x="184" y="654">超</text>
<text x="204" y="654">過</text>
<text x="234" y="654">T</text>
<text x="244" y="654">T</text>
<text x="254" y="654">L</text>
<text x="274" y="654">時</text>
<text x="294" y="654">，</text>
<text x="314" y="654">自</text>
<text x="334" y="654">動</text>
<text x="354" y="654">延</text>
<text x="374" y="654">長</text>
<text x="394" y="654">鎖</text>
<text x="414" y="654">的</text>
<text x="434" y="654">生</text>
<text x="454" y="654">命</text>
<text x="474" y="654">週</text>
<text x="494" y="654">期</text>
<text x="674" y="654">│</text>
<text x="34" y="674">│</text>
<text x="64" y="674">實</text>
<text x="84" y="674">現</text>
<text x="104" y="674">：</text>
<text x="124" y="674">後</text>
<text x="144" y="674">台</text>
<text x="164" y="674">執</text>
<text x="184" y="674">行</text>
<text x="204" y="674">緒</text>
<text x="224" y="674">定</text>
<text x="244" y="674">期</text>
<text x="274" y="674">E</text>
<text x="284" y="674">X</text>
<text x="294" y="674">P</text>
<text x="304" y="674">I</text>
<text x="314" y="674">R</text>
<text x="324" y="674">E</text>
<text x="344" y="674">k</text>
<text x="354" y="674">e</text>
<text x="364" y="674">y</text>
<text x="384" y="674">n</text>
<text x="394" y="674">e</text>
<text x="404" y="674">w</text>
<text x="414" y="674">_</text>
<text x="424" y="674">t</text>
<text x="434" y="674">t</text>
<text x="444" y="674">l</text>
<text x="674" y="674">│</text>
<text x="34" y="694">│</text>
<text x="64" y="694">挑</text>
<text x="84" y="694">戰</text>
<text x="104" y="694">：</text>
<text x="124" y="694">續</text>
<text x="144" y="694">租</text>
<text x="164" y="694">執</text>
<text x="184" y="694">行</text>
<text x="204" y="694">緒</text>
<text x="224" y="694">本</text>
<text x="244" y="694">身</text>
<text x="264" y="694">崩</text>
<text x="284" y="694">潰</text>
<text x="314" y="694">→</text>
<text x="334" y="694">鎖</text>
<text x="354" y="694">不</text>
<text x="374" y="694">再</text>
<text x="394" y="694">續</text>
<text x="414" y="694">租</text>
<text x="444" y="694">→</text>
<text x="464" y="694">自</text>
<text x="484" y="694">然</text>
<text x="504" y="694">過</text>
<text x="524" y="694">期</text>
<text x="674" y="694">│</text>
<text x="34" y="714">└</text>
<text x="44" y="714">─</text>
<text x="54" y="714">─</text>
<text x="64" y="714">─</text>
<text x="74" y="714">─</text>
<text x="84" y="714">─</text>
<text x="94" y="714">─</text>
<text x="104" y="714">─</text>
<text x="114" y="714">─</text>
<text x="124" y="714">─</text>
<text x="134" y="714">─</text>
<text x="144" y="714">─</text>
<text x="154" y="714">─</text>
<text x="164" y="714">─</text>
<text x="174" y="714">─</text>
<text x="184" y="714">─</text>
<text x="194" y="714">─</text>
<text x="204" y="714">─</text>
<text x="214" y="714">─</text>
<text x="224" y="714">─</text>
<text x="234" y="714">─</text>
<text x="244" y="714">─</text>
<text x="254" y="714">─</text>
<text x="264" y="714">─</text>
<text x="274" y="714">─</text>
<text x="284" y="714">─</text>
<text x="294" y="714">─</text>
<text x="304" y="714">─</text>
<text x="314" y="714">─</text>
<text x="324" y="714">─</text>
<text x="334" y="714">─</text>
<text x="344" y="714">─</text>
<text x="354" y="714">─</text>
<text x="364" y="714">─</text>
<text x="374" y="714">─</text>
<text x="384" y="714">─</text>
<text x="394" y="714">─</text>
<text x="404" y="714">─</text>
<text x="414" y="714">─</text>
<text x="424" y="714">─</text>
<text x="434" y="714">─</text>
<text x="444" y="714">─</text>
<text x="454" y="714">─</text>
<text x="464" y="714">─</text>
<text x="474" y="714">─</text>
<text x="484" y="714">─</text>
<text x="494" y="714">─</text>
<text x="504" y="714">─</text>
<text x="514" y="714">─</text>
<text x="524" y="714">─</text>
<text x="534" y="714">─</text>
<text x="544" y="714">─</text>
<text x="554" y="714">─</text>
<text x="564" y="714">─</text>
<text x="574" y="714">─</text>
<text x="584" y="714">─</text>
<text x="594" y="714">─</text>
<text x="604" y="714">─</text>
<text x="614" y="714">─</text>
<text x="624" y="714">─</text>
<text x="634" y="714">─</text>
<text x="644" y="714">─</text>
<text x="654" y="714">─</text>
<text x="664" y="714">─</text>
<text x="674" y="714">┘</text>
<text x="34" y="754">各</text>
<text x="54" y="754">需</text>
<text x="74" y="754">求</text>
<text x="94" y="754">依</text>
<text x="114" y="754">賴</text>
<text x="134" y="754">關</text>
<text x="154" y="754">係</text>
<text x="174" y="754">：</text>
<text x="34" y="774">互</text>
<text x="54" y="774">斥</text>
<text x="84" y="774">─</text>
<text x="94" y="774">─</text>
<text x="104" y="774">►</text>
<text x="124" y="774">N</text>
<text x="134" y="774">X</text>
<text x="154" y="774">指</text>
<text x="174" y="774">令</text>
<text x="34" y="794">不</text>
<text x="54" y="794">死</text>
<text x="74" y="794">鎖</text>
<text x="104" y="794">─</text>
<text x="114" y="794">─</text>
<text x="124" y="794">►</text>
<text x="144" y="794">T</text>
<text x="154" y="794">T</text>
<text x="164" y="794">L</text>
<text x="34" y="814">誤</text>
<text x="54" y="814">刪</text>
<text x="74" y="814">保</text>
<text x="94" y="814">護</text>
<text x="124" y="814">─</text>
<text x="134" y="814">─</text>
<text x="144" y="814">►</text>
<text x="164" y="814">U</text>
<text x="174" y="814">U</text>
<text x="184" y="814">I</text>
<text x="194" y="814">D</text>
<text x="214" y="814">v</text>
<text x="224" y="814">a</text>
<text x="234" y="814">l</text>
<text x="244" y="814">u</text>
<text x="254" y="814">e</text>
<text x="34" y="834">可</text>
<text x="54" y="834">重</text>
<text x="74" y="834">入</text>
<text x="104" y="834">─</text>
<text x="114" y="834">─</text>
<text x="124" y="834">►</text>
<text x="144" y="834">L</text>
<text x="154" y="834">u</text>
<text x="164" y="834">a</text>
<text x="184" y="834">原</text>
<text x="204" y="834">子</text>
<text x="234" y="834">c</text>
<text x="244" y="834">h</text>
<text x="254" y="834">e</text>
<text x="264" y="834">c</text>
<text x="274" y="834">k</text>
<text x="284" y="834">-</text>
<text x="294" y="834">i</text>
<text x="304" y="834">n</text>
<text x="314" y="834">c</text>
<text x="324" y="834">r</text>
<text x="334" y="834">e</text>
<text x="344" y="834">m</text>
<text x="354" y="834">e</text>
<text x="364" y="834">n</text>
<text x="374" y="834">t</text>
<text x="34" y="854">可</text>
<text x="54" y="854">續</text>
<text x="74" y="854">租</text>
<text x="104" y="854">─</text>
<text x="114" y="854">─</text>
<text x="124" y="854">►</text>
<text x="144" y="854">W</text>
<text x="154" y="854">a</text>
<text x="164" y="854">t</text>
<text x="174" y="854">c</text>
<text x="184" y="854">h</text>
<text x="194" y="854">d</text>
<text x="204" y="854">o</text>
<text x="214" y="854">g</text>
<text x="234" y="854">執</text>
<text x="254" y="854">行</text>
<text x="274" y="854">緒</text>
</g>
</svg>
</div>
<ul>
<li>互斥</li>
<li>可釋放（不死鎖）</li>
<li>故障可恢復</li>
<li>最好可重入/可續租</li>
</ul>
<h2 id="195-apcp-取捨對應-19511954"><a class="header" href="#195-apcp-取捨對應-19511954">19.5 AP/CP 取捨（對應 19.5.1~19.5.4）</a></h2>
<!-- subsection-diagram -->
<h3 id="本小節示意圖-4"><a class="header" href="#本小節示意圖-4">本小節示意圖</a></h3>
<div class="ascii-svg-wrap">
<svg class="ascii-svg" xmlns="http://www.w3.org/2000/svg" width="648" height="1044" viewBox="0 0 648 1044" role="img" aria-label="ASCII diagram">
<g fill="currentColor" font-family="Noto Sans Mono CJK TC, Noto Sans Mono CJK SC, Noto Sans Mono CJK JP, Sarasa Mono TC, Cascadia Mono, JetBrains Mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace" font-size="16" text-rendering="geometricPrecision" xml:space="preserve">
<text x="14" y="14">C</text>
<text x="24" y="14">A</text>
<text x="34" y="14">P</text>
<text x="54" y="14">定</text>
<text x="74" y="14">理</text>
<text x="94" y="14">與</text>
<text x="114" y="14">分</text>
<text x="134" y="14">散</text>
<text x="154" y="14">式</text>
<text x="174" y="14">鎖</text>
<text x="194" y="14">選</text>
<text x="214" y="14">型</text>
<text x="124" y="54">一</text>
<text x="144" y="54">致</text>
<text x="164" y="54">性</text>
<text x="194" y="54">(</text>
<text x="204" y="54">C</text>
<text x="214" y="54">)</text>
<text x="154" y="74">▲</text>
<text x="624" y="94">│</text>
<text x="154" y="114">│</text>
<text x="194" y="114">C</text>
<text x="204" y="114">P</text>
<text x="224" y="114">區</text>
<text x="244" y="114">域</text>
<text x="154" y="134">│</text>
<text x="194" y="134">Z</text>
<text x="204" y="134">o</text>
<text x="214" y="134">o</text>
<text x="224" y="134">K</text>
<text x="234" y="134">e</text>
<text x="244" y="134">e</text>
<text x="254" y="134">p</text>
<text x="264" y="134">e</text>
<text x="274" y="134">r</text>
<text x="294" y="134">●</text>
<text x="154" y="154">│</text>
<text x="194" y="154">e</text>
<text x="204" y="154">t</text>
<text x="214" y="154">c</text>
<text x="224" y="154">d</text>
<text x="294" y="154">●</text>
<text x="624" y="174">│</text>
<text x="624" y="194">│</text>
<text x="34" y="214">─</text>
<text x="44" y="214">─</text>
<text x="54" y="214">─</text>
<text x="64" y="214">─</text>
<text x="74" y="214">─</text>
<text x="84" y="214">─</text>
<text x="94" y="214">─</text>
<text x="104" y="214">─</text>
<text x="114" y="214">─</text>
<text x="124" y="214">─</text>
<text x="134" y="214">─</text>
<text x="144" y="214">─</text>
<text x="154" y="214">┼</text>
<text x="164" y="214">─</text>
<text x="174" y="214">─</text>
<text x="184" y="214">─</text>
<text x="194" y="214">─</text>
<text x="204" y="214">─</text>
<text x="214" y="214">─</text>
<text x="224" y="214">─</text>
<text x="234" y="214">─</text>
<text x="244" y="214">─</text>
<text x="254" y="214">─</text>
<text x="264" y="214">─</text>
<text x="274" y="214">─</text>
<text x="284" y="214">─</text>
<text x="294" y="214">─</text>
<text x="304" y="214">─</text>
<text x="314" y="214">─</text>
<text x="324" y="214">─</text>
<text x="334" y="214">─</text>
<text x="344" y="214">─</text>
<text x="354" y="214">─</text>
<text x="364" y="214">►</text>
<text x="384" y="214">可</text>
<text x="404" y="214">用</text>
<text x="424" y="214">性</text>
<text x="454" y="214">(</text>
<text x="464" y="214">A</text>
<text x="474" y="214">)</text>
<text x="624" y="234">│</text>
<text x="154" y="254">│</text>
<text x="194" y="254">A</text>
<text x="204" y="254">P</text>
<text x="224" y="254">區</text>
<text x="244" y="254">域</text>
<text x="154" y="274">│</text>
<text x="304" y="274">●</text>
<text x="324" y="274">R</text>
<text x="334" y="274">e</text>
<text x="344" y="274">d</text>
<text x="354" y="274">i</text>
<text x="364" y="274">s</text>
<text x="384" y="274">(</text>
<text x="394" y="274">主</text>
<text x="414" y="274">從</text>
<text x="434" y="274">)</text>
<text x="154" y="294">│</text>
<text x="304" y="294">●</text>
<text x="324" y="294">R</text>
<text x="334" y="294">e</text>
<text x="344" y="294">d</text>
<text x="354" y="294">i</text>
<text x="364" y="294">s</text>
<text x="384" y="294">C</text>
<text x="394" y="294">l</text>
<text x="404" y="294">u</text>
<text x="414" y="294">s</text>
<text x="424" y="294">t</text>
<text x="434" y="294">e</text>
<text x="444" y="294">r</text>
<text x="624" y="314">│</text>
<text x="34" y="334">(</text>
<text x="44" y="334">P</text>
<text x="64" y="334">=</text>
<text x="84" y="334">分</text>
<text x="104" y="334">區</text>
<text x="124" y="334">容</text>
<text x="144" y="334">忍</text>
<text x="164" y="334">，</text>
<text x="184" y="334">實</text>
<text x="204" y="334">際</text>
<text x="224" y="334">分</text>
<text x="244" y="334">散</text>
<text x="264" y="334">式</text>
<text x="284" y="334">系</text>
<text x="304" y="334">統</text>
<text x="324" y="334">必</text>
<text x="344" y="334">須</text>
<text x="364" y="334">接</text>
<text x="384" y="334">受</text>
<text x="414" y="334">P</text>
<text x="424" y="334">)</text>
<text x="34" y="374">─</text>
<text x="44" y="374">─</text>
<text x="54" y="374">─</text>
<text x="74" y="374">R</text>
<text x="84" y="374">e</text>
<text x="94" y="374">d</text>
<text x="104" y="374">i</text>
<text x="114" y="374">s</text>
<text x="134" y="374">(</text>
<text x="144" y="374">偏</text>
<text x="174" y="374">A</text>
<text x="184" y="374">P</text>
<text x="194" y="374">)</text>
<text x="214" y="374">─</text>
<text x="224" y="374">─</text>
<text x="234" y="374">─</text>
<text x="244" y="374">─</text>
<text x="254" y="374">─</text>
<text x="264" y="374">─</text>
<text x="274" y="374">─</text>
<text x="284" y="374">─</text>
<text x="294" y="374">─</text>
<text x="304" y="374">─</text>
<text x="314" y="374">─</text>
<text x="324" y="374">─</text>
<text x="334" y="374">─</text>
<text x="344" y="374">─</text>
<text x="354" y="374">─</text>
<text x="364" y="374">─</text>
<text x="374" y="374">─</text>
<text x="384" y="374">─</text>
<text x="394" y="374">─</text>
<text x="404" y="374">─</text>
<text x="414" y="374">─</text>
<text x="424" y="374">─</text>
<text x="434" y="374">─</text>
<text x="444" y="374">─</text>
<text x="454" y="374">─</text>
<text x="464" y="374">─</text>
<text x="474" y="374">─</text>
<text x="484" y="374">─</text>
<text x="494" y="374">─</text>
<text x="504" y="374">─</text>
<text x="514" y="374">─</text>
<text x="524" y="374">─</text>
<text x="534" y="374">─</text>
<text x="544" y="374">─</text>
<text x="554" y="374">─</text>
<text x="564" y="374">─</text>
<text x="574" y="374">─</text>
<text x="584" y="374">─</text>
<text x="594" y="374">─</text>
<text x="604" y="374">─</text>
<text x="614" y="374">─</text>
<text x="624" y="374">─</text>
<text x="34" y="414">優</text>
<text x="54" y="414">點</text>
<text x="74" y="414">：</text>
<text x="34" y="434">・</text>
<text x="54" y="434">極</text>
<text x="74" y="434">高</text>
<text x="94" y="434">吞</text>
<text x="114" y="434">吐</text>
<text x="134" y="434">（</text>
<text x="154" y="434">單</text>
<text x="174" y="434">機</text>
<text x="204" y="434">1</text>
<text x="214" y="434">0</text>
<text x="224" y="434">萬</text>
<text x="244" y="434">+</text>
<text x="264" y="434">Q</text>
<text x="274" y="434">P</text>
<text x="284" y="434">S</text>
<text x="294" y="434">）</text>
<text x="34" y="454">・</text>
<text x="54" y="454">低</text>
<text x="74" y="454">延</text>
<text x="94" y="454">遲</text>
<text x="114" y="454">（</text>
<text x="134" y="454">s</text>
<text x="144" y="454">u</text>
<text x="154" y="454">b</text>
<text x="164" y="454">-</text>
<text x="174" y="454">m</text>
<text x="184" y="454">i</text>
<text x="194" y="454">l</text>
<text x="204" y="454">l</text>
<text x="214" y="454">i</text>
<text x="224" y="454">s</text>
<text x="234" y="454">e</text>
<text x="244" y="454">c</text>
<text x="254" y="454">o</text>
<text x="264" y="454">n</text>
<text x="274" y="454">d</text>
<text x="284" y="454">）</text>
<text x="34" y="474">・</text>
<text x="54" y="474">部</text>
<text x="74" y="474">署</text>
<text x="94" y="474">簡</text>
<text x="114" y="474">單</text>
<text x="34" y="514">弱</text>
<text x="54" y="514">點</text>
<text x="74" y="514">：</text>
<text x="34" y="534">・</text>
<text x="54" y="534">主</text>
<text x="74" y="534">從</text>
<text x="94" y="534">複</text>
<text x="114" y="534">製</text>
<text x="134" y="534">非</text>
<text x="154" y="534">同</text>
<text x="174" y="534">步</text>
<text x="204" y="534">→</text>
<text x="224" y="534">主</text>
<text x="244" y="534">節</text>
<text x="264" y="534">點</text>
<text x="284" y="534">掛</text>
<text x="304" y="534">掉</text>
<text x="324" y="534">切</text>
<text x="344" y="534">換</text>
<text x="364" y="534">期</text>
<text x="384" y="534">間</text>
<text x="404" y="534">，</text>
<text x="424" y="534">新</text>
<text x="444" y="534">主</text>
<text x="464" y="534">可</text>
<text x="484" y="534">能</text>
<text x="504" y="534">無</text>
<text x="524" y="534">鎖</text>
<text x="544" y="534">記</text>
<text x="564" y="534">錄</text>
<text x="34" y="554">・</text>
<text x="54" y="554">C</text>
<text x="64" y="554">l</text>
<text x="74" y="554">u</text>
<text x="84" y="554">s</text>
<text x="94" y="554">t</text>
<text x="104" y="554">e</text>
<text x="114" y="554">r</text>
<text x="134" y="554">模</text>
<text x="154" y="554">式</text>
<text x="184" y="554">→</text>
<text x="204" y="554">S</text>
<text x="214" y="554">E</text>
<text x="224" y="554">T</text>
<text x="244" y="554">N</text>
<text x="254" y="554">X</text>
<text x="274" y="554">無</text>
<text x="294" y="554">法</text>
<text x="314" y="554">跨</text>
<text x="344" y="554">s</text>
<text x="354" y="554">l</text>
<text x="364" y="554">o</text>
<text x="374" y="554">t</text>
<text x="394" y="554">原</text>
<text x="414" y="554">子</text>
<text x="434" y="554">操</text>
<text x="454" y="554">作</text>
<text x="34" y="574">・</text>
<text x="54" y="574">R</text>
<text x="64" y="574">e</text>
<text x="74" y="574">d</text>
<text x="84" y="574">l</text>
<text x="94" y="574">o</text>
<text x="104" y="574">c</text>
<text x="114" y="574">k</text>
<text x="134" y="574">演</text>
<text x="154" y="574">算</text>
<text x="174" y="574">法</text>
<text x="194" y="574">有</text>
<text x="214" y="574">爭</text>
<text x="234" y="574">議</text>
<text x="254" y="574">（</text>
<text x="274" y="574">時</text>
<text x="294" y="574">鐘</text>
<text x="314" y="574">漂</text>
<text x="334" y="574">移</text>
<text x="354" y="574">問</text>
<text x="374" y="574">題</text>
<text x="394" y="574">）</text>
<text x="34" y="614">適</text>
<text x="54" y="614">用</text>
<text x="74" y="614">：</text>
<text x="94" y="614">電</text>
<text x="114" y="614">商</text>
<text x="134" y="614">庫</text>
<text x="154" y="614">存</text>
<text x="174" y="614">、</text>
<text x="194" y="614">快</text>
<text x="214" y="614">取</text>
<text x="234" y="614">更</text>
<text x="254" y="614">新</text>
<text x="274" y="614">、</text>
<text x="294" y="614">冪</text>
<text x="314" y="614">等</text>
<text x="334" y="614">控</text>
<text x="354" y="614">制</text>
<text x="374" y="614">等</text>
<text x="394" y="614">容</text>
<text x="414" y="614">忍</text>
<text x="434" y="614">極</text>
<text x="454" y="614">短</text>
<text x="474" y="614">暫</text>
<text x="494" y="614">鎖</text>
<text x="514" y="614">丟</text>
<text x="534" y="614">失</text>
<text x="554" y="614">的</text>
<text x="574" y="614">場</text>
<text x="594" y="614">景</text>
<text x="34" y="654">─</text>
<text x="44" y="654">─</text>
<text x="54" y="654">─</text>
<text x="74" y="654">Z</text>
<text x="84" y="654">o</text>
<text x="94" y="654">o</text>
<text x="104" y="654">K</text>
<text x="114" y="654">e</text>
<text x="124" y="654">e</text>
<text x="134" y="654">p</text>
<text x="144" y="654">e</text>
<text x="154" y="654">r</text>
<text x="174" y="654">(</text>
<text x="184" y="654">偏</text>
<text x="214" y="654">C</text>
<text x="224" y="654">P</text>
<text x="234" y="654">)</text>
<text x="254" y="654">─</text>
<text x="264" y="654">─</text>
<text x="274" y="654">─</text>
<text x="284" y="654">─</text>
<text x="294" y="654">─</text>
<text x="304" y="654">─</text>
<text x="314" y="654">─</text>
<text x="324" y="654">─</text>
<text x="334" y="654">─</text>
<text x="344" y="654">─</text>
<text x="354" y="654">─</text>
<text x="364" y="654">─</text>
<text x="374" y="654">─</text>
<text x="384" y="654">─</text>
<text x="394" y="654">─</text>
<text x="404" y="654">─</text>
<text x="414" y="654">─</text>
<text x="424" y="654">─</text>
<text x="434" y="654">─</text>
<text x="444" y="654">─</text>
<text x="454" y="654">─</text>
<text x="464" y="654">─</text>
<text x="474" y="654">─</text>
<text x="484" y="654">─</text>
<text x="494" y="654">─</text>
<text x="504" y="654">─</text>
<text x="514" y="654">─</text>
<text x="524" y="654">─</text>
<text x="534" y="654">─</text>
<text x="544" y="654">─</text>
<text x="554" y="654">─</text>
<text x="564" y="654">─</text>
<text x="574" y="654">─</text>
<text x="584" y="654">─</text>
<text x="594" y="654">─</text>
<text x="604" y="654">─</text>
<text x="614" y="654">─</text>
<text x="624" y="654">─</text>
<text x="34" y="694">優</text>
<text x="54" y="694">點</text>
<text x="74" y="694">：</text>
<text x="34" y="714">・</text>
<text x="54" y="714">強</text>
<text x="74" y="714">一</text>
<text x="94" y="714">致</text>
<text x="114" y="714">性</text>
<text x="134" y="714">（</text>
<text x="154" y="714">Z</text>
<text x="164" y="714">a</text>
<text x="174" y="714">b</text>
<text x="194" y="714">協</text>
<text x="214" y="714">議</text>
<text x="244" y="714">Q</text>
<text x="254" y="714">u</text>
<text x="264" y="714">o</text>
<text x="274" y="714">r</text>
<text x="284" y="714">u</text>
<text x="294" y="714">m</text>
<text x="314" y="714">提</text>
<text x="334" y="714">交</text>
<text x="354" y="714">）</text>
<text x="34" y="734">・</text>
<text x="54" y="734">臨</text>
<text x="74" y="734">時</text>
<text x="94" y="734">節</text>
<text x="114" y="734">點</text>
<text x="144" y="734">+</text>
<text x="164" y="734">W</text>
<text x="174" y="734">a</text>
<text x="184" y="734">t</text>
<text x="194" y="734">c</text>
<text x="204" y="734">h</text>
<text x="214" y="734">e</text>
<text x="224" y="734">r</text>
<text x="244" y="734">天</text>
<text x="264" y="734">然</text>
<text x="284" y="734">支</text>
<text x="304" y="734">援</text>
<text x="324" y="734">鎖</text>
<text x="344" y="734">失</text>
<text x="364" y="734">效</text>
<text x="384" y="734">通</text>
<text x="404" y="734">知</text>
<text x="34" y="754">・</text>
<text x="54" y="754">公</text>
<text x="74" y="754">平</text>
<text x="94" y="754">鎖</text>
<text x="114" y="754">（</text>
<text x="134" y="754">順</text>
<text x="154" y="754">序</text>
<text x="174" y="754">節</text>
<text x="194" y="754">點</text>
<text x="214" y="754">）</text>
<text x="34" y="794">弱</text>
<text x="54" y="794">點</text>
<text x="74" y="794">：</text>
<text x="34" y="814">・</text>
<text x="54" y="814">寫</text>
<text x="74" y="814">入</text>
<text x="94" y="814">延</text>
<text x="114" y="814">遲</text>
<text x="134" y="814">高</text>
<text x="154" y="814">（</text>
<text x="174" y="814">需</text>
<text x="194" y="814">要</text>
<text x="214" y="814">多</text>
<text x="234" y="814">數</text>
<text x="254" y="814">節</text>
<text x="274" y="814">點</text>
<text x="294" y="814">確</text>
<text x="314" y="814">認</text>
<text x="334" y="814">）</text>
<text x="34" y="834">・</text>
<text x="54" y="834">單</text>
<text x="74" y="834">機</text>
<text x="104" y="834">Q</text>
<text x="114" y="834">P</text>
<text x="124" y="834">S</text>
<text x="144" y="834">約</text>
<text x="174" y="834">1</text>
<text x="194" y="834">萬</text>
<text x="214" y="834">（</text>
<text x="234" y="834">v</text>
<text x="244" y="834">s</text>
<text x="264" y="834">R</text>
<text x="274" y="834">e</text>
<text x="284" y="834">d</text>
<text x="294" y="834">i</text>
<text x="304" y="834">s</text>
<text x="324" y="834">1</text>
<text x="334" y="834">0</text>
<text x="354" y="834">萬</text>
<text x="374" y="834">+</text>
<text x="384" y="834">）</text>
<text x="34" y="854">・</text>
<text x="54" y="854">Z</text>
<text x="64" y="854">o</text>
<text x="74" y="854">o</text>
<text x="84" y="854">K</text>
<text x="94" y="854">e</text>
<text x="104" y="854">e</text>
<text x="114" y="854">p</text>
<text x="124" y="854">e</text>
<text x="134" y="854">r</text>
<text x="154" y="854">本</text>
<text x="174" y="854">身</text>
<text x="194" y="854">是</text>
<text x="214" y="854">有</text>
<text x="234" y="854">狀</text>
<text x="254" y="854">態</text>
<text x="274" y="854">的</text>
<text x="294" y="854">複</text>
<text x="314" y="854">雜</text>
<text x="334" y="854">系</text>
<text x="354" y="854">統</text>
<text x="34" y="894">適</text>
<text x="54" y="894">用</text>
<text x="74" y="894">：</text>
<text x="94" y="894">金</text>
<text x="114" y="894">融</text>
<text x="134" y="894">交</text>
<text x="154" y="894">易</text>
<text x="174" y="894">、</text>
<text x="194" y="894">配</text>
<text x="214" y="894">置</text>
<text x="234" y="894">管</text>
<text x="254" y="894">理</text>
<text x="274" y="894">、</text>
<text x="294" y="894">L</text>
<text x="304" y="894">e</text>
<text x="314" y="894">a</text>
<text x="324" y="894">d</text>
<text x="334" y="894">e</text>
<text x="344" y="894">r</text>
<text x="364" y="894">選</text>
<text x="384" y="894">舉</text>
<text x="404" y="894">等</text>
<text x="424" y="894">強</text>
<text x="444" y="894">一</text>
<text x="464" y="894">致</text>
<text x="484" y="894">性</text>
<text x="504" y="894">要</text>
<text x="524" y="894">求</text>
<text x="544" y="894">的</text>
<text x="564" y="894">場</text>
<text x="584" y="894">景</text>
<text x="34" y="934">┌</text>
<text x="44" y="934">─</text>
<text x="54" y="934">─</text>
<text x="64" y="934">─</text>
<text x="74" y="934">─</text>
<text x="84" y="934">─</text>
<text x="94" y="934">─</text>
<text x="104" y="934">─</text>
<text x="114" y="934">─</text>
<text x="124" y="934">─</text>
<text x="134" y="934">─</text>
<text x="144" y="934">─</text>
<text x="154" y="934">─</text>
<text x="164" y="934">─</text>
<text x="174" y="934">─</text>
<text x="184" y="934">─</text>
<text x="194" y="934">─</text>
<text x="204" y="934">─</text>
<text x="214" y="934">─</text>
<text x="224" y="934">─</text>
<text x="234" y="934">─</text>
<text x="244" y="934">─</text>
<text x="254" y="934">─</text>
<text x="264" y="934">─</text>
<text x="274" y="934">─</text>
<text x="284" y="934">─</text>
<text x="294" y="934">─</text>
<text x="304" y="934">─</text>
<text x="314" y="934">─</text>
<text x="324" y="934">─</text>
<text x="334" y="934">─</text>
<text x="344" y="934">─</text>
<text x="354" y="934">─</text>
<text x="364" y="934">─</text>
<text x="374" y="934">─</text>
<text x="384" y="934">─</text>
<text x="394" y="934">─</text>
<text x="404" y="934">─</text>
<text x="414" y="934">─</text>
<text x="424" y="934">─</text>
<text x="434" y="934">─</text>
<text x="444" y="934">─</text>
<text x="454" y="934">─</text>
<text x="464" y="934">─</text>
<text x="474" y="934">─</text>
<text x="484" y="934">─</text>
<text x="494" y="934">─</text>
<text x="504" y="934">─</text>
<text x="514" y="934">─</text>
<text x="524" y="934">─</text>
<text x="534" y="934">─</text>
<text x="544" y="934">─</text>
<text x="554" y="934">─</text>
<text x="564" y="934">─</text>
<text x="574" y="934">─</text>
<text x="584" y="934">─</text>
<text x="594" y="934">─</text>
<text x="604" y="934">─</text>
<text x="614" y="934">─</text>
<text x="624" y="934">┐</text>
<text x="34" y="954">│</text>
<text x="64" y="954">選</text>
<text x="84" y="954">型</text>
<text x="104" y="954">建</text>
<text x="124" y="954">議</text>
<text x="144" y="954">：</text>
<text x="624" y="954">│</text>
<text x="34" y="974">│</text>
<text x="64" y="974">・</text>
<text x="84" y="974">高</text>
<text x="104" y="974">吞</text>
<text x="124" y="974">吐</text>
<text x="154" y="974">+</text>
<text x="174" y="974">可</text>
<text x="194" y="974">接</text>
<text x="214" y="974">受</text>
<text x="234" y="974">極</text>
<text x="254" y="974">短</text>
<text x="274" y="974">暫</text>
<text x="294" y="974">不</text>
<text x="314" y="974">一</text>
<text x="334" y="974">致</text>
<text x="364" y="974">→</text>
<text x="384" y="974">R</text>
<text x="394" y="974">e</text>
<text x="404" y="974">d</text>
<text x="414" y="974">i</text>
<text x="424" y="974">s</text>
<text x="624" y="974">│</text>
<text x="34" y="994">│</text>
<text x="64" y="994">・</text>
<text x="84" y="994">強</text>
<text x="104" y="994">一</text>
<text x="124" y="994">致</text>
<text x="154" y="994">+</text>
<text x="174" y="994">低</text>
<text x="194" y="994">吞</text>
<text x="214" y="994">吐</text>
<text x="234" y="994">可</text>
<text x="254" y="994">接</text>
<text x="274" y="994">受</text>
<text x="344" y="994">→</text>
<text x="364" y="994">Z</text>
<text x="374" y="994">o</text>
<text x="384" y="994">o</text>
<text x="394" y="994">K</text>
<text x="404" y="994">e</text>
<text x="414" y="994">e</text>
<text x="424" y="994">p</text>
<text x="434" y="994">e</text>
<text x="444" y="994">r</text>
<text x="464" y="994">/</text>
<text x="484" y="994">e</text>
<text x="494" y="994">t</text>
<text x="504" y="994">c</text>
<text x="514" y="994">d</text>
<text x="624" y="994">│</text>
<text x="34" y="1014">└</text>
<text x="44" y="1014">─</text>
<text x="54" y="1014">─</text>
<text x="64" y="1014">─</text>
<text x="74" y="1014">─</text>
<text x="84" y="1014">─</text>
<text x="94" y="1014">─</text>
<text x="104" y="1014">─</text>
<text x="114" y="1014">─</text>
<text x="124" y="1014">─</text>
<text x="134" y="1014">─</text>
<text x="144" y="1014">─</text>
<text x="154" y="1014">─</text>
<text x="164" y="1014">─</text>
<text x="174" y="1014">─</text>
<text x="184" y="1014">─</text>
<text x="194" y="1014">─</text>
<text x="204" y="1014">─</text>
<text x="214" y="1014">─</text>
<text x="224" y="1014">─</text>
<text x="234" y="1014">─</text>
<text x="244" y="1014">─</text>
<text x="254" y="1014">─</text>
<text x="264" y="1014">─</text>
<text x="274" y="1014">─</text>
<text x="284" y="1014">─</text>
<text x="294" y="1014">─</text>
<text x="304" y="1014">─</text>
<text x="314" y="1014">─</text>
<text x="324" y="1014">─</text>
<text x="334" y="1014">─</text>
<text x="344" y="1014">─</text>
<text x="354" y="1014">─</text>
<text x="364" y="1014">─</text>
<text x="374" y="1014">─</text>
<text x="384" y="1014">─</text>
<text x="394" y="1014">─</text>
<text x="404" y="1014">─</text>
<text x="414" y="1014">─</text>
<text x="424" y="1014">─</text>
<text x="434" y="1014">─</text>
<text x="444" y="1014">─</text>
<text x="454" y="1014">─</text>
<text x="464" y="1014">─</text>
<text x="474" y="1014">─</text>
<text x="484" y="1014">─</text>
<text x="494" y="1014">─</text>
<text x="504" y="1014">─</text>
<text x="514" y="1014">─</text>
<text x="524" y="1014">─</text>
<text x="534" y="1014">─</text>
<text x="544" y="1014">─</text>
<text x="554" y="1014">─</text>
<text x="564" y="1014">─</text>
<text x="574" y="1014">─</text>
<text x="584" y="1014">─</text>
<text x="594" y="1014">─</text>
<text x="604" y="1014">─</text>
<text x="614" y="1014">─</text>
<text x="624" y="1014">┘</text>
</g>
</svg>
</div>
<p>Redis 常偏 AP；ZooKeeper 常偏 CP。</p>
<h2 id="196-redis-鎖演進對應-196119612"><a class="header" href="#196-redis-鎖演進對應-196119612">19.6 Redis 鎖演進（對應 19.6.1~19.6.12）</a></h2>
<!-- subsection-diagram -->
<h3 id="本小節示意圖-5"><a class="header" href="#本小節示意圖-5">本小節示意圖</a></h3>
<div class="ascii-svg-wrap">
<svg class="ascii-svg" xmlns="http://www.w3.org/2000/svg" width="658" height="1484" viewBox="0 0 658 1484" role="img" aria-label="ASCII diagram">
<g fill="currentColor" font-family="Noto Sans Mono CJK TC, Noto Sans Mono CJK SC, Noto Sans Mono CJK JP, Sarasa Mono TC, Cascadia Mono, JetBrains Mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace" font-size="16" text-rendering="geometricPrecision" xml:space="preserve">
<text x="14" y="14">R</text>
<text x="24" y="14">e</text>
<text x="34" y="14">d</text>
<text x="44" y="14">i</text>
<text x="54" y="14">s</text>
<text x="74" y="14">分</text>
<text x="94" y="14">散</text>
<text x="114" y="14">式</text>
<text x="134" y="14">鎖</text>
<text x="154" y="14">四</text>
<text x="174" y="14">代</text>
<text x="194" y="14">演</text>
<text x="214" y="14">進</text>
<text x="34" y="54">─</text>
<text x="44" y="54">─</text>
<text x="54" y="54">─</text>
<text x="64" y="54">─</text>
<text x="74" y="54">─</text>
<text x="84" y="54">─</text>
<text x="94" y="54">─</text>
<text x="104" y="54">─</text>
<text x="114" y="54">─</text>
<text x="124" y="54">─</text>
<text x="134" y="54">─</text>
<text x="144" y="54">─</text>
<text x="154" y="54">─</text>
<text x="164" y="54">─</text>
<text x="174" y="54">─</text>
<text x="184" y="54">─</text>
<text x="194" y="54">─</text>
<text x="204" y="54">─</text>
<text x="214" y="54">─</text>
<text x="224" y="54">─</text>
<text x="234" y="54">─</text>
<text x="244" y="54">─</text>
<text x="254" y="54">─</text>
<text x="264" y="54">─</text>
<text x="274" y="54">─</text>
<text x="284" y="54">─</text>
<text x="294" y="54">─</text>
<text x="304" y="54">─</text>
<text x="314" y="54">─</text>
<text x="324" y="54">─</text>
<text x="334" y="54">─</text>
<text x="344" y="54">─</text>
<text x="354" y="54">─</text>
<text x="364" y="54">─</text>
<text x="374" y="54">─</text>
<text x="384" y="54">─</text>
<text x="394" y="54">─</text>
<text x="404" y="54">─</text>
<text x="414" y="54">─</text>
<text x="424" y="54">─</text>
<text x="434" y="54">─</text>
<text x="444" y="54">─</text>
<text x="454" y="54">─</text>
<text x="464" y="54">─</text>
<text x="474" y="54">─</text>
<text x="484" y="54">─</text>
<text x="494" y="54">─</text>
<text x="504" y="54">─</text>
<text x="514" y="54">─</text>
<text x="524" y="54">─</text>
<text x="534" y="54">─</text>
<text x="544" y="54">─</text>
<text x="554" y="54">─</text>
<text x="564" y="54">─</text>
<text x="574" y="54">─</text>
<text x="584" y="54">─</text>
<text x="594" y="54">─</text>
<text x="604" y="54">─</text>
<text x="614" y="54">─</text>
<text x="624" y="54">─</text>
<text x="634" y="54">─</text>
<text x="34" y="74">V</text>
<text x="44" y="74">1</text>
<text x="54" y="74">：</text>
<text x="74" y="74">S</text>
<text x="84" y="74">E</text>
<text x="94" y="74">T</text>
<text x="114" y="74">N</text>
<text x="124" y="74">X</text>
<text x="134" y="74">（</text>
<text x="154" y="74">最</text>
<text x="174" y="74">簡</text>
<text x="194" y="74">版</text>
<text x="214" y="74">）</text>
<text x="34" y="94">─</text>
<text x="44" y="94">─</text>
<text x="54" y="94">─</text>
<text x="64" y="94">─</text>
<text x="74" y="94">─</text>
<text x="84" y="94">─</text>
<text x="94" y="94">─</text>
<text x="104" y="94">─</text>
<text x="114" y="94">─</text>
<text x="124" y="94">─</text>
<text x="134" y="94">─</text>
<text x="144" y="94">─</text>
<text x="154" y="94">─</text>
<text x="164" y="94">─</text>
<text x="174" y="94">─</text>
<text x="184" y="94">─</text>
<text x="194" y="94">─</text>
<text x="204" y="94">─</text>
<text x="214" y="94">─</text>
<text x="224" y="94">─</text>
<text x="234" y="94">─</text>
<text x="244" y="94">─</text>
<text x="254" y="94">─</text>
<text x="264" y="94">─</text>
<text x="274" y="94">─</text>
<text x="284" y="94">─</text>
<text x="294" y="94">─</text>
<text x="304" y="94">─</text>
<text x="314" y="94">─</text>
<text x="324" y="94">─</text>
<text x="334" y="94">─</text>
<text x="344" y="94">─</text>
<text x="354" y="94">─</text>
<text x="364" y="94">─</text>
<text x="374" y="94">─</text>
<text x="384" y="94">─</text>
<text x="394" y="94">─</text>
<text x="404" y="94">─</text>
<text x="414" y="94">─</text>
<text x="424" y="94">─</text>
<text x="434" y="94">─</text>
<text x="444" y="94">─</text>
<text x="454" y="94">─</text>
<text x="464" y="94">─</text>
<text x="474" y="94">─</text>
<text x="484" y="94">─</text>
<text x="494" y="94">─</text>
<text x="504" y="94">─</text>
<text x="514" y="94">─</text>
<text x="524" y="94">─</text>
<text x="534" y="94">─</text>
<text x="544" y="94">─</text>
<text x="554" y="94">─</text>
<text x="564" y="94">─</text>
<text x="574" y="94">─</text>
<text x="584" y="94">─</text>
<text x="594" y="94">─</text>
<text x="604" y="94">─</text>
<text x="614" y="94">─</text>
<text x="624" y="94">─</text>
<text x="634" y="94">─</text>
<text x="34" y="134">S</text>
<text x="44" y="134">E</text>
<text x="54" y="134">T</text>
<text x="74" y="134">l</text>
<text x="84" y="134">o</text>
<text x="94" y="134">c</text>
<text x="104" y="134">k</text>
<text x="114" y="134">_</text>
<text x="124" y="134">k</text>
<text x="134" y="134">e</text>
<text x="144" y="134">y</text>
<text x="164" y="134">1</text>
<text x="184" y="134">N</text>
<text x="194" y="134">X</text>
<text x="634" y="154">│</text>
<text x="84" y="174">▼</text>
<text x="34" y="194">✓</text>
<text x="54" y="194">獲</text>
<text x="74" y="194">得</text>
<text x="94" y="194">鎖</text>
<text x="34" y="214">D</text>
<text x="44" y="214">E</text>
<text x="54" y="214">L</text>
<text x="74" y="214">l</text>
<text x="84" y="214">o</text>
<text x="94" y="214">c</text>
<text x="104" y="214">k</text>
<text x="114" y="214">_</text>
<text x="124" y="214">k</text>
<text x="134" y="214">e</text>
<text x="144" y="214">y</text>
<text x="174" y="214">←</text>
<text x="194" y="214">崩</text>
<text x="214" y="214">潰</text>
<text x="234" y="214">時</text>
<text x="254" y="214">沒</text>
<text x="274" y="214">執</text>
<text x="294" y="214">行</text>
<text x="324" y="214">→</text>
<text x="344" y="214">鎖</text>
<text x="364" y="214">永</text>
<text x="384" y="214">久</text>
<text x="404" y="214">存</text>
<text x="424" y="214">在</text>
<text x="454" y="214">→</text>
<text x="474" y="214">死</text>
<text x="494" y="214">鎖</text>
<text x="514" y="214">！</text>
<text x="34" y="254">問</text>
<text x="54" y="254">題</text>
<text x="74" y="254">：</text>
<text x="94" y="254">無</text>
<text x="124" y="254">T</text>
<text x="134" y="254">T</text>
<text x="144" y="254">L</text>
<text x="154" y="254">，</text>
<text x="174" y="254">崩</text>
<text x="194" y="254">潰</text>
<text x="214" y="254">後</text>
<text x="234" y="254">永</text>
<text x="254" y="254">不</text>
<text x="274" y="254">釋</text>
<text x="294" y="254">放</text>
<text x="34" y="294">─</text>
<text x="44" y="294">─</text>
<text x="54" y="294">─</text>
<text x="64" y="294">─</text>
<text x="74" y="294">─</text>
<text x="84" y="294">─</text>
<text x="94" y="294">─</text>
<text x="104" y="294">─</text>
<text x="114" y="294">─</text>
<text x="124" y="294">─</text>
<text x="134" y="294">─</text>
<text x="144" y="294">─</text>
<text x="154" y="294">─</text>
<text x="164" y="294">─</text>
<text x="174" y="294">─</text>
<text x="184" y="294">─</text>
<text x="194" y="294">─</text>
<text x="204" y="294">─</text>
<text x="214" y="294">─</text>
<text x="224" y="294">─</text>
<text x="234" y="294">─</text>
<text x="244" y="294">─</text>
<text x="254" y="294">─</text>
<text x="264" y="294">─</text>
<text x="274" y="294">─</text>
<text x="284" y="294">─</text>
<text x="294" y="294">─</text>
<text x="304" y="294">─</text>
<text x="314" y="294">─</text>
<text x="324" y="294">─</text>
<text x="334" y="294">─</text>
<text x="344" y="294">─</text>
<text x="354" y="294">─</text>
<text x="364" y="294">─</text>
<text x="374" y="294">─</text>
<text x="384" y="294">─</text>
<text x="394" y="294">─</text>
<text x="404" y="294">─</text>
<text x="414" y="294">─</text>
<text x="424" y="294">─</text>
<text x="434" y="294">─</text>
<text x="444" y="294">─</text>
<text x="454" y="294">─</text>
<text x="464" y="294">─</text>
<text x="474" y="294">─</text>
<text x="484" y="294">─</text>
<text x="494" y="294">─</text>
<text x="504" y="294">─</text>
<text x="514" y="294">─</text>
<text x="524" y="294">─</text>
<text x="534" y="294">─</text>
<text x="544" y="294">─</text>
<text x="554" y="294">─</text>
<text x="564" y="294">─</text>
<text x="574" y="294">─</text>
<text x="584" y="294">─</text>
<text x="594" y="294">─</text>
<text x="604" y="294">─</text>
<text x="614" y="294">─</text>
<text x="624" y="294">─</text>
<text x="634" y="294">─</text>
<text x="34" y="314">V</text>
<text x="44" y="314">2</text>
<text x="54" y="314">：</text>
<text x="74" y="314">S</text>
<text x="84" y="314">E</text>
<text x="94" y="314">T</text>
<text x="114" y="314">N</text>
<text x="124" y="314">X</text>
<text x="144" y="314">P</text>
<text x="154" y="314">X</text>
<text x="174" y="314">t</text>
<text x="184" y="314">t</text>
<text x="194" y="314">l</text>
<text x="204" y="314">（</text>
<text x="224" y="314">加</text>
<text x="254" y="314">T</text>
<text x="264" y="314">T</text>
<text x="274" y="314">L</text>
<text x="284" y="314">）</text>
<text x="34" y="334">─</text>
<text x="44" y="334">─</text>
<text x="54" y="334">─</text>
<text x="64" y="334">─</text>
<text x="74" y="334">─</text>
<text x="84" y="334">─</text>
<text x="94" y="334">─</text>
<text x="104" y="334">─</text>
<text x="114" y="334">─</text>
<text x="124" y="334">─</text>
<text x="134" y="334">─</text>
<text x="144" y="334">─</text>
<text x="154" y="334">─</text>
<text x="164" y="334">─</text>
<text x="174" y="334">─</text>
<text x="184" y="334">─</text>
<text x="194" y="334">─</text>
<text x="204" y="334">─</text>
<text x="214" y="334">─</text>
<text x="224" y="334">─</text>
<text x="234" y="334">─</text>
<text x="244" y="334">─</text>
<text x="254" y="334">─</text>
<text x="264" y="334">─</text>
<text x="274" y="334">─</text>
<text x="284" y="334">─</text>
<text x="294" y="334">─</text>
<text x="304" y="334">─</text>
<text x="314" y="334">─</text>
<text x="324" y="334">─</text>
<text x="334" y="334">─</text>
<text x="344" y="334">─</text>
<text x="354" y="334">─</text>
<text x="364" y="334">─</text>
<text x="374" y="334">─</text>
<text x="384" y="334">─</text>
<text x="394" y="334">─</text>
<text x="404" y="334">─</text>
<text x="414" y="334">─</text>
<text x="424" y="334">─</text>
<text x="434" y="334">─</text>
<text x="444" y="334">─</text>
<text x="454" y="334">─</text>
<text x="464" y="334">─</text>
<text x="474" y="334">─</text>
<text x="484" y="334">─</text>
<text x="494" y="334">─</text>
<text x="504" y="334">─</text>
<text x="514" y="334">─</text>
<text x="524" y="334">─</text>
<text x="534" y="334">─</text>
<text x="544" y="334">─</text>
<text x="554" y="334">─</text>
<text x="564" y="334">─</text>
<text x="574" y="334">─</text>
<text x="584" y="334">─</text>
<text x="594" y="334">─</text>
<text x="604" y="334">─</text>
<text x="614" y="334">─</text>
<text x="624" y="334">─</text>
<text x="634" y="334">─</text>
<text x="34" y="374">S</text>
<text x="44" y="374">E</text>
<text x="54" y="374">T</text>
<text x="74" y="374">l</text>
<text x="84" y="374">o</text>
<text x="94" y="374">c</text>
<text x="104" y="374">k</text>
<text x="114" y="374">_</text>
<text x="124" y="374">k</text>
<text x="134" y="374">e</text>
<text x="144" y="374">y</text>
<text x="164" y="374">1</text>
<text x="184" y="374">N</text>
<text x="194" y="374">X</text>
<text x="214" y="374">P</text>
<text x="224" y="374">X</text>
<text x="244" y="374">1</text>
<text x="254" y="374">0</text>
<text x="264" y="374">0</text>
<text x="274" y="374">0</text>
<text x="284" y="374">0</text>
<text x="634" y="394">│</text>
<text x="84" y="414">▼</text>
<text x="34" y="434">✓</text>
<text x="54" y="434">獲</text>
<text x="74" y="434">得</text>
<text x="94" y="434">鎖</text>
<text x="114" y="434">（</text>
<text x="134" y="434">1</text>
<text x="144" y="434">0</text>
<text x="154" y="434">秒</text>
<text x="174" y="434">後</text>
<text x="194" y="434">自</text>
<text x="214" y="434">動</text>
<text x="234" y="434">過</text>
<text x="254" y="434">期</text>
<text x="274" y="434">）</text>
<text x="34" y="454">D</text>
<text x="44" y="454">E</text>
<text x="54" y="454">L</text>
<text x="74" y="454">l</text>
<text x="84" y="454">o</text>
<text x="94" y="454">c</text>
<text x="104" y="454">k</text>
<text x="114" y="454">_</text>
<text x="124" y="454">k</text>
<text x="134" y="454">e</text>
<text x="144" y="454">y</text>
<text x="174" y="454">←</text>
<text x="194" y="454">若</text>
<text x="214" y="454">任</text>
<text x="234" y="454">務</text>
<text x="254" y="454">執</text>
<text x="274" y="454">行</text>
<text x="294" y="454">時</text>
<text x="314" y="454">間</text>
<text x="344" y="454">&gt;</text>
<text x="364" y="454">1</text>
<text x="374" y="454">0</text>
<text x="384" y="454">s</text>
<text x="394" y="454">，</text>
<text x="414" y="454">鎖</text>
<text x="434" y="454">已</text>
<text x="454" y="454">被</text>
<text x="474" y="454">其</text>
<text x="494" y="454">他</text>
<text x="514" y="454">人</text>
<text x="534" y="454">拿</text>
<text x="554" y="454">走</text>
<text x="194" y="474">此</text>
<text x="214" y="474">時</text>
<text x="244" y="474">D</text>
<text x="254" y="474">E</text>
<text x="264" y="474">L</text>
<text x="284" y="474">刪</text>
<text x="304" y="474">掉</text>
<text x="324" y="474">別</text>
<text x="344" y="474">人</text>
<text x="364" y="474">的</text>
<text x="384" y="474">鎖</text>
<text x="404" y="474">！</text>
<text x="424" y="474">→</text>
<text x="444" y="474">誤</text>
<text x="464" y="474">刪</text>
<text x="484" y="474">！</text>
<text x="34" y="514">問</text>
<text x="54" y="514">題</text>
<text x="74" y="514">：</text>
<text x="94" y="514">鎖</text>
<text x="114" y="514">的</text>
<text x="144" y="514">v</text>
<text x="154" y="514">a</text>
<text x="164" y="514">l</text>
<text x="174" y="514">u</text>
<text x="184" y="514">e</text>
<text x="204" y="514">沒</text>
<text x="224" y="514">有</text>
<text x="244" y="514">身</text>
<text x="264" y="514">份</text>
<text x="284" y="514">，</text>
<text x="304" y="514">誰</text>
<text x="324" y="514">都</text>
<text x="344" y="514">可</text>
<text x="364" y="514">以</text>
<text x="384" y="514">刪</text>
<text x="34" y="554">─</text>
<text x="44" y="554">─</text>
<text x="54" y="554">─</text>
<text x="64" y="554">─</text>
<text x="74" y="554">─</text>
<text x="84" y="554">─</text>
<text x="94" y="554">─</text>
<text x="104" y="554">─</text>
<text x="114" y="554">─</text>
<text x="124" y="554">─</text>
<text x="134" y="554">─</text>
<text x="144" y="554">─</text>
<text x="154" y="554">─</text>
<text x="164" y="554">─</text>
<text x="174" y="554">─</text>
<text x="184" y="554">─</text>
<text x="194" y="554">─</text>
<text x="204" y="554">─</text>
<text x="214" y="554">─</text>
<text x="224" y="554">─</text>
<text x="234" y="554">─</text>
<text x="244" y="554">─</text>
<text x="254" y="554">─</text>
<text x="264" y="554">─</text>
<text x="274" y="554">─</text>
<text x="284" y="554">─</text>
<text x="294" y="554">─</text>
<text x="304" y="554">─</text>
<text x="314" y="554">─</text>
<text x="324" y="554">─</text>
<text x="334" y="554">─</text>
<text x="344" y="554">─</text>
<text x="354" y="554">─</text>
<text x="364" y="554">─</text>
<text x="374" y="554">─</text>
<text x="384" y="554">─</text>
<text x="394" y="554">─</text>
<text x="404" y="554">─</text>
<text x="414" y="554">─</text>
<text x="424" y="554">─</text>
<text x="434" y="554">─</text>
<text x="444" y="554">─</text>
<text x="454" y="554">─</text>
<text x="464" y="554">─</text>
<text x="474" y="554">─</text>
<text x="484" y="554">─</text>
<text x="494" y="554">─</text>
<text x="504" y="554">─</text>
<text x="514" y="554">─</text>
<text x="524" y="554">─</text>
<text x="534" y="554">─</text>
<text x="544" y="554">─</text>
<text x="554" y="554">─</text>
<text x="564" y="554">─</text>
<text x="574" y="554">─</text>
<text x="584" y="554">─</text>
<text x="594" y="554">─</text>
<text x="604" y="554">─</text>
<text x="614" y="554">─</text>
<text x="624" y="554">─</text>
<text x="634" y="554">─</text>
<text x="34" y="574">V</text>
<text x="44" y="574">3</text>
<text x="54" y="574">：</text>
<text x="74" y="574">S</text>
<text x="84" y="574">E</text>
<text x="94" y="574">T</text>
<text x="114" y="574">N</text>
<text x="124" y="574">X</text>
<text x="144" y="574">P</text>
<text x="154" y="574">X</text>
<text x="174" y="574">+</text>
<text x="194" y="574">L</text>
<text x="204" y="574">u</text>
<text x="214" y="574">a</text>
<text x="234" y="574">原</text>
<text x="254" y="574">子</text>
<text x="284" y="574">c</text>
<text x="294" y="574">h</text>
<text x="304" y="574">e</text>
<text x="314" y="574">c</text>
<text x="324" y="574">k</text>
<text x="334" y="574">-</text>
<text x="344" y="574">d</text>
<text x="354" y="574">e</text>
<text x="364" y="574">l</text>
<text x="374" y="574">e</text>
<text x="384" y="574">t</text>
<text x="394" y="574">e</text>
<text x="404" y="574">（</text>
<text x="424" y="574">加</text>
<text x="444" y="574">身</text>
<text x="464" y="574">份</text>
<text x="484" y="574">驗</text>
<text x="504" y="574">證</text>
<text x="524" y="574">）</text>
<text x="34" y="594">─</text>
<text x="44" y="594">─</text>
<text x="54" y="594">─</text>
<text x="64" y="594">─</text>
<text x="74" y="594">─</text>
<text x="84" y="594">─</text>
<text x="94" y="594">─</text>
<text x="104" y="594">─</text>
<text x="114" y="594">─</text>
<text x="124" y="594">─</text>
<text x="134" y="594">─</text>
<text x="144" y="594">─</text>
<text x="154" y="594">─</text>
<text x="164" y="594">─</text>
<text x="174" y="594">─</text>
<text x="184" y="594">─</text>
<text x="194" y="594">─</text>
<text x="204" y="594">─</text>
<text x="214" y="594">─</text>
<text x="224" y="594">─</text>
<text x="234" y="594">─</text>
<text x="244" y="594">─</text>
<text x="254" y="594">─</text>
<text x="264" y="594">─</text>
<text x="274" y="594">─</text>
<text x="284" y="594">─</text>
<text x="294" y="594">─</text>
<text x="304" y="594">─</text>
<text x="314" y="594">─</text>
<text x="324" y="594">─</text>
<text x="334" y="594">─</text>
<text x="344" y="594">─</text>
<text x="354" y="594">─</text>
<text x="364" y="594">─</text>
<text x="374" y="594">─</text>
<text x="384" y="594">─</text>
<text x="394" y="594">─</text>
<text x="404" y="594">─</text>
<text x="414" y="594">─</text>
<text x="424" y="594">─</text>
<text x="434" y="594">─</text>
<text x="444" y="594">─</text>
<text x="454" y="594">─</text>
<text x="464" y="594">─</text>
<text x="474" y="594">─</text>
<text x="484" y="594">─</text>
<text x="494" y="594">─</text>
<text x="504" y="594">─</text>
<text x="514" y="594">─</text>
<text x="524" y="594">─</text>
<text x="534" y="594">─</text>
<text x="544" y="594">─</text>
<text x="554" y="594">─</text>
<text x="564" y="594">─</text>
<text x="574" y="594">─</text>
<text x="584" y="594">─</text>
<text x="594" y="594">─</text>
<text x="604" y="594">─</text>
<text x="614" y="594">─</text>
<text x="624" y="594">─</text>
<text x="634" y="594">─</text>
<text x="34" y="634">S</text>
<text x="44" y="634">E</text>
<text x="54" y="634">T</text>
<text x="74" y="634">l</text>
<text x="84" y="634">o</text>
<text x="94" y="634">c</text>
<text x="104" y="634">k</text>
<text x="114" y="634">_</text>
<text x="124" y="634">k</text>
<text x="134" y="634">e</text>
<text x="144" y="634">y</text>
<text x="164" y="634">{</text>
<text x="174" y="634">u</text>
<text x="184" y="634">u</text>
<text x="194" y="634">i</text>
<text x="204" y="634">d</text>
<text x="214" y="634">}</text>
<text x="234" y="634">N</text>
<text x="244" y="634">X</text>
<text x="264" y="634">P</text>
<text x="274" y="634">X</text>
<text x="294" y="634">1</text>
<text x="304" y="634">0</text>
<text x="314" y="634">0</text>
<text x="324" y="634">0</text>
<text x="334" y="634">0</text>
<text x="634" y="654">│</text>
<text x="84" y="674">▼</text>
<text x="34" y="694">✓</text>
<text x="54" y="694">獲</text>
<text x="74" y="694">得</text>
<text x="94" y="694">鎖</text>
<text x="34" y="714">解</text>
<text x="54" y="714">鎖</text>
<text x="74" y="714">時</text>
<text x="94" y="714">執</text>
<text x="114" y="714">行</text>
<text x="144" y="714">L</text>
<text x="154" y="714">u</text>
<text x="164" y="714">a</text>
<text x="184" y="714">腳</text>
<text x="204" y="714">本</text>
<text x="224" y="714">（</text>
<text x="244" y="714">原</text>
<text x="264" y="714">子</text>
<text x="284" y="714">）</text>
<text x="304" y="714">：</text>
<text x="34" y="734">┌</text>
<text x="44" y="734">─</text>
<text x="54" y="734">─</text>
<text x="64" y="734">─</text>
<text x="74" y="734">─</text>
<text x="84" y="734">─</text>
<text x="94" y="734">─</text>
<text x="104" y="734">─</text>
<text x="114" y="734">─</text>
<text x="124" y="734">─</text>
<text x="134" y="734">─</text>
<text x="144" y="734">─</text>
<text x="154" y="734">─</text>
<text x="164" y="734">─</text>
<text x="174" y="734">─</text>
<text x="184" y="734">─</text>
<text x="194" y="734">─</text>
<text x="204" y="734">─</text>
<text x="214" y="734">─</text>
<text x="224" y="734">─</text>
<text x="234" y="734">─</text>
<text x="244" y="734">─</text>
<text x="254" y="734">─</text>
<text x="264" y="734">─</text>
<text x="274" y="734">─</text>
<text x="284" y="734">─</text>
<text x="294" y="734">─</text>
<text x="304" y="734">─</text>
<text x="314" y="734">─</text>
<text x="324" y="734">─</text>
<text x="334" y="734">─</text>
<text x="344" y="734">─</text>
<text x="354" y="734">─</text>
<text x="364" y="734">─</text>
<text x="374" y="734">─</text>
<text x="384" y="734">─</text>
<text x="394" y="734">─</text>
<text x="404" y="734">─</text>
<text x="414" y="734">─</text>
<text x="424" y="734">─</text>
<text x="434" y="734">─</text>
<text x="444" y="734">─</text>
<text x="454" y="734">─</text>
<text x="464" y="734">─</text>
<text x="474" y="734">─</text>
<text x="484" y="734">─</text>
<text x="494" y="734">─</text>
<text x="504" y="734">─</text>
<text x="514" y="734">─</text>
<text x="524" y="734">─</text>
<text x="534" y="734">─</text>
<text x="544" y="734">─</text>
<text x="554" y="734">─</text>
<text x="564" y="734">─</text>
<text x="574" y="734">─</text>
<text x="584" y="734">─</text>
<text x="594" y="734">─</text>
<text x="604" y="734">─</text>
<text x="614" y="734">─</text>
<text x="624" y="734">─</text>
<text x="634" y="734">┐</text>
<text x="34" y="754">│</text>
<text x="64" y="754">i</text>
<text x="74" y="754">f</text>
<text x="94" y="754">r</text>
<text x="104" y="754">e</text>
<text x="114" y="754">d</text>
<text x="124" y="754">i</text>
<text x="134" y="754">s</text>
<text x="144" y="754">.</text>
<text x="154" y="754">c</text>
<text x="164" y="754">a</text>
<text x="174" y="754">l</text>
<text x="184" y="754">l</text>
<text x="194" y="754">(</text>
<text x="204" y="754">&#x27;</text>
<text x="214" y="754">G</text>
<text x="224" y="754">E</text>
<text x="234" y="754">T</text>
<text x="244" y="754">&#x27;</text>
<text x="254" y="754">,</text>
<text x="274" y="754">k</text>
<text x="284" y="754">e</text>
<text x="294" y="754">y</text>
<text x="304" y="754">)</text>
<text x="324" y="754">=</text>
<text x="334" y="754">=</text>
<text x="354" y="754">u</text>
<text x="364" y="754">u</text>
<text x="374" y="754">i</text>
<text x="384" y="754">d</text>
<text x="404" y="754">t</text>
<text x="414" y="754">h</text>
<text x="424" y="754">e</text>
<text x="434" y="754">n</text>
<text x="634" y="754">│</text>
<text x="34" y="774">│</text>
<text x="104" y="774">r</text>
<text x="114" y="774">e</text>
<text x="124" y="774">t</text>
<text x="134" y="774">u</text>
<text x="144" y="774">r</text>
<text x="154" y="774">n</text>
<text x="174" y="774">r</text>
<text x="184" y="774">e</text>
<text x="194" y="774">d</text>
<text x="204" y="774">i</text>
<text x="214" y="774">s</text>
<text x="224" y="774">.</text>
<text x="234" y="774">c</text>
<text x="244" y="774">a</text>
<text x="254" y="774">l</text>
<text x="264" y="774">l</text>
<text x="274" y="774">(</text>
<text x="284" y="774">&#x27;</text>
<text x="294" y="774">D</text>
<text x="304" y="774">E</text>
<text x="314" y="774">L</text>
<text x="324" y="774">&#x27;</text>
<text x="334" y="774">,</text>
<text x="354" y="774">k</text>
<text x="364" y="774">e</text>
<text x="374" y="774">y</text>
<text x="384" y="774">)</text>
<text x="634" y="774">│</text>
<text x="34" y="794">│</text>
<text x="64" y="794">e</text>
<text x="74" y="794">l</text>
<text x="84" y="794">s</text>
<text x="94" y="794">e</text>
<text x="634" y="794">│</text>
<text x="34" y="814">│</text>
<text x="104" y="814">r</text>
<text x="114" y="814">e</text>
<text x="124" y="814">t</text>
<text x="134" y="814">u</text>
<text x="144" y="814">r</text>
<text x="154" y="814">n</text>
<text x="174" y="814">0</text>
<text x="204" y="814">-</text>
<text x="214" y="814">-</text>
<text x="234" y="814">不</text>
<text x="254" y="814">是</text>
<text x="274" y="814">我</text>
<text x="294" y="814">的</text>
<text x="314" y="814">鎖</text>
<text x="334" y="814">，</text>
<text x="354" y="814">不</text>
<text x="374" y="814">刪</text>
<text x="634" y="814">│</text>
<text x="34" y="834">│</text>
<text x="64" y="834">e</text>
<text x="74" y="834">n</text>
<text x="84" y="834">d</text>
<text x="634" y="834">│</text>
<text x="34" y="854">└</text>
<text x="44" y="854">─</text>
<text x="54" y="854">─</text>
<text x="64" y="854">─</text>
<text x="74" y="854">─</text>
<text x="84" y="854">─</text>
<text x="94" y="854">─</text>
<text x="104" y="854">─</text>
<text x="114" y="854">─</text>
<text x="124" y="854">─</text>
<text x="134" y="854">─</text>
<text x="144" y="854">─</text>
<text x="154" y="854">─</text>
<text x="164" y="854">─</text>
<text x="174" y="854">─</text>
<text x="184" y="854">─</text>
<text x="194" y="854">─</text>
<text x="204" y="854">─</text>
<text x="214" y="854">─</text>
<text x="224" y="854">─</text>
<text x="234" y="854">─</text>
<text x="244" y="854">─</text>
<text x="254" y="854">─</text>
<text x="264" y="854">─</text>
<text x="274" y="854">─</text>
<text x="284" y="854">─</text>
<text x="294" y="854">─</text>
<text x="304" y="854">─</text>
<text x="314" y="854">─</text>
<text x="324" y="854">─</text>
<text x="334" y="854">─</text>
<text x="344" y="854">─</text>
<text x="354" y="854">─</text>
<text x="364" y="854">─</text>
<text x="374" y="854">─</text>
<text x="384" y="854">─</text>
<text x="394" y="854">─</text>
<text x="404" y="854">─</text>
<text x="414" y="854">─</text>
<text x="424" y="854">─</text>
<text x="434" y="854">─</text>
<text x="444" y="854">─</text>
<text x="454" y="854">─</text>
<text x="464" y="854">─</text>
<text x="474" y="854">─</text>
<text x="484" y="854">─</text>
<text x="494" y="854">─</text>
<text x="504" y="854">─</text>
<text x="514" y="854">─</text>
<text x="524" y="854">─</text>
<text x="534" y="854">─</text>
<text x="544" y="854">─</text>
<text x="554" y="854">─</text>
<text x="564" y="854">─</text>
<text x="574" y="854">─</text>
<text x="584" y="854">─</text>
<text x="594" y="854">─</text>
<text x="604" y="854">─</text>
<text x="614" y="854">─</text>
<text x="624" y="854">─</text>
<text x="634" y="854">┘</text>
<text x="34" y="894">問</text>
<text x="54" y="894">題</text>
<text x="74" y="894">：</text>
<text x="94" y="894">任</text>
<text x="114" y="894">務</text>
<text x="134" y="894">執</text>
<text x="154" y="894">行</text>
<text x="174" y="894">超</text>
<text x="194" y="894">過</text>
<text x="224" y="894">T</text>
<text x="234" y="894">T</text>
<text x="244" y="894">L</text>
<text x="264" y="894">→</text>
<text x="284" y="894">鎖</text>
<text x="304" y="894">過</text>
<text x="324" y="894">期</text>
<text x="354" y="894">→</text>
<text x="374" y="894">他</text>
<text x="394" y="894">人</text>
<text x="414" y="894">取</text>
<text x="434" y="894">鎖</text>
<text x="464" y="894">→</text>
<text x="484" y="894">兩</text>
<text x="504" y="894">個</text>
<text x="524" y="894">持</text>
<text x="544" y="894">有</text>
<text x="564" y="894">者</text>
<text x="584" y="894">！</text>
<text x="34" y="934">─</text>
<text x="44" y="934">─</text>
<text x="54" y="934">─</text>
<text x="64" y="934">─</text>
<text x="74" y="934">─</text>
<text x="84" y="934">─</text>
<text x="94" y="934">─</text>
<text x="104" y="934">─</text>
<text x="114" y="934">─</text>
<text x="124" y="934">─</text>
<text x="134" y="934">─</text>
<text x="144" y="934">─</text>
<text x="154" y="934">─</text>
<text x="164" y="934">─</text>
<text x="174" y="934">─</text>
<text x="184" y="934">─</text>
<text x="194" y="934">─</text>
<text x="204" y="934">─</text>
<text x="214" y="934">─</text>
<text x="224" y="934">─</text>
<text x="234" y="934">─</text>
<text x="244" y="934">─</text>
<text x="254" y="934">─</text>
<text x="264" y="934">─</text>
<text x="274" y="934">─</text>
<text x="284" y="934">─</text>
<text x="294" y="934">─</text>
<text x="304" y="934">─</text>
<text x="314" y="934">─</text>
<text x="324" y="934">─</text>
<text x="334" y="934">─</text>
<text x="344" y="934">─</text>
<text x="354" y="934">─</text>
<text x="364" y="934">─</text>
<text x="374" y="934">─</text>
<text x="384" y="934">─</text>
<text x="394" y="934">─</text>
<text x="404" y="934">─</text>
<text x="414" y="934">─</text>
<text x="424" y="934">─</text>
<text x="434" y="934">─</text>
<text x="444" y="934">─</text>
<text x="454" y="934">─</text>
<text x="464" y="934">─</text>
<text x="474" y="934">─</text>
<text x="484" y="934">─</text>
<text x="494" y="934">─</text>
<text x="504" y="934">─</text>
<text x="514" y="934">─</text>
<text x="524" y="934">─</text>
<text x="534" y="934">─</text>
<text x="544" y="934">─</text>
<text x="554" y="934">─</text>
<text x="564" y="934">─</text>
<text x="574" y="934">─</text>
<text x="584" y="934">─</text>
<text x="594" y="934">─</text>
<text x="604" y="934">─</text>
<text x="614" y="934">─</text>
<text x="624" y="934">─</text>
<text x="634" y="934">─</text>
<text x="34" y="954">V</text>
<text x="44" y="954">4</text>
<text x="54" y="954">：</text>
<text x="74" y="954">L</text>
<text x="84" y="954">u</text>
<text x="94" y="954">a</text>
<text x="114" y="954">+</text>
<text x="134" y="954">W</text>
<text x="144" y="954">a</text>
<text x="154" y="954">t</text>
<text x="164" y="954">c</text>
<text x="174" y="954">h</text>
<text x="184" y="954">d</text>
<text x="194" y="954">o</text>
<text x="204" y="954">g</text>
<text x="224" y="954">續</text>
<text x="244" y="954">租</text>
<text x="264" y="954">（</text>
<text x="284" y="954">完</text>
<text x="304" y="954">整</text>
<text x="324" y="954">版</text>
<text x="344" y="954">）</text>
<text x="34" y="974">─</text>
<text x="44" y="974">─</text>
<text x="54" y="974">─</text>
<text x="64" y="974">─</text>
<text x="74" y="974">─</text>
<text x="84" y="974">─</text>
<text x="94" y="974">─</text>
<text x="104" y="974">─</text>
<text x="114" y="974">─</text>
<text x="124" y="974">─</text>
<text x="134" y="974">─</text>
<text x="144" y="974">─</text>
<text x="154" y="974">─</text>
<text x="164" y="974">─</text>
<text x="174" y="974">─</text>
<text x="184" y="974">─</text>
<text x="194" y="974">─</text>
<text x="204" y="974">─</text>
<text x="214" y="974">─</text>
<text x="224" y="974">─</text>
<text x="234" y="974">─</text>
<text x="244" y="974">─</text>
<text x="254" y="974">─</text>
<text x="264" y="974">─</text>
<text x="274" y="974">─</text>
<text x="284" y="974">─</text>
<text x="294" y="974">─</text>
<text x="304" y="974">─</text>
<text x="314" y="974">─</text>
<text x="324" y="974">─</text>
<text x="334" y="974">─</text>
<text x="344" y="974">─</text>
<text x="354" y="974">─</text>
<text x="364" y="974">─</text>
<text x="374" y="974">─</text>
<text x="384" y="974">─</text>
<text x="394" y="974">─</text>
<text x="404" y="974">─</text>
<text x="414" y="974">─</text>
<text x="424" y="974">─</text>
<text x="434" y="974">─</text>
<text x="444" y="974">─</text>
<text x="454" y="974">─</text>
<text x="464" y="974">─</text>
<text x="474" y="974">─</text>
<text x="484" y="974">─</text>
<text x="494" y="974">─</text>
<text x="504" y="974">─</text>
<text x="514" y="974">─</text>
<text x="524" y="974">─</text>
<text x="534" y="974">─</text>
<text x="544" y="974">─</text>
<text x="554" y="974">─</text>
<text x="564" y="974">─</text>
<text x="574" y="974">─</text>
<text x="584" y="974">─</text>
<text x="594" y="974">─</text>
<text x="604" y="974">─</text>
<text x="614" y="974">─</text>
<text x="624" y="974">─</text>
<text x="634" y="974">─</text>
<text x="34" y="1014">┌</text>
<text x="44" y="1014">─</text>
<text x="54" y="1014">─</text>
<text x="64" y="1014">─</text>
<text x="74" y="1014">─</text>
<text x="84" y="1014">─</text>
<text x="94" y="1014">─</text>
<text x="104" y="1014">─</text>
<text x="114" y="1014">─</text>
<text x="124" y="1014">─</text>
<text x="134" y="1014">─</text>
<text x="144" y="1014">─</text>
<text x="154" y="1014">─</text>
<text x="164" y="1014">─</text>
<text x="174" y="1014">─</text>
<text x="184" y="1014">─</text>
<text x="194" y="1014">─</text>
<text x="204" y="1014">─</text>
<text x="214" y="1014">─</text>
<text x="224" y="1014">─</text>
<text x="234" y="1014">─</text>
<text x="244" y="1014">─</text>
<text x="254" y="1014">─</text>
<text x="264" y="1014">─</text>
<text x="274" y="1014">─</text>
<text x="284" y="1014">─</text>
<text x="294" y="1014">─</text>
<text x="304" y="1014">─</text>
<text x="314" y="1014">─</text>
<text x="324" y="1014">─</text>
<text x="334" y="1014">─</text>
<text x="344" y="1014">─</text>
<text x="354" y="1014">─</text>
<text x="364" y="1014">─</text>
<text x="374" y="1014">─</text>
<text x="384" y="1014">─</text>
<text x="394" y="1014">─</text>
<text x="404" y="1014">─</text>
<text x="414" y="1014">─</text>
<text x="424" y="1014">─</text>
<text x="434" y="1014">─</text>
<text x="444" y="1014">─</text>
<text x="454" y="1014">─</text>
<text x="464" y="1014">─</text>
<text x="474" y="1014">─</text>
<text x="484" y="1014">─</text>
<text x="494" y="1014">─</text>
<text x="504" y="1014">─</text>
<text x="514" y="1014">─</text>
<text x="524" y="1014">─</text>
<text x="534" y="1014">─</text>
<text x="544" y="1014">─</text>
<text x="554" y="1014">─</text>
<text x="564" y="1014">─</text>
<text x="574" y="1014">─</text>
<text x="584" y="1014">─</text>
<text x="594" y="1014">─</text>
<text x="604" y="1014">─</text>
<text x="614" y="1014">─</text>
<text x="624" y="1014">─</text>
<text x="634" y="1014">┐</text>
<text x="44" y="1034">│</text>
<text x="634" y="1034">│</text>
<text x="34" y="1054">│</text>
<text x="64" y="1054">主</text>
<text x="84" y="1054">執</text>
<text x="104" y="1054">行</text>
<text x="124" y="1054">緒</text>
<text x="334" y="1054">W</text>
<text x="344" y="1054">a</text>
<text x="354" y="1054">t</text>
<text x="364" y="1054">c</text>
<text x="374" y="1054">h</text>
<text x="384" y="1054">d</text>
<text x="394" y="1054">o</text>
<text x="404" y="1054">g</text>
<text x="424" y="1054">執</text>
<text x="444" y="1054">行</text>
<text x="464" y="1054">緒</text>
<text x="634" y="1054">│</text>
<text x="34" y="1074">│</text>
<text x="64" y="1074">─</text>
<text x="74" y="1074">─</text>
<text x="84" y="1074">─</text>
<text x="94" y="1074">─</text>
<text x="104" y="1074">─</text>
<text x="114" y="1074">─</text>
<text x="124" y="1074">─</text>
<text x="134" y="1074">─</text>
<text x="144" y="1074">─</text>
<text x="154" y="1074">─</text>
<text x="164" y="1074">─</text>
<text x="174" y="1074">─</text>
<text x="184" y="1074">─</text>
<text x="194" y="1074">─</text>
<text x="204" y="1074">─</text>
<text x="214" y="1074">─</text>
<text x="224" y="1074">─</text>
<text x="234" y="1074">─</text>
<text x="244" y="1074">─</text>
<text x="254" y="1074">─</text>
<text x="264" y="1074">─</text>
<text x="274" y="1074">─</text>
<text x="334" y="1074">─</text>
<text x="344" y="1074">─</text>
<text x="354" y="1074">─</text>
<text x="364" y="1074">─</text>
<text x="374" y="1074">─</text>
<text x="384" y="1074">─</text>
<text x="394" y="1074">─</text>
<text x="404" y="1074">─</text>
<text x="414" y="1074">─</text>
<text x="424" y="1074">─</text>
<text x="434" y="1074">─</text>
<text x="444" y="1074">─</text>
<text x="454" y="1074">─</text>
<text x="464" y="1074">─</text>
<text x="474" y="1074">─</text>
<text x="484" y="1074">─</text>
<text x="494" y="1074">─</text>
<text x="504" y="1074">─</text>
<text x="514" y="1074">─</text>
<text x="524" y="1074">─</text>
<text x="534" y="1074">─</text>
<text x="544" y="1074">─</text>
<text x="554" y="1074">─</text>
<text x="564" y="1074">─</text>
<text x="634" y="1074">│</text>
<text x="34" y="1094">│</text>
<text x="64" y="1094">S</text>
<text x="74" y="1094">E</text>
<text x="84" y="1094">T</text>
<text x="104" y="1094">l</text>
<text x="114" y="1094">o</text>
<text x="124" y="1094">c</text>
<text x="134" y="1094">k</text>
<text x="154" y="1094">{</text>
<text x="164" y="1094">u</text>
<text x="174" y="1094">u</text>
<text x="184" y="1094">i</text>
<text x="194" y="1094">d</text>
<text x="204" y="1094">}</text>
<text x="224" y="1094">N</text>
<text x="234" y="1094">X</text>
<text x="254" y="1094">P</text>
<text x="264" y="1094">X</text>
<text x="284" y="1094">3</text>
<text x="294" y="1094">0</text>
<text x="304" y="1094">s</text>
<text x="634" y="1094">│</text>
<text x="34" y="1114">│</text>
<text x="64" y="1114">開</text>
<text x="84" y="1114">始</text>
<text x="104" y="1114">執</text>
<text x="124" y="1114">行</text>
<text x="144" y="1114">業</text>
<text x="164" y="1114">務</text>
<text x="184" y="1114">邏</text>
<text x="204" y="1114">輯</text>
<text x="234" y="1114">─</text>
<text x="244" y="1114">─</text>
<text x="254" y="1114">─</text>
<text x="264" y="1114">─</text>
<text x="274" y="1114">─</text>
<text x="284" y="1114">─</text>
<text x="294" y="1114">─</text>
<text x="304" y="1114">─</text>
<text x="314" y="1114">─</text>
<text x="324" y="1114">►</text>
<text x="344" y="1114">每</text>
<text x="374" y="1114">1</text>
<text x="384" y="1114">0</text>
<text x="394" y="1114">s</text>
<text x="414" y="1114">執</text>
<text x="434" y="1114">行</text>
<text x="454" y="1114">：</text>
<text x="634" y="1114">│</text>
<text x="34" y="1134">│</text>
<text x="334" y="1134">E</text>
<text x="344" y="1134">X</text>
<text x="354" y="1134">P</text>
<text x="364" y="1134">I</text>
<text x="374" y="1134">R</text>
<text x="384" y="1134">E</text>
<text x="404" y="1134">l</text>
<text x="414" y="1134">o</text>
<text x="424" y="1134">c</text>
<text x="434" y="1134">k</text>
<text x="454" y="1134">3</text>
<text x="464" y="1134">0</text>
<text x="474" y="1134">s</text>
<text x="494" y="1134">(</text>
<text x="504" y="1134">續</text>
<text x="524" y="1134">租</text>
<text x="544" y="1134">)</text>
<text x="634" y="1134">│</text>
<text x="34" y="1154">│</text>
<text x="64" y="1154">業</text>
<text x="84" y="1154">務</text>
<text x="104" y="1154">完</text>
<text x="124" y="1154">成</text>
<text x="334" y="1154">↑</text>
<text x="354" y="1154">確</text>
<text x="374" y="1154">保</text>
<text x="394" y="1154">鎖</text>
<text x="414" y="1154">不</text>
<text x="434" y="1154">過</text>
<text x="454" y="1154">期</text>
<text x="634" y="1154">│</text>
<text x="34" y="1174">│</text>
<text x="64" y="1174">L</text>
<text x="74" y="1174">u</text>
<text x="84" y="1174">a</text>
<text x="104" y="1174">c</text>
<text x="114" y="1174">h</text>
<text x="124" y="1174">e</text>
<text x="134" y="1174">c</text>
<text x="144" y="1174">k</text>
<text x="154" y="1174">-</text>
<text x="164" y="1174">d</text>
<text x="174" y="1174">e</text>
<text x="184" y="1174">l</text>
<text x="194" y="1174">e</text>
<text x="204" y="1174">t</text>
<text x="214" y="1174">e</text>
<text x="234" y="1174">─</text>
<text x="244" y="1174">─</text>
<text x="254" y="1174">─</text>
<text x="264" y="1174">─</text>
<text x="274" y="1174">─</text>
<text x="284" y="1174">─</text>
<text x="294" y="1174">─</text>
<text x="304" y="1174">─</text>
<text x="314" y="1174">─</text>
<text x="324" y="1174">►</text>
<text x="344" y="1174">W</text>
<text x="354" y="1174">a</text>
<text x="364" y="1174">t</text>
<text x="374" y="1174">c</text>
<text x="384" y="1174">h</text>
<text x="394" y="1174">d</text>
<text x="404" y="1174">o</text>
<text x="414" y="1174">g</text>
<text x="434" y="1174">停</text>
<text x="454" y="1174">止</text>
<text x="634" y="1174">│</text>
<text x="44" y="1194">│</text>
<text x="634" y="1194">│</text>
<text x="34" y="1214">│</text>
<text x="64" y="1214">若</text>
<text x="84" y="1214">主</text>
<text x="104" y="1214">執</text>
<text x="124" y="1214">行</text>
<text x="144" y="1214">緒</text>
<text x="164" y="1214">崩</text>
<text x="184" y="1214">潰</text>
<text x="204" y="1214">：</text>
<text x="634" y="1214">│</text>
<text x="34" y="1234">│</text>
<text x="64" y="1234">W</text>
<text x="74" y="1234">a</text>
<text x="84" y="1234">t</text>
<text x="94" y="1234">c</text>
<text x="104" y="1234">h</text>
<text x="114" y="1234">d</text>
<text x="124" y="1234">o</text>
<text x="134" y="1234">g</text>
<text x="154" y="1234">也</text>
<text x="174" y="1234">停</text>
<text x="194" y="1234">止</text>
<text x="224" y="1234">→</text>
<text x="244" y="1234">鎖</text>
<text x="274" y="1234">T</text>
<text x="284" y="1234">T</text>
<text x="294" y="1234">L</text>
<text x="314" y="1234">自</text>
<text x="334" y="1234">然</text>
<text x="354" y="1234">倒</text>
<text x="374" y="1234">數</text>
<text x="404" y="1234">→</text>
<text x="424" y="1234">3</text>
<text x="434" y="1234">0</text>
<text x="444" y="1234">s</text>
<text x="464" y="1234">後</text>
<text x="484" y="1234">自</text>
<text x="504" y="1234">動</text>
<text x="524" y="1234">釋</text>
<text x="544" y="1234">放</text>
<text x="634" y="1234">│</text>
<text x="34" y="1254">└</text>
<text x="44" y="1254">─</text>
<text x="54" y="1254">─</text>
<text x="64" y="1254">─</text>
<text x="74" y="1254">─</text>
<text x="84" y="1254">─</text>
<text x="94" y="1254">─</text>
<text x="104" y="1254">─</text>
<text x="114" y="1254">─</text>
<text x="124" y="1254">─</text>
<text x="134" y="1254">─</text>
<text x="144" y="1254">─</text>
<text x="154" y="1254">─</text>
<text x="164" y="1254">─</text>
<text x="174" y="1254">─</text>
<text x="184" y="1254">─</text>
<text x="194" y="1254">─</text>
<text x="204" y="1254">─</text>
<text x="214" y="1254">─</text>
<text x="224" y="1254">─</text>
<text x="234" y="1254">─</text>
<text x="244" y="1254">─</text>
<text x="254" y="1254">─</text>
<text x="264" y="1254">─</text>
<text x="274" y="1254">─</text>
<text x="284" y="1254">─</text>
<text x="294" y="1254">─</text>
<text x="304" y="1254">─</text>
<text x="314" y="1254">─</text>
<text x="324" y="1254">─</text>
<text x="334" y="1254">─</text>
<text x="344" y="1254">─</text>
<text x="354" y="1254">─</text>
<text x="364" y="1254">─</text>
<text x="374" y="1254">─</text>
<text x="384" y="1254">─</text>
<text x="394" y="1254">─</text>
<text x="404" y="1254">─</text>
<text x="414" y="1254">─</text>
<text x="424" y="1254">─</text>
<text x="434" y="1254">─</text>
<text x="444" y="1254">─</text>
<text x="454" y="1254">─</text>
<text x="464" y="1254">─</text>
<text x="474" y="1254">─</text>
<text x="484" y="1254">─</text>
<text x="494" y="1254">─</text>
<text x="504" y="1254">─</text>
<text x="514" y="1254">─</text>
<text x="524" y="1254">─</text>
<text x="534" y="1254">─</text>
<text x="544" y="1254">─</text>
<text x="554" y="1254">─</text>
<text x="564" y="1254">─</text>
<text x="574" y="1254">─</text>
<text x="584" y="1254">─</text>
<text x="594" y="1254">─</text>
<text x="604" y="1254">─</text>
<text x="614" y="1254">─</text>
<text x="624" y="1254">─</text>
<text x="634" y="1254">┘</text>
<text x="34" y="1294">演</text>
<text x="54" y="1294">進</text>
<text x="74" y="1294">總</text>
<text x="94" y="1294">結</text>
<text x="114" y="1294">：</text>
<text x="34" y="1314">┌</text>
<text x="44" y="1314">─</text>
<text x="54" y="1314">─</text>
<text x="64" y="1314">─</text>
<text x="74" y="1314">─</text>
<text x="84" y="1314">─</text>
<text x="94" y="1314">─</text>
<text x="104" y="1314">┬</text>
<text x="114" y="1314">─</text>
<text x="124" y="1314">─</text>
<text x="134" y="1314">─</text>
<text x="144" y="1314">─</text>
<text x="154" y="1314">─</text>
<text x="164" y="1314">─</text>
<text x="174" y="1314">─</text>
<text x="184" y="1314">─</text>
<text x="194" y="1314">─</text>
<text x="204" y="1314">─</text>
<text x="214" y="1314">─</text>
<text x="224" y="1314">─</text>
<text x="234" y="1314">─</text>
<text x="244" y="1314">─</text>
<text x="254" y="1314">─</text>
<text x="264" y="1314">─</text>
<text x="274" y="1314">─</text>
<text x="284" y="1314">─</text>
<text x="294" y="1314">┬</text>
<text x="304" y="1314">─</text>
<text x="314" y="1314">─</text>
<text x="324" y="1314">─</text>
<text x="334" y="1314">─</text>
<text x="344" y="1314">─</text>
<text x="354" y="1314">─</text>
<text x="364" y="1314">─</text>
<text x="374" y="1314">─</text>
<text x="384" y="1314">─</text>
<text x="394" y="1314">─</text>
<text x="404" y="1314">─</text>
<text x="414" y="1314">─</text>
<text x="424" y="1314">─</text>
<text x="434" y="1314">─</text>
<text x="444" y="1314">─</text>
<text x="454" y="1314">─</text>
<text x="464" y="1314">─</text>
<text x="474" y="1314">─</text>
<text x="484" y="1314">─</text>
<text x="494" y="1314">─</text>
<text x="504" y="1314">─</text>
<text x="514" y="1314">─</text>
<text x="524" y="1314">─</text>
<text x="534" y="1314">─</text>
<text x="544" y="1314">─</text>
<text x="554" y="1314">─</text>
<text x="564" y="1314">─</text>
<text x="574" y="1314">─</text>
<text x="584" y="1314">─</text>
<text x="594" y="1314">─</text>
<text x="604" y="1314">─</text>
<text x="614" y="1314">─</text>
<text x="624" y="1314">─</text>
<text x="634" y="1314">┐</text>
<text x="34" y="1334">│</text>
<text x="64" y="1334">版</text>
<text x="84" y="1334">本</text>
<text x="114" y="1334">│</text>
<text x="144" y="1334">解</text>
<text x="164" y="1334">決</text>
<text x="184" y="1334">的</text>
<text x="204" y="1334">問</text>
<text x="224" y="1334">題</text>
<text x="314" y="1334">│</text>
<text x="344" y="1334">引</text>
<text x="364" y="1334">入</text>
<text x="384" y="1334">的</text>
<text x="404" y="1334">問</text>
<text x="424" y="1334">題</text>
<text x="634" y="1334">│</text>
<text x="34" y="1354">├</text>
<text x="44" y="1354">─</text>
<text x="54" y="1354">─</text>
<text x="64" y="1354">─</text>
<text x="74" y="1354">─</text>
<text x="84" y="1354">─</text>
<text x="94" y="1354">─</text>
<text x="104" y="1354">┼</text>
<text x="114" y="1354">─</text>
<text x="124" y="1354">─</text>
<text x="134" y="1354">─</text>
<text x="144" y="1354">─</text>
<text x="154" y="1354">─</text>
<text x="164" y="1354">─</text>
<text x="174" y="1354">─</text>
<text x="184" y="1354">─</text>
<text x="194" y="1354">─</text>
<text x="204" y="1354">─</text>
<text x="214" y="1354">─</text>
<text x="224" y="1354">─</text>
<text x="234" y="1354">─</text>
<text x="244" y="1354">─</text>
<text x="254" y="1354">─</text>
<text x="264" y="1354">─</text>
<text x="274" y="1354">─</text>
<text x="284" y="1354">─</text>
<text x="294" y="1354">┼</text>
<text x="304" y="1354">─</text>
<text x="314" y="1354">─</text>
<text x="324" y="1354">─</text>
<text x="334" y="1354">─</text>
<text x="344" y="1354">─</text>
<text x="354" y="1354">─</text>
<text x="364" y="1354">─</text>
<text x="374" y="1354">─</text>
<text x="384" y="1354">─</text>
<text x="394" y="1354">─</text>
<text x="404" y="1354">─</text>
<text x="414" y="1354">─</text>
<text x="424" y="1354">─</text>
<text x="434" y="1354">─</text>
<text x="444" y="1354">─</text>
<text x="454" y="1354">─</text>
<text x="464" y="1354">─</text>
<text x="474" y="1354">─</text>
<text x="484" y="1354">─</text>
<text x="494" y="1354">─</text>
<text x="504" y="1354">─</text>
<text x="514" y="1354">─</text>
<text x="524" y="1354">─</text>
<text x="534" y="1354">─</text>
<text x="544" y="1354">─</text>
<text x="554" y="1354">─</text>
<text x="564" y="1354">─</text>
<text x="574" y="1354">─</text>
<text x="584" y="1354">─</text>
<text x="594" y="1354">─</text>
<text x="604" y="1354">─</text>
<text x="614" y="1354">─</text>
<text x="624" y="1354">─</text>
<text x="634" y="1354">┤</text>
<text x="34" y="1374">│</text>
<text x="64" y="1374">V</text>
<text x="74" y="1374">1</text>
<text x="104" y="1374">│</text>
<text x="134" y="1374">互</text>
<text x="154" y="1374">斥</text>
<text x="294" y="1374">│</text>
<text x="324" y="1374">崩</text>
<text x="344" y="1374">潰</text>
<text x="374" y="1374">→</text>
<text x="394" y="1374">死</text>
<text x="414" y="1374">鎖</text>
<text x="634" y="1374">│</text>
<text x="34" y="1394">│</text>
<text x="64" y="1394">V</text>
<text x="74" y="1394">2</text>
<text x="104" y="1394">│</text>
<text x="134" y="1394">死</text>
<text x="154" y="1394">鎖</text>
<text x="174" y="1394">（</text>
<text x="194" y="1394">T</text>
<text x="204" y="1394">T</text>
<text x="214" y="1394">L</text>
<text x="224" y="1394">）</text>
<text x="304" y="1394">│</text>
<text x="334" y="1394">誤</text>
<text x="354" y="1394">刪</text>
<text x="374" y="1394">他</text>
<text x="394" y="1394">人</text>
<text x="414" y="1394">的</text>
<text x="434" y="1394">鎖</text>
<text x="634" y="1394">│</text>
<text x="34" y="1414">│</text>
<text x="64" y="1414">V</text>
<text x="74" y="1414">3</text>
<text x="104" y="1414">│</text>
<text x="134" y="1414">誤</text>
<text x="154" y="1414">刪</text>
<text x="174" y="1414">（</text>
<text x="194" y="1414">U</text>
<text x="204" y="1414">U</text>
<text x="214" y="1414">I</text>
<text x="224" y="1414">D</text>
<text x="234" y="1414">+</text>
<text x="244" y="1414">L</text>
<text x="254" y="1414">u</text>
<text x="264" y="1414">a</text>
<text x="274" y="1414">）</text>
<text x="304" y="1414">│</text>
<text x="334" y="1414">任</text>
<text x="354" y="1414">務</text>
<text x="374" y="1414">超</text>
<text x="394" y="1414">時</text>
<text x="414" y="1414">鎖</text>
<text x="434" y="1414">過</text>
<text x="454" y="1414">期</text>
<text x="634" y="1414">│</text>
<text x="34" y="1434">│</text>
<text x="64" y="1434">V</text>
<text x="74" y="1434">4</text>
<text x="104" y="1434">│</text>
<text x="134" y="1434">超</text>
<text x="154" y="1434">時</text>
<text x="174" y="1434">（</text>
<text x="194" y="1434">W</text>
<text x="204" y="1434">a</text>
<text x="214" y="1434">t</text>
<text x="224" y="1434">c</text>
<text x="234" y="1434">h</text>
<text x="244" y="1434">d</text>
<text x="254" y="1434">o</text>
<text x="264" y="1434">g</text>
<text x="274" y="1434">）</text>
<text x="304" y="1434">│</text>
<text x="334" y="1434">W</text>
<text x="344" y="1434">a</text>
<text x="354" y="1434">t</text>
<text x="364" y="1434">c</text>
<text x="374" y="1434">h</text>
<text x="384" y="1434">d</text>
<text x="394" y="1434">o</text>
<text x="404" y="1434">g</text>
<text x="424" y="1434">複</text>
<text x="444" y="1434">雜</text>
<text x="464" y="1434">度</text>
<text x="484" y="1434">增</text>
<text x="504" y="1434">加</text>
<text x="634" y="1434">│</text>
<text x="34" y="1454">└</text>
<text x="44" y="1454">─</text>
<text x="54" y="1454">─</text>
<text x="64" y="1454">─</text>
<text x="74" y="1454">─</text>
<text x="84" y="1454">─</text>
<text x="94" y="1454">─</text>
<text x="104" y="1454">┴</text>
<text x="114" y="1454">─</text>
<text x="124" y="1454">─</text>
<text x="134" y="1454">─</text>
<text x="144" y="1454">─</text>
<text x="154" y="1454">─</text>
<text x="164" y="1454">─</text>
<text x="174" y="1454">─</text>
<text x="184" y="1454">─</text>
<text x="194" y="1454">─</text>
<text x="204" y="1454">─</text>
<text x="214" y="1454">─</text>
<text x="224" y="1454">─</text>
<text x="234" y="1454">─</text>
<text x="244" y="1454">─</text>
<text x="254" y="1454">─</text>
<text x="264" y="1454">─</text>
<text x="274" y="1454">─</text>
<text x="284" y="1454">─</text>
<text x="294" y="1454">┴</text>
<text x="304" y="1454">─</text>
<text x="314" y="1454">─</text>
<text x="324" y="1454">─</text>
<text x="334" y="1454">─</text>
<text x="344" y="1454">─</text>
<text x="354" y="1454">─</text>
<text x="364" y="1454">─</text>
<text x="374" y="1454">─</text>
<text x="384" y="1454">─</text>
<text x="394" y="1454">─</text>
<text x="404" y="1454">─</text>
<text x="414" y="1454">─</text>
<text x="424" y="1454">─</text>
<text x="434" y="1454">─</text>
<text x="444" y="1454">─</text>
<text x="454" y="1454">─</text>
<text x="464" y="1454">─</text>
<text x="474" y="1454">─</text>
<text x="484" y="1454">─</text>
<text x="494" y="1454">─</text>
<text x="504" y="1454">─</text>
<text x="514" y="1454">─</text>
<text x="524" y="1454">─</text>
<text x="534" y="1454">─</text>
<text x="544" y="1454">─</text>
<text x="554" y="1454">─</text>
<text x="564" y="1454">─</text>
<text x="574" y="1454">─</text>
<text x="584" y="1454">─</text>
<text x="594" y="1454">─</text>
<text x="604" y="1454">─</text>
<text x="614" y="1454">─</text>
<text x="624" y="1454">─</text>
<text x="634" y="1454">┘</text>
</g>
</svg>
</div>
<ol>
<li><code>SET key val NX PX ttl</code></li>
<li><code>finally</code> 解鎖</li>
<li>用 Lua 比對 value 再刪（防誤刪）</li>
<li>看門狗續租（避免任務未完鎖先過期）</li>
</ol>
<pre><code class="language-text">ClientA set lock=uuidA ttl=10s
ClientB 不能覆蓋
unlock 必須檢查 value==uuidA
</code></pre>
<h2 id="示意圖"><a class="header" href="#示意圖">示意圖</a></h2>
<pre><code class="language-text">App1 --SET NX PX--&gt; Redis(lock:order)
App2 --SET NX PX--&gt; fail (已被占用)
App1 --Lua check value then del--&gt; unlock
</code></pre>
<h2 id="跨語言完整範例"><a class="header" href="#跨語言完整範例">跨語言完整範例</a></h2>
<h3 id="c--mockredis-模擬-set-nx-px--lua-check-delete"><a class="header" href="#c--mockredis-模擬-set-nx-px--lua-check-delete">C — MockRedis 模擬 SET NX PX + Lua check-delete</a></h3>
<pre><code class="language-c">#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;time.h&gt;
#include &lt;pthread.h&gt;

#define KEY_MAX 64
#define VAL_MAX 64

typedef struct {
    char key[KEY_MAX];
    char val[VAL_MAX];
    long expire_ms;        /* UNIX 毫秒時間戳，0 表示無記錄 */
    int  used;
} RedisEntry;

#define STORE_SIZE 16
static RedisEntry store[STORE_SIZE];
static pthread_mutex_t store_mu = PTHREAD_MUTEX_INITIALIZER;

static long now_ms(void) {
    struct timespec ts;
    clock_gettime(CLOCK_MONOTONIC, &amp;ts);
    return ts.tv_sec * 1000L + ts.tv_nsec / 1000000L;
}

/* SET key val NX PX ttl → 1: 成功, 0: 已存在 */
int redis_set_nx_px(const char *key, const char *val, int ttl_ms) {
    pthread_mutex_lock(&amp;store_mu);
    long now = now_ms();
    int slot = -1;
    for (int i = 0; i &lt; STORE_SIZE; i++) {
        if (store[i].used &amp;&amp; strcmp(store[i].key, key) == 0) {
            if (store[i].expire_ms &gt; now) { /* 鎖仍有效 */
                pthread_mutex_unlock(&amp;store_mu);
                return 0;
            }
            slot = i;  /* 已過期，可覆蓋 */
            break;
        }
        if (!store[i].used &amp;&amp; slot == -1) slot = i;
    }
    if (slot == -1) { pthread_mutex_unlock(&amp;store_mu); return 0; }
    strncpy(store[slot].key, key, KEY_MAX - 1);
    strncpy(store[slot].val, val, VAL_MAX - 1);
    store[slot].expire_ms = now + ttl_ms;
    store[slot].used = 1;
    pthread_mutex_unlock(&amp;store_mu);
    return 1;
}

/* Lua: if GET(key)==val then DEL(key) end → 1: 刪成功, 0: 不是自己的鎖 */
int redis_lua_unlock(const char *key, const char *val) {
    pthread_mutex_lock(&amp;store_mu);
    for (int i = 0; i &lt; STORE_SIZE; i++) {
        if (store[i].used &amp;&amp; strcmp(store[i].key, key) == 0) {
            if (strcmp(store[i].val, val) == 0) {
                store[i].used = 0;
                pthread_mutex_unlock(&amp;store_mu);
                return 1;
            }
            break;
        }
    }
    pthread_mutex_unlock(&amp;store_mu);
    return 0;
}

int main(void) {
    const char *key = "lock:order";
    const char *uuid_a = "client-A-uuid";
    const char *uuid_b = "client-B-uuid";

    int ok = redis_set_nx_px(key, uuid_a, 10000);
    printf("Client A 加鎖: %s\n", ok ? "成功" : "失敗");

    ok = redis_set_nx_px(key, uuid_b, 10000);
    printf("Client B 加鎖: %s (應為失敗)\n", ok ? "成功" : "失敗");

    /* Client B 嘗試刪 Client A 的鎖 → 應失敗 */
    ok = redis_lua_unlock(key, uuid_b);
    printf("Client B 解鎖: %s (應為失敗)\n", ok ? "成功" : "失敗");

    ok = redis_lua_unlock(key, uuid_a);
    printf("Client A 解鎖: %s (應為成功)\n", ok ? "成功" : "失敗");

    ok = redis_set_nx_px(key, uuid_b, 10000);
    printf("Client B 再次加鎖: %s (應為成功)\n", ok ? "成功" : "失敗");
    return 0;
}
</code></pre>
<h3 id="c--mockredis-set-nx-px--lua-check-delete"><a class="header" href="#c--mockredis-set-nx-px--lua-check-delete">C++ — MockRedis SET NX PX + Lua check-delete</a></h3>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;unordered_map&gt;
#include &lt;mutex&gt;
#include &lt;chrono&gt;
#include &lt;string&gt;

class MockRedis {
    struct Entry { std::string val; long long expire_ms; };
    std::unordered_map&lt;std::string, Entry&gt; store_;
    std::mutex mu_;

    long long now_ms() {
        using namespace std::chrono;
        return duration_cast&lt;milliseconds&gt;(
            steady_clock::now().time_since_epoch()).count();
    }
public:
    bool set_nx_px(const std::string &amp;key, const std::string &amp;val, int ttl_ms) {
        std::lock_guard&lt;std::mutex&gt; lk(mu_);
        auto it = store_.find(key);
        if (it != store_.end() &amp;&amp; it-&gt;second.expire_ms &gt; now_ms())
            return false;
        store_[key] = {val, now_ms() + ttl_ms};
        return true;
    }
    bool lua_unlock(const std::string &amp;key, const std::string &amp;val) {
        std::lock_guard&lt;std::mutex&gt; lk(mu_);
        auto it = store_.find(key);
        if (it != store_.end() &amp;&amp; it-&gt;second.val == val) {
            store_.erase(it);
            return true;
        }
        return false;
    }
};

int main() {
    MockRedis redis;
    std::string key = "lock:order";
    std::string uuid_a = "client-A-uuid";
    std::string uuid_b = "client-B-uuid";

    std::cout &lt;&lt; "A 加鎖: " &lt;&lt; redis.set_nx_px(key, uuid_a, 10000) &lt;&lt; "\n";
    std::cout &lt;&lt; "B 加鎖: " &lt;&lt; redis.set_nx_px(key, uuid_b, 10000)
              &lt;&lt; " (應為0)\n";
    std::cout &lt;&lt; "B 解鎖: " &lt;&lt; redis.lua_unlock(key, uuid_b)
              &lt;&lt; " (應為0，誤刪保護生效)\n";
    std::cout &lt;&lt; "A 解鎖: " &lt;&lt; redis.lua_unlock(key, uuid_a) &lt;&lt; "\n";
    std::cout &lt;&lt; "B 再加鎖: " &lt;&lt; redis.set_nx_px(key, uuid_b, 10000) &lt;&lt; "\n";
}
</code></pre>
<h3 id="rust--mockredis-set-nx-px--lua-check-delete"><a class="header" href="#rust--mockredis-set-nx-px--lua-check-delete">Rust — MockRedis SET NX PX + Lua check-delete</a></h3>
<pre><pre class="playground"><code class="language-rust">use std::collections::HashMap;
use std::sync::{Arc, Mutex};
use std::time::{Duration, Instant};

struct MockRedis {
    store: Mutex&lt;HashMap&lt;String, (String, Instant)&gt;&gt;,
}

impl MockRedis {
    fn new() -&gt; Self {
        MockRedis { store: Mutex::new(HashMap::new()) }
    }
    fn set_nx_px(&amp;self, key: &amp;str, val: &amp;str, ttl_ms: u64) -&gt; bool {
        let mut store = self.store.lock().unwrap();
        if let Some((_, exp)) = store.get(key) {
            if exp.elapsed() &lt; Duration::from_millis(0) {
                return false; // still valid
            }
        }
        let entry = store.entry(key.to_string()).or_insert_with(|| {
            (String::new(), Instant::now())
        });
        if entry.1.elapsed().as_millis() == 0 &amp;&amp; !entry.0.is_empty() {
            return false;
        }
        *entry = (val.to_string(), Instant::now() + Duration::from_millis(ttl_ms));
        true
    }
    fn lua_unlock(&amp;self, key: &amp;str, val: &amp;str) -&gt; bool {
        let mut store = self.store.lock().unwrap();
        if let Some((v, _)) = store.get(key) {
            if v == val {
                store.remove(key);
                return true;
            }
        }
        false
    }
}

fn main() {
    let redis = Arc::new(MockRedis::new());
    println!("A 加鎖: {}", redis.set_nx_px("lock:order", "uuid-a", 10000));
    println!("B 加鎖: {} (應為false)", redis.set_nx_px("lock:order", "uuid-b", 10000));
    println!("B 解鎖: {} (應為false，誤刪保護)", redis.lua_unlock("lock:order", "uuid-b"));
    println!("A 解鎖: {}", redis.lua_unlock("lock:order", "uuid-a"));
    println!("B 再加鎖: {}", redis.set_nx_px("lock:order", "uuid-b", 10000));
}</code></pre></pre>
<h3 id="go--mockredis-set-nx-px--lua-check-delete"><a class="header" href="#go--mockredis-set-nx-px--lua-check-delete">Go — MockRedis SET NX PX + Lua check-delete</a></h3>
<pre><code class="language-go">package main

import (
    "fmt"
    "sync"
    "time"
)

type entry struct {
    val    string
    expiry time.Time
}

type MockRedis struct {
    mu    sync.Mutex
    store map[string]entry
}

func NewMockRedis() *MockRedis {
    return &amp;MockRedis{store: make(map[string]entry)}
}

func (r *MockRedis) SetNXPX(key, val string, ttl time.Duration) bool {
    r.mu.Lock()
    defer r.mu.Unlock()
    if e, ok := r.store[key]; ok &amp;&amp; time.Now().Before(e.expiry) {
        return false
    }
    r.store[key] = entry{val, time.Now().Add(ttl)}
    return true
}

// LuaUnlock 模擬原子 check-delete
func (r *MockRedis) LuaUnlock(key, val string) bool {
    r.mu.Lock()
    defer r.mu.Unlock()
    if e, ok := r.store[key]; ok &amp;&amp; e.val == val {
        delete(r.store, key)
        return true
    }
    return false
}

func main() {
    redis := NewMockRedis()
    ttl := 10 * time.Second
    fmt.Println("A 加鎖:", redis.SetNXPX("lock:order", "uuid-a", ttl))
    fmt.Println("B 加鎖:", redis.SetNXPX("lock:order", "uuid-b", ttl), "(應為false)")
    fmt.Println("B 解鎖:", redis.LuaUnlock("lock:order", "uuid-b"), "(應為false，誤刪保護)")
    fmt.Println("A 解鎖:", redis.LuaUnlock("lock:order", "uuid-a"))
    fmt.Println("B 再加鎖:", redis.SetNXPX("lock:order", "uuid-b", ttl))
}
</code></pre>
<h3 id="python--mockredis-set-nx-px--lua-check-delete多執行緒驗證"><a class="header" href="#python--mockredis-set-nx-px--lua-check-delete多執行緒驗證">Python — MockRedis SET NX PX + Lua check-delete（多執行緒驗證）</a></h3>
<pre><code class="language-python">"""Chapter 19: distributed lock protocol — MockRedis NX PX + Lua check-delete."""
import threading
import time
import uuid


class MockRedis:
    """模擬 Redis SET NX PX 與 Lua 原子解鎖。"""

    def __init__(self):
        self._store = {}          # key → (value, expire_time)
        self._mu = threading.Lock()

    def set_nx_px(self, key: str, val: str, ttl_ms: int) -&gt; bool:
        """SET key val NX PX ttl → True: 成功取鎖"""
        deadline = time.monotonic() + ttl_ms / 1000
        with self._mu:
            cur = self._store.get(key)
            if cur and cur[1] &gt; time.monotonic():
                return False       # 鎖仍有效，NX 失敗
            self._store[key] = (val, deadline)
            return True

    def lua_unlock(self, key: str, val: str) -&gt; bool:
        """原子 check-and-delete：只有 value 匹配才刪除"""
        with self._mu:
            cur = self._store.get(key)
            if cur and cur[0] == val:
                del self._store[key]
                return True
            return False           # 不是自己的鎖，拒絕刪除


def acquire_and_work(redis: MockRedis, client_id: str, results: list):
    lock_key = "lock:order"
    token = f"{client_id}:{uuid.uuid4()}"
    ok = redis.set_nx_px(lock_key, token, 3000)
    results.append((client_id, "acquired" if ok else "failed"))
    if ok:
        time.sleep(0.05)          # 模擬業務處理
        released = redis.lua_unlock(lock_key, token)
        results.append((client_id, "released" if released else "release_failed"))


def main():
    redis = MockRedis()

    # 基本流程測試
    uuid_a = "client-A"
    ok = redis.set_nx_px("lock:order", uuid_a, 5000)
    print(f"A 加鎖: {ok}")                          # True
    ok = redis.set_nx_px("lock:order", "client-B", 5000)
    print(f"B 加鎖: {ok} (應為 False)")             # False
    ok = redis.lua_unlock("lock:order", "client-B")
    print(f"B 解鎖: {ok} (應為 False，誤刪保護)")   # False
    ok = redis.lua_unlock("lock:order", uuid_a)
    print(f"A 解鎖: {ok}")                          # True

    # 並發競爭測試
    print("\n並發競爭測試（10 客戶端搶同一把鎖）：")
    results = []
    threads = [
        threading.Thread(target=acquire_and_work,
                         args=(redis, f"client-{i}", results))
        for i in range(10)
    ]
    for t in threads:
        t.start()
    for t in threads:
        t.join()

    acquired = [r for r in results if r[1] == "acquired"]
    print(f"成功取鎖數量: {len(acquired)} (應為 1，互斥保證)")
    assert len(acquired) == 1, "互斥性失敗！"
    print("通過：分散式鎖互斥性正確")


if __name__ == "__main__":
    main()
</code></pre>
<h2 id="完整專案級範例python"><a class="header" href="#完整專案級範例python">完整專案級範例（Python）</a></h2>
<p>檔案：<code>examples/python/ch19.py</code></p>
<pre><code class="language-bash">python3 examples/python/ch19.py
</code></pre>
<pre><code class="language-python">"""Chapter 19: distributed lock protocol (mocked redis)."""
import time


class MockRedis:
    def __init__(self):
        self.store = {}

    def set_nx_px(self, key: str, val: str, ttl_ms: int) -&gt; bool:
        now = time.time() * 1000
        cur = self.store.get(key)
        if cur and cur[1] &gt; now:
            return False
        self.store[key] = (val, now + ttl_ms)
        return True

    def unlock_if_value(self, key: str, val: str) -&gt; bool:
        cur = self.store.get(key)
        if cur and cur[0] == val:
            del self.store[key]
            return True
        return False


if __name__ == "__main__":
    r = MockRedis()
    owner = "uuid-a"
    ok = r.set_nx_px("lock:order", owner, 3000)
    print("lock acquired", ok)
    print("unlock", r.unlock_if_value("lock:order", owner))
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="ch18-aqs-reentrant-practice.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="ch20-seckill-architecture.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="ch18-aqs-reentrant-practice.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="ch20-seckill-architecture.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
