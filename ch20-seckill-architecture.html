<!DOCTYPE HTML>
<html lang="zh-TW" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>第20章 秒殺系統架構 - 高並發編程通用概念（跨 Java/C++/Rust/Go）</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/ascii-diagram.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">高並發編程通用概念（跨 Java/C++/Rust/Go）</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="第20章-秒殺系統架構"><a class="header" href="#第20章-秒殺系統架構">第20章 秒殺系統架構</a></h1>
<h2 id="201-電商基礎架構"><a class="header" href="#201-電商基礎架構">20.1 電商基礎架構</a></h2>
<!-- subsection-diagram -->
<h3 id="本小節示意圖"><a class="header" href="#本小節示意圖">本小節示意圖</a></h3>
<div class="ascii-svg-wrap">
<svg class="ascii-svg" xmlns="http://www.w3.org/2000/svg" width="628" height="1264" viewBox="0 0 628 1264" role="img" aria-label="ASCII diagram">
<g fill="currentColor" font-family="Noto Sans Mono CJK TC, Noto Sans Mono CJK SC, Noto Sans Mono CJK JP, Sarasa Mono TC, Cascadia Mono, JetBrains Mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace" font-size="16" text-rendering="geometricPrecision" xml:space="preserve">
<text x="14" y="14">電</text>
<text x="34" y="14">商</text>
<text x="54" y="14">系</text>
<text x="74" y="14">統</text>
<text x="94" y="14">分</text>
<text x="114" y="14">層</text>
<text x="134" y="14">架</text>
<text x="154" y="14">構</text>
<text x="34" y="54">使</text>
<text x="54" y="54">用</text>
<text x="74" y="54">者</text>
<text x="94" y="54">請</text>
<text x="114" y="54">求</text>
<text x="604" y="74">│</text>
<text x="84" y="94">▼</text>
<text x="34" y="114">┌</text>
<text x="44" y="114">─</text>
<text x="54" y="114">─</text>
<text x="64" y="114">─</text>
<text x="74" y="114">─</text>
<text x="84" y="114">─</text>
<text x="94" y="114">─</text>
<text x="104" y="114">─</text>
<text x="114" y="114">─</text>
<text x="124" y="114">─</text>
<text x="134" y="114">─</text>
<text x="144" y="114">─</text>
<text x="154" y="114">─</text>
<text x="164" y="114">─</text>
<text x="174" y="114">─</text>
<text x="184" y="114">─</text>
<text x="194" y="114">─</text>
<text x="204" y="114">─</text>
<text x="214" y="114">─</text>
<text x="224" y="114">─</text>
<text x="234" y="114">─</text>
<text x="244" y="114">─</text>
<text x="254" y="114">─</text>
<text x="264" y="114">─</text>
<text x="274" y="114">─</text>
<text x="284" y="114">─</text>
<text x="294" y="114">─</text>
<text x="304" y="114">─</text>
<text x="314" y="114">─</text>
<text x="324" y="114">─</text>
<text x="334" y="114">─</text>
<text x="344" y="114">─</text>
<text x="354" y="114">─</text>
<text x="364" y="114">─</text>
<text x="374" y="114">─</text>
<text x="384" y="114">─</text>
<text x="394" y="114">─</text>
<text x="404" y="114">─</text>
<text x="414" y="114">─</text>
<text x="424" y="114">─</text>
<text x="434" y="114">─</text>
<text x="444" y="114">─</text>
<text x="454" y="114">─</text>
<text x="464" y="114">─</text>
<text x="474" y="114">─</text>
<text x="484" y="114">─</text>
<text x="494" y="114">─</text>
<text x="504" y="114">─</text>
<text x="514" y="114">─</text>
<text x="524" y="114">─</text>
<text x="534" y="114">─</text>
<text x="544" y="114">─</text>
<text x="554" y="114">─</text>
<text x="564" y="114">─</text>
<text x="574" y="114">─</text>
<text x="584" y="114">─</text>
<text x="594" y="114">─</text>
<text x="604" y="114">┐</text>
<text x="34" y="134">│</text>
<text x="64" y="134">接</text>
<text x="84" y="134">入</text>
<text x="104" y="134">層</text>
<text x="604" y="134">│</text>
<text x="34" y="154">│</text>
<text x="64" y="154">┌</text>
<text x="74" y="154">─</text>
<text x="84" y="154">─</text>
<text x="94" y="154">─</text>
<text x="104" y="154">─</text>
<text x="114" y="154">─</text>
<text x="124" y="154">─</text>
<text x="134" y="154">─</text>
<text x="144" y="154">─</text>
<text x="154" y="154">─</text>
<text x="164" y="154">─</text>
<text x="174" y="154">─</text>
<text x="184" y="154">─</text>
<text x="194" y="154">─</text>
<text x="204" y="154">─</text>
<text x="214" y="154">┐</text>
<text x="264" y="154">┌</text>
<text x="274" y="154">─</text>
<text x="284" y="154">─</text>
<text x="294" y="154">─</text>
<text x="304" y="154">─</text>
<text x="314" y="154">─</text>
<text x="324" y="154">─</text>
<text x="334" y="154">─</text>
<text x="344" y="154">─</text>
<text x="354" y="154">─</text>
<text x="364" y="154">─</text>
<text x="374" y="154">─</text>
<text x="384" y="154">─</text>
<text x="394" y="154">─</text>
<text x="404" y="154">─</text>
<text x="414" y="154">─</text>
<text x="424" y="154">┐</text>
<text x="604" y="154">│</text>
<text x="34" y="174">│</text>
<text x="64" y="174">│</text>
<text x="124" y="174">C</text>
<text x="134" y="174">D</text>
<text x="144" y="174">N</text>
<text x="214" y="174">│</text>
<text x="264" y="174">│</text>
<text x="314" y="174">N</text>
<text x="324" y="174">g</text>
<text x="334" y="174">i</text>
<text x="344" y="174">n</text>
<text x="354" y="174">x</text>
<text x="424" y="174">│</text>
<text x="604" y="174">│</text>
<text x="34" y="194">│</text>
<text x="64" y="194">│</text>
<text x="94" y="194">靜</text>
<text x="114" y="194">態</text>
<text x="134" y="194">資</text>
<text x="154" y="194">源</text>
<text x="214" y="194">│</text>
<text x="264" y="194">│</text>
<text x="294" y="194">反</text>
<text x="314" y="194">向</text>
<text x="334" y="194">代</text>
<text x="354" y="194">理</text>
<text x="424" y="194">│</text>
<text x="604" y="194">│</text>
<text x="34" y="214">│</text>
<text x="64" y="214">│</text>
<text x="94" y="214">快</text>
<text x="114" y="214">取</text>
<text x="214" y="214">│</text>
<text x="264" y="214">│</text>
<text x="294" y="214">負</text>
<text x="314" y="214">載</text>
<text x="334" y="214">均</text>
<text x="354" y="214">衡</text>
<text x="424" y="214">│</text>
<text x="604" y="214">│</text>
<text x="34" y="234">│</text>
<text x="64" y="234">└</text>
<text x="74" y="234">─</text>
<text x="84" y="234">─</text>
<text x="94" y="234">─</text>
<text x="104" y="234">─</text>
<text x="114" y="234">─</text>
<text x="124" y="234">─</text>
<text x="134" y="234">─</text>
<text x="144" y="234">─</text>
<text x="154" y="234">─</text>
<text x="164" y="234">─</text>
<text x="174" y="234">─</text>
<text x="184" y="234">─</text>
<text x="194" y="234">─</text>
<text x="204" y="234">─</text>
<text x="214" y="234">┘</text>
<text x="264" y="234">└</text>
<text x="274" y="234">─</text>
<text x="284" y="234">─</text>
<text x="294" y="234">─</text>
<text x="304" y="234">─</text>
<text x="314" y="234">─</text>
<text x="324" y="234">─</text>
<text x="334" y="234">─</text>
<text x="344" y="234">─</text>
<text x="354" y="234">─</text>
<text x="364" y="234">─</text>
<text x="374" y="234">─</text>
<text x="384" y="234">─</text>
<text x="394" y="234">─</text>
<text x="404" y="234">─</text>
<text x="414" y="234">─</text>
<text x="424" y="234">┘</text>
<text x="604" y="234">│</text>
<text x="34" y="254">└</text>
<text x="44" y="254">─</text>
<text x="54" y="254">─</text>
<text x="64" y="254">─</text>
<text x="74" y="254">─</text>
<text x="84" y="254">─</text>
<text x="94" y="254">─</text>
<text x="104" y="254">─</text>
<text x="114" y="254">─</text>
<text x="124" y="254">─</text>
<text x="134" y="254">─</text>
<text x="144" y="254">─</text>
<text x="154" y="254">─</text>
<text x="164" y="254">─</text>
<text x="174" y="254">─</text>
<text x="184" y="254">─</text>
<text x="194" y="254">─</text>
<text x="204" y="254">─</text>
<text x="214" y="254">─</text>
<text x="224" y="254">─</text>
<text x="234" y="254">─</text>
<text x="244" y="254">─</text>
<text x="254" y="254">─</text>
<text x="264" y="254">─</text>
<text x="274" y="254">─</text>
<text x="284" y="254">─</text>
<text x="294" y="254">─</text>
<text x="304" y="254">─</text>
<text x="314" y="254">─</text>
<text x="324" y="254">┬</text>
<text x="334" y="254">─</text>
<text x="344" y="254">─</text>
<text x="354" y="254">─</text>
<text x="364" y="254">─</text>
<text x="374" y="254">─</text>
<text x="384" y="254">─</text>
<text x="394" y="254">─</text>
<text x="404" y="254">─</text>
<text x="414" y="254">─</text>
<text x="424" y="254">─</text>
<text x="434" y="254">─</text>
<text x="444" y="254">─</text>
<text x="454" y="254">─</text>
<text x="464" y="254">─</text>
<text x="474" y="254">─</text>
<text x="484" y="254">─</text>
<text x="494" y="254">─</text>
<text x="504" y="254">─</text>
<text x="514" y="254">─</text>
<text x="524" y="254">─</text>
<text x="534" y="254">─</text>
<text x="544" y="254">─</text>
<text x="554" y="254">─</text>
<text x="564" y="254">─</text>
<text x="574" y="254">─</text>
<text x="584" y="254">─</text>
<text x="594" y="254">─</text>
<text x="604" y="254">┘</text>
<text x="324" y="274">│</text>
<text x="344" y="274">動</text>
<text x="364" y="274">態</text>
<text x="384" y="274">請</text>
<text x="404" y="274">求</text>
<text x="324" y="294">▼</text>
<text x="34" y="314">┌</text>
<text x="44" y="314">─</text>
<text x="54" y="314">─</text>
<text x="64" y="314">─</text>
<text x="74" y="314">─</text>
<text x="84" y="314">─</text>
<text x="94" y="314">─</text>
<text x="104" y="314">─</text>
<text x="114" y="314">─</text>
<text x="124" y="314">─</text>
<text x="134" y="314">─</text>
<text x="144" y="314">─</text>
<text x="154" y="314">─</text>
<text x="164" y="314">─</text>
<text x="174" y="314">─</text>
<text x="184" y="314">─</text>
<text x="194" y="314">─</text>
<text x="204" y="314">─</text>
<text x="214" y="314">─</text>
<text x="224" y="314">─</text>
<text x="234" y="314">─</text>
<text x="244" y="314">─</text>
<text x="254" y="314">─</text>
<text x="264" y="314">─</text>
<text x="274" y="314">─</text>
<text x="284" y="314">─</text>
<text x="294" y="314">─</text>
<text x="304" y="314">─</text>
<text x="314" y="314">─</text>
<text x="324" y="314">─</text>
<text x="334" y="314">─</text>
<text x="344" y="314">─</text>
<text x="354" y="314">─</text>
<text x="364" y="314">─</text>
<text x="374" y="314">─</text>
<text x="384" y="314">─</text>
<text x="394" y="314">─</text>
<text x="404" y="314">─</text>
<text x="414" y="314">─</text>
<text x="424" y="314">─</text>
<text x="434" y="314">─</text>
<text x="444" y="314">─</text>
<text x="454" y="314">─</text>
<text x="464" y="314">─</text>
<text x="474" y="314">─</text>
<text x="484" y="314">─</text>
<text x="494" y="314">─</text>
<text x="504" y="314">─</text>
<text x="514" y="314">─</text>
<text x="524" y="314">─</text>
<text x="534" y="314">─</text>
<text x="544" y="314">─</text>
<text x="554" y="314">─</text>
<text x="564" y="314">─</text>
<text x="574" y="314">─</text>
<text x="584" y="314">─</text>
<text x="594" y="314">─</text>
<text x="604" y="314">┐</text>
<text x="34" y="334">│</text>
<text x="64" y="334">閘</text>
<text x="84" y="334">道</text>
<text x="104" y="334">層</text>
<text x="604" y="334">│</text>
<text x="34" y="354">│</text>
<text x="64" y="354">┌</text>
<text x="74" y="354">─</text>
<text x="84" y="354">─</text>
<text x="94" y="354">─</text>
<text x="104" y="354">─</text>
<text x="114" y="354">─</text>
<text x="124" y="354">─</text>
<text x="134" y="354">─</text>
<text x="144" y="354">─</text>
<text x="154" y="354">─</text>
<text x="164" y="354">─</text>
<text x="174" y="354">─</text>
<text x="184" y="354">─</text>
<text x="194" y="354">─</text>
<text x="204" y="354">─</text>
<text x="214" y="354">┐</text>
<text x="264" y="354">┌</text>
<text x="274" y="354">─</text>
<text x="284" y="354">─</text>
<text x="294" y="354">─</text>
<text x="304" y="354">─</text>
<text x="314" y="354">─</text>
<text x="324" y="354">─</text>
<text x="334" y="354">─</text>
<text x="344" y="354">─</text>
<text x="354" y="354">─</text>
<text x="364" y="354">─</text>
<text x="374" y="354">─</text>
<text x="384" y="354">─</text>
<text x="394" y="354">─</text>
<text x="404" y="354">─</text>
<text x="414" y="354">─</text>
<text x="424" y="354">┐</text>
<text x="604" y="354">│</text>
<text x="34" y="374">│</text>
<text x="64" y="374">│</text>
<text x="94" y="374">限</text>
<text x="114" y="374">流</text>
<text x="214" y="374">│</text>
<text x="264" y="374">│</text>
<text x="294" y="374">認</text>
<text x="314" y="374">證</text>
<text x="334" y="374">/</text>
<text x="344" y="374">鑑</text>
<text x="364" y="374">權</text>
<text x="424" y="374">│</text>
<text x="604" y="374">│</text>
<text x="34" y="394">│</text>
<text x="64" y="394">│</text>
<text x="94" y="394">T</text>
<text x="104" y="394">o</text>
<text x="114" y="394">k</text>
<text x="124" y="394">e</text>
<text x="134" y="394">n</text>
<text x="154" y="394">B</text>
<text x="164" y="394">u</text>
<text x="174" y="394">c</text>
<text x="184" y="394">k</text>
<text x="194" y="394">e</text>
<text x="204" y="394">t</text>
<text x="214" y="394">│</text>
<text x="264" y="394">│</text>
<text x="294" y="394">J</text>
<text x="304" y="394">W</text>
<text x="314" y="394">T</text>
<text x="334" y="394">/</text>
<text x="354" y="394">S</text>
<text x="364" y="394">e</text>
<text x="374" y="394">s</text>
<text x="384" y="394">s</text>
<text x="394" y="394">i</text>
<text x="404" y="394">o</text>
<text x="414" y="394">n</text>
<text x="434" y="394">│</text>
<text x="604" y="394">│</text>
<text x="34" y="414">│</text>
<text x="64" y="414">└</text>
<text x="74" y="414">─</text>
<text x="84" y="414">─</text>
<text x="94" y="414">─</text>
<text x="104" y="414">─</text>
<text x="114" y="414">─</text>
<text x="124" y="414">─</text>
<text x="134" y="414">─</text>
<text x="144" y="414">─</text>
<text x="154" y="414">─</text>
<text x="164" y="414">─</text>
<text x="174" y="414">─</text>
<text x="184" y="414">─</text>
<text x="194" y="414">─</text>
<text x="204" y="414">─</text>
<text x="214" y="414">┘</text>
<text x="264" y="414">└</text>
<text x="274" y="414">─</text>
<text x="284" y="414">─</text>
<text x="294" y="414">─</text>
<text x="304" y="414">─</text>
<text x="314" y="414">─</text>
<text x="324" y="414">─</text>
<text x="334" y="414">─</text>
<text x="344" y="414">─</text>
<text x="354" y="414">─</text>
<text x="364" y="414">─</text>
<text x="374" y="414">─</text>
<text x="384" y="414">─</text>
<text x="394" y="414">─</text>
<text x="404" y="414">─</text>
<text x="414" y="414">─</text>
<text x="424" y="414">┘</text>
<text x="604" y="414">│</text>
<text x="34" y="434">└</text>
<text x="44" y="434">─</text>
<text x="54" y="434">─</text>
<text x="64" y="434">─</text>
<text x="74" y="434">─</text>
<text x="84" y="434">─</text>
<text x="94" y="434">─</text>
<text x="104" y="434">─</text>
<text x="114" y="434">─</text>
<text x="124" y="434">─</text>
<text x="134" y="434">─</text>
<text x="144" y="434">─</text>
<text x="154" y="434">─</text>
<text x="164" y="434">─</text>
<text x="174" y="434">─</text>
<text x="184" y="434">─</text>
<text x="194" y="434">─</text>
<text x="204" y="434">─</text>
<text x="214" y="434">─</text>
<text x="224" y="434">─</text>
<text x="234" y="434">─</text>
<text x="244" y="434">─</text>
<text x="254" y="434">─</text>
<text x="264" y="434">─</text>
<text x="274" y="434">─</text>
<text x="284" y="434">─</text>
<text x="294" y="434">─</text>
<text x="304" y="434">─</text>
<text x="314" y="434">─</text>
<text x="324" y="434">┬</text>
<text x="334" y="434">─</text>
<text x="344" y="434">─</text>
<text x="354" y="434">─</text>
<text x="364" y="434">─</text>
<text x="374" y="434">─</text>
<text x="384" y="434">─</text>
<text x="394" y="434">─</text>
<text x="404" y="434">─</text>
<text x="414" y="434">─</text>
<text x="424" y="434">─</text>
<text x="434" y="434">─</text>
<text x="444" y="434">─</text>
<text x="454" y="434">─</text>
<text x="464" y="434">─</text>
<text x="474" y="434">─</text>
<text x="484" y="434">─</text>
<text x="494" y="434">─</text>
<text x="504" y="434">─</text>
<text x="514" y="434">─</text>
<text x="524" y="434">─</text>
<text x="534" y="434">─</text>
<text x="544" y="434">─</text>
<text x="554" y="434">─</text>
<text x="564" y="434">─</text>
<text x="574" y="434">─</text>
<text x="584" y="434">─</text>
<text x="594" y="434">─</text>
<text x="604" y="434">┘</text>
<text x="604" y="454">│</text>
<text x="324" y="474">▼</text>
<text x="34" y="494">┌</text>
<text x="44" y="494">─</text>
<text x="54" y="494">─</text>
<text x="64" y="494">─</text>
<text x="74" y="494">─</text>
<text x="84" y="494">─</text>
<text x="94" y="494">─</text>
<text x="104" y="494">─</text>
<text x="114" y="494">─</text>
<text x="124" y="494">─</text>
<text x="134" y="494">─</text>
<text x="144" y="494">─</text>
<text x="154" y="494">─</text>
<text x="164" y="494">─</text>
<text x="174" y="494">─</text>
<text x="184" y="494">─</text>
<text x="194" y="494">─</text>
<text x="204" y="494">─</text>
<text x="214" y="494">─</text>
<text x="224" y="494">─</text>
<text x="234" y="494">─</text>
<text x="244" y="494">─</text>
<text x="254" y="494">─</text>
<text x="264" y="494">─</text>
<text x="274" y="494">─</text>
<text x="284" y="494">─</text>
<text x="294" y="494">─</text>
<text x="304" y="494">─</text>
<text x="314" y="494">─</text>
<text x="324" y="494">─</text>
<text x="334" y="494">─</text>
<text x="344" y="494">─</text>
<text x="354" y="494">─</text>
<text x="364" y="494">─</text>
<text x="374" y="494">─</text>
<text x="384" y="494">─</text>
<text x="394" y="494">─</text>
<text x="404" y="494">─</text>
<text x="414" y="494">─</text>
<text x="424" y="494">─</text>
<text x="434" y="494">─</text>
<text x="444" y="494">─</text>
<text x="454" y="494">─</text>
<text x="464" y="494">─</text>
<text x="474" y="494">─</text>
<text x="484" y="494">─</text>
<text x="494" y="494">─</text>
<text x="504" y="494">─</text>
<text x="514" y="494">─</text>
<text x="524" y="494">─</text>
<text x="534" y="494">─</text>
<text x="544" y="494">─</text>
<text x="554" y="494">─</text>
<text x="564" y="494">─</text>
<text x="574" y="494">─</text>
<text x="584" y="494">─</text>
<text x="594" y="494">─</text>
<text x="604" y="494">┐</text>
<text x="34" y="514">│</text>
<text x="64" y="514">業</text>
<text x="84" y="514">務</text>
<text x="104" y="514">層</text>
<text x="604" y="514">│</text>
<text x="34" y="534">│</text>
<text x="64" y="534">┌</text>
<text x="74" y="534">─</text>
<text x="84" y="534">─</text>
<text x="94" y="534">─</text>
<text x="104" y="534">─</text>
<text x="114" y="534">─</text>
<text x="124" y="534">─</text>
<text x="134" y="534">─</text>
<text x="144" y="534">─</text>
<text x="154" y="534">─</text>
<text x="164" y="534">─</text>
<text x="174" y="534">─</text>
<text x="184" y="534">─</text>
<text x="194" y="534">─</text>
<text x="204" y="534">─</text>
<text x="214" y="534">─</text>
<text x="224" y="534">─</text>
<text x="234" y="534">─</text>
<text x="244" y="534">─</text>
<text x="254" y="534">┐</text>
<text x="284" y="534">┌</text>
<text x="294" y="534">─</text>
<text x="304" y="534">─</text>
<text x="314" y="534">─</text>
<text x="324" y="534">─</text>
<text x="334" y="534">─</text>
<text x="344" y="534">─</text>
<text x="354" y="534">─</text>
<text x="364" y="534">─</text>
<text x="374" y="534">─</text>
<text x="384" y="534">─</text>
<text x="394" y="534">─</text>
<text x="404" y="534">─</text>
<text x="414" y="534">─</text>
<text x="424" y="534">─</text>
<text x="434" y="534">─</text>
<text x="444" y="534">─</text>
<text x="454" y="534">─</text>
<text x="464" y="534">─</text>
<text x="474" y="534">─</text>
<text x="484" y="534">┐</text>
<text x="604" y="534">│</text>
<text x="34" y="554">│</text>
<text x="64" y="554">│</text>
<text x="114" y="554">訂</text>
<text x="134" y="554">單</text>
<text x="154" y="554">服</text>
<text x="174" y="554">務</text>
<text x="254" y="554">│</text>
<text x="284" y="554">│</text>
<text x="334" y="554">庫</text>
<text x="354" y="554">存</text>
<text x="374" y="554">服</text>
<text x="394" y="554">務</text>
<text x="484" y="554">│</text>
<text x="604" y="554">│</text>
<text x="34" y="574">│</text>
<text x="64" y="574">│</text>
<text x="94" y="574">O</text>
<text x="104" y="574">r</text>
<text x="114" y="574">d</text>
<text x="124" y="574">e</text>
<text x="134" y="574">r</text>
<text x="144" y="574">S</text>
<text x="154" y="574">e</text>
<text x="164" y="574">r</text>
<text x="174" y="574">v</text>
<text x="184" y="574">i</text>
<text x="194" y="574">c</text>
<text x="204" y="574">e</text>
<text x="254" y="574">│</text>
<text x="284" y="574">│</text>
<text x="314" y="574">S</text>
<text x="324" y="574">t</text>
<text x="334" y="574">o</text>
<text x="344" y="574">c</text>
<text x="354" y="574">k</text>
<text x="364" y="574">S</text>
<text x="374" y="574">e</text>
<text x="384" y="574">r</text>
<text x="394" y="574">v</text>
<text x="404" y="574">i</text>
<text x="414" y="574">c</text>
<text x="424" y="574">e</text>
<text x="484" y="574">│</text>
<text x="604" y="574">│</text>
<text x="34" y="594">│</text>
<text x="64" y="594">│</text>
<text x="94" y="594">防</text>
<text x="114" y="594">重</text>
<text x="144" y="594">/</text>
<text x="164" y="594">支</text>
<text x="184" y="594">付</text>
<text x="254" y="594">│</text>
<text x="284" y="594">│</text>
<text x="314" y="594">扣</text>
<text x="334" y="594">減</text>
<text x="364" y="594">/</text>
<text x="384" y="594">補</text>
<text x="404" y="594">償</text>
<text x="484" y="594">│</text>
<text x="604" y="594">│</text>
<text x="34" y="614">│</text>
<text x="64" y="614">└</text>
<text x="74" y="614">─</text>
<text x="84" y="614">─</text>
<text x="94" y="614">─</text>
<text x="104" y="614">─</text>
<text x="114" y="614">─</text>
<text x="124" y="614">─</text>
<text x="134" y="614">─</text>
<text x="144" y="614">─</text>
<text x="154" y="614">┬</text>
<text x="164" y="614">─</text>
<text x="174" y="614">─</text>
<text x="184" y="614">─</text>
<text x="194" y="614">─</text>
<text x="204" y="614">─</text>
<text x="214" y="614">─</text>
<text x="224" y="614">─</text>
<text x="234" y="614">─</text>
<text x="244" y="614">─</text>
<text x="254" y="614">┘</text>
<text x="284" y="614">└</text>
<text x="294" y="614">─</text>
<text x="304" y="614">─</text>
<text x="314" y="614">─</text>
<text x="324" y="614">─</text>
<text x="334" y="614">─</text>
<text x="344" y="614">─</text>
<text x="354" y="614">─</text>
<text x="364" y="614">─</text>
<text x="374" y="614">┬</text>
<text x="384" y="614">─</text>
<text x="394" y="614">─</text>
<text x="404" y="614">─</text>
<text x="414" y="614">─</text>
<text x="424" y="614">─</text>
<text x="434" y="614">─</text>
<text x="444" y="614">─</text>
<text x="454" y="614">─</text>
<text x="464" y="614">─</text>
<text x="474" y="614">─</text>
<text x="484" y="614">┘</text>
<text x="604" y="614">│</text>
<text x="34" y="634">└</text>
<text x="44" y="634">─</text>
<text x="54" y="634">─</text>
<text x="64" y="634">─</text>
<text x="74" y="634">─</text>
<text x="84" y="634">─</text>
<text x="94" y="634">─</text>
<text x="104" y="634">─</text>
<text x="114" y="634">─</text>
<text x="124" y="634">─</text>
<text x="134" y="634">─</text>
<text x="144" y="634">─</text>
<text x="154" y="634">┼</text>
<text x="164" y="634">─</text>
<text x="174" y="634">─</text>
<text x="184" y="634">─</text>
<text x="194" y="634">─</text>
<text x="204" y="634">─</text>
<text x="214" y="634">─</text>
<text x="224" y="634">─</text>
<text x="234" y="634">─</text>
<text x="244" y="634">─</text>
<text x="254" y="634">─</text>
<text x="264" y="634">─</text>
<text x="274" y="634">─</text>
<text x="284" y="634">─</text>
<text x="294" y="634">─</text>
<text x="304" y="634">─</text>
<text x="314" y="634">─</text>
<text x="324" y="634">─</text>
<text x="334" y="634">─</text>
<text x="344" y="634">─</text>
<text x="354" y="634">─</text>
<text x="364" y="634">─</text>
<text x="374" y="634">┼</text>
<text x="384" y="634">─</text>
<text x="394" y="634">─</text>
<text x="404" y="634">─</text>
<text x="414" y="634">─</text>
<text x="424" y="634">─</text>
<text x="434" y="634">─</text>
<text x="444" y="634">─</text>
<text x="454" y="634">─</text>
<text x="464" y="634">─</text>
<text x="474" y="634">─</text>
<text x="484" y="634">─</text>
<text x="494" y="634">─</text>
<text x="504" y="634">─</text>
<text x="514" y="634">─</text>
<text x="524" y="634">─</text>
<text x="534" y="634">─</text>
<text x="544" y="634">─</text>
<text x="554" y="634">─</text>
<text x="564" y="634">─</text>
<text x="574" y="634">─</text>
<text x="584" y="634">─</text>
<text x="594" y="634">─</text>
<text x="604" y="634">┘</text>
<text x="384" y="654">│</text>
<text x="604" y="654">│</text>
<text x="154" y="674">▼</text>
<text x="374" y="674">▼</text>
<text x="34" y="694">┌</text>
<text x="44" y="694">─</text>
<text x="54" y="694">─</text>
<text x="64" y="694">─</text>
<text x="74" y="694">─</text>
<text x="84" y="694">─</text>
<text x="94" y="694">─</text>
<text x="104" y="694">─</text>
<text x="114" y="694">─</text>
<text x="124" y="694">─</text>
<text x="134" y="694">─</text>
<text x="144" y="694">─</text>
<text x="154" y="694">─</text>
<text x="164" y="694">─</text>
<text x="174" y="694">─</text>
<text x="184" y="694">─</text>
<text x="194" y="694">─</text>
<text x="204" y="694">─</text>
<text x="214" y="694">─</text>
<text x="224" y="694">─</text>
<text x="234" y="694">─</text>
<text x="244" y="694">─</text>
<text x="254" y="694">─</text>
<text x="264" y="694">─</text>
<text x="274" y="694">─</text>
<text x="284" y="694">─</text>
<text x="294" y="694">─</text>
<text x="304" y="694">─</text>
<text x="314" y="694">─</text>
<text x="324" y="694">─</text>
<text x="334" y="694">─</text>
<text x="344" y="694">─</text>
<text x="354" y="694">─</text>
<text x="364" y="694">─</text>
<text x="374" y="694">─</text>
<text x="384" y="694">─</text>
<text x="394" y="694">─</text>
<text x="404" y="694">─</text>
<text x="414" y="694">─</text>
<text x="424" y="694">─</text>
<text x="434" y="694">─</text>
<text x="444" y="694">─</text>
<text x="454" y="694">─</text>
<text x="464" y="694">─</text>
<text x="474" y="694">─</text>
<text x="484" y="694">─</text>
<text x="494" y="694">─</text>
<text x="504" y="694">─</text>
<text x="514" y="694">─</text>
<text x="524" y="694">─</text>
<text x="534" y="694">─</text>
<text x="544" y="694">─</text>
<text x="554" y="694">─</text>
<text x="564" y="694">─</text>
<text x="574" y="694">─</text>
<text x="584" y="694">─</text>
<text x="594" y="694">─</text>
<text x="604" y="694">┐</text>
<text x="34" y="714">│</text>
<text x="64" y="714">快</text>
<text x="84" y="714">取</text>
<text x="104" y="714">層</text>
<text x="604" y="714">│</text>
<text x="34" y="734">│</text>
<text x="64" y="734">┌</text>
<text x="74" y="734">─</text>
<text x="84" y="734">─</text>
<text x="94" y="734">─</text>
<text x="104" y="734">─</text>
<text x="114" y="734">─</text>
<text x="124" y="734">─</text>
<text x="134" y="734">─</text>
<text x="144" y="734">─</text>
<text x="154" y="734">─</text>
<text x="164" y="734">─</text>
<text x="174" y="734">─</text>
<text x="184" y="734">─</text>
<text x="194" y="734">─</text>
<text x="204" y="734">─</text>
<text x="214" y="734">─</text>
<text x="224" y="734">─</text>
<text x="234" y="734">─</text>
<text x="244" y="734">─</text>
<text x="254" y="734">─</text>
<text x="264" y="734">─</text>
<text x="274" y="734">─</text>
<text x="284" y="734">─</text>
<text x="294" y="734">─</text>
<text x="304" y="734">─</text>
<text x="314" y="734">─</text>
<text x="324" y="734">─</text>
<text x="334" y="734">─</text>
<text x="344" y="734">─</text>
<text x="354" y="734">─</text>
<text x="364" y="734">─</text>
<text x="374" y="734">─</text>
<text x="384" y="734">─</text>
<text x="394" y="734">─</text>
<text x="404" y="734">─</text>
<text x="414" y="734">─</text>
<text x="424" y="734">─</text>
<text x="434" y="734">─</text>
<text x="444" y="734">─</text>
<text x="454" y="734">─</text>
<text x="464" y="734">┐</text>
<text x="604" y="734">│</text>
<text x="34" y="754">│</text>
<text x="64" y="754">│</text>
<text x="94" y="754">R</text>
<text x="104" y="754">e</text>
<text x="114" y="754">d</text>
<text x="124" y="754">i</text>
<text x="134" y="754">s</text>
<text x="154" y="754">C</text>
<text x="164" y="754">l</text>
<text x="174" y="754">u</text>
<text x="184" y="754">s</text>
<text x="194" y="754">t</text>
<text x="204" y="754">e</text>
<text x="214" y="754">r</text>
<text x="464" y="754">│</text>
<text x="604" y="754">│</text>
<text x="34" y="774">│</text>
<text x="64" y="774">│</text>
<text x="94" y="774">・</text>
<text x="114" y="774">庫</text>
<text x="134" y="774">存</text>
<text x="154" y="774">計</text>
<text x="174" y="774">數</text>
<text x="194" y="774">（</text>
<text x="214" y="774">s</text>
<text x="224" y="774">t</text>
<text x="234" y="774">o</text>
<text x="244" y="774">c</text>
<text x="254" y="774">k</text>
<text x="264" y="774">:</text>
<text x="274" y="774">s</text>
<text x="284" y="774">k</text>
<text x="294" y="774">u</text>
<text x="304" y="774">:</text>
<text x="314" y="774">0</text>
<text x="324" y="774">0</text>
<text x="334" y="774">1</text>
<text x="354" y="774">=</text>
<text x="374" y="774">1</text>
<text x="384" y="774">0</text>
<text x="394" y="774">0</text>
<text x="404" y="774">0</text>
<text x="414" y="774">）</text>
<text x="464" y="774">│</text>
<text x="604" y="774">│</text>
<text x="34" y="794">│</text>
<text x="64" y="794">│</text>
<text x="94" y="794">・</text>
<text x="114" y="794">防</text>
<text x="134" y="794">重</text>
<text x="164" y="794">T</text>
<text x="174" y="794">o</text>
<text x="184" y="794">k</text>
<text x="194" y="794">e</text>
<text x="204" y="794">n</text>
<text x="214" y="794">（</text>
<text x="234" y="794">s</text>
<text x="244" y="794">e</text>
<text x="254" y="794">t</text>
<text x="264" y="794">n</text>
<text x="274" y="794">x</text>
<text x="294" y="794">o</text>
<text x="304" y="794">r</text>
<text x="314" y="794">d</text>
<text x="324" y="794">e</text>
<text x="334" y="794">r</text>
<text x="344" y="794">:</text>
<text x="354" y="794">u</text>
<text x="364" y="794">i</text>
<text x="374" y="794">d</text>
<text x="384" y="794">）</text>
<text x="464" y="794">│</text>
<text x="604" y="794">│</text>
<text x="34" y="814">│</text>
<text x="64" y="814">│</text>
<text x="94" y="814">・</text>
<text x="114" y="814">限</text>
<text x="134" y="814">流</text>
<text x="154" y="814">計</text>
<text x="174" y="814">數</text>
<text x="194" y="814">器</text>
<text x="464" y="814">│</text>
<text x="604" y="814">│</text>
<text x="34" y="834">│</text>
<text x="64" y="834">└</text>
<text x="74" y="834">─</text>
<text x="84" y="834">─</text>
<text x="94" y="834">─</text>
<text x="104" y="834">─</text>
<text x="114" y="834">─</text>
<text x="124" y="834">─</text>
<text x="134" y="834">─</text>
<text x="144" y="834">─</text>
<text x="154" y="834">─</text>
<text x="164" y="834">─</text>
<text x="174" y="834">─</text>
<text x="184" y="834">─</text>
<text x="194" y="834">─</text>
<text x="204" y="834">─</text>
<text x="214" y="834">─</text>
<text x="224" y="834">─</text>
<text x="234" y="834">─</text>
<text x="244" y="834">─</text>
<text x="254" y="834">─</text>
<text x="264" y="834">─</text>
<text x="274" y="834">─</text>
<text x="284" y="834">─</text>
<text x="294" y="834">─</text>
<text x="304" y="834">─</text>
<text x="314" y="834">─</text>
<text x="324" y="834">─</text>
<text x="334" y="834">─</text>
<text x="344" y="834">─</text>
<text x="354" y="834">─</text>
<text x="364" y="834">─</text>
<text x="374" y="834">─</text>
<text x="384" y="834">─</text>
<text x="394" y="834">─</text>
<text x="404" y="834">─</text>
<text x="414" y="834">─</text>
<text x="424" y="834">─</text>
<text x="434" y="834">─</text>
<text x="444" y="834">─</text>
<text x="454" y="834">─</text>
<text x="464" y="834">┘</text>
<text x="604" y="834">│</text>
<text x="34" y="854">└</text>
<text x="44" y="854">─</text>
<text x="54" y="854">─</text>
<text x="64" y="854">─</text>
<text x="74" y="854">─</text>
<text x="84" y="854">─</text>
<text x="94" y="854">─</text>
<text x="104" y="854">─</text>
<text x="114" y="854">─</text>
<text x="124" y="854">─</text>
<text x="134" y="854">─</text>
<text x="144" y="854">─</text>
<text x="154" y="854">─</text>
<text x="164" y="854">─</text>
<text x="174" y="854">─</text>
<text x="184" y="854">─</text>
<text x="194" y="854">─</text>
<text x="204" y="854">─</text>
<text x="214" y="854">─</text>
<text x="224" y="854">─</text>
<text x="234" y="854">─</text>
<text x="244" y="854">─</text>
<text x="254" y="854">─</text>
<text x="264" y="854">─</text>
<text x="274" y="854">─</text>
<text x="284" y="854">─</text>
<text x="294" y="854">─</text>
<text x="304" y="854">─</text>
<text x="314" y="854">─</text>
<text x="324" y="854">┬</text>
<text x="334" y="854">─</text>
<text x="344" y="854">─</text>
<text x="354" y="854">─</text>
<text x="364" y="854">─</text>
<text x="374" y="854">─</text>
<text x="384" y="854">─</text>
<text x="394" y="854">─</text>
<text x="404" y="854">─</text>
<text x="414" y="854">─</text>
<text x="424" y="854">─</text>
<text x="434" y="854">─</text>
<text x="444" y="854">─</text>
<text x="454" y="854">─</text>
<text x="464" y="854">─</text>
<text x="474" y="854">─</text>
<text x="484" y="854">─</text>
<text x="494" y="854">─</text>
<text x="504" y="854">─</text>
<text x="514" y="854">─</text>
<text x="524" y="854">─</text>
<text x="534" y="854">─</text>
<text x="544" y="854">─</text>
<text x="554" y="854">─</text>
<text x="564" y="854">─</text>
<text x="574" y="854">─</text>
<text x="584" y="854">─</text>
<text x="594" y="854">─</text>
<text x="604" y="854">┘</text>
<text x="324" y="874">│</text>
<text x="344" y="874">讀</text>
<text x="364" y="874">未</text>
<text x="384" y="874">命</text>
<text x="404" y="874">中</text>
<text x="434" y="874">/</text>
<text x="454" y="874">最</text>
<text x="474" y="874">終</text>
<text x="494" y="874">持</text>
<text x="514" y="874">久</text>
<text x="534" y="874">化</text>
<text x="324" y="894">▼</text>
<text x="34" y="914">┌</text>
<text x="44" y="914">─</text>
<text x="54" y="914">─</text>
<text x="64" y="914">─</text>
<text x="74" y="914">─</text>
<text x="84" y="914">─</text>
<text x="94" y="914">─</text>
<text x="104" y="914">─</text>
<text x="114" y="914">─</text>
<text x="124" y="914">─</text>
<text x="134" y="914">─</text>
<text x="144" y="914">─</text>
<text x="154" y="914">─</text>
<text x="164" y="914">─</text>
<text x="174" y="914">─</text>
<text x="184" y="914">─</text>
<text x="194" y="914">─</text>
<text x="204" y="914">─</text>
<text x="214" y="914">─</text>
<text x="224" y="914">─</text>
<text x="234" y="914">─</text>
<text x="244" y="914">─</text>
<text x="254" y="914">─</text>
<text x="264" y="914">─</text>
<text x="274" y="914">─</text>
<text x="284" y="914">─</text>
<text x="294" y="914">─</text>
<text x="304" y="914">─</text>
<text x="314" y="914">─</text>
<text x="324" y="914">─</text>
<text x="334" y="914">─</text>
<text x="344" y="914">─</text>
<text x="354" y="914">─</text>
<text x="364" y="914">─</text>
<text x="374" y="914">─</text>
<text x="384" y="914">─</text>
<text x="394" y="914">─</text>
<text x="404" y="914">─</text>
<text x="414" y="914">─</text>
<text x="424" y="914">─</text>
<text x="434" y="914">─</text>
<text x="444" y="914">─</text>
<text x="454" y="914">─</text>
<text x="464" y="914">─</text>
<text x="474" y="914">─</text>
<text x="484" y="914">─</text>
<text x="494" y="914">─</text>
<text x="504" y="914">─</text>
<text x="514" y="914">─</text>
<text x="524" y="914">─</text>
<text x="534" y="914">─</text>
<text x="544" y="914">─</text>
<text x="554" y="914">─</text>
<text x="564" y="914">─</text>
<text x="574" y="914">─</text>
<text x="584" y="914">─</text>
<text x="594" y="914">─</text>
<text x="604" y="914">┐</text>
<text x="34" y="934">│</text>
<text x="64" y="934">資</text>
<text x="84" y="934">料</text>
<text x="104" y="934">層</text>
<text x="604" y="934">│</text>
<text x="34" y="954">│</text>
<text x="64" y="954">┌</text>
<text x="74" y="954">─</text>
<text x="84" y="954">─</text>
<text x="94" y="954">─</text>
<text x="104" y="954">─</text>
<text x="114" y="954">─</text>
<text x="124" y="954">─</text>
<text x="134" y="954">─</text>
<text x="144" y="954">─</text>
<text x="154" y="954">─</text>
<text x="164" y="954">─</text>
<text x="174" y="954">─</text>
<text x="184" y="954">─</text>
<text x="194" y="954">─</text>
<text x="204" y="954">─</text>
<text x="214" y="954">─</text>
<text x="224" y="954">─</text>
<text x="234" y="954">─</text>
<text x="244" y="954">─</text>
<text x="254" y="954">─</text>
<text x="264" y="954">─</text>
<text x="274" y="954">─</text>
<text x="284" y="954">─</text>
<text x="294" y="954">─</text>
<text x="304" y="954">─</text>
<text x="314" y="954">─</text>
<text x="324" y="954">─</text>
<text x="334" y="954">─</text>
<text x="344" y="954">─</text>
<text x="354" y="954">─</text>
<text x="364" y="954">─</text>
<text x="374" y="954">─</text>
<text x="384" y="954">─</text>
<text x="394" y="954">─</text>
<text x="404" y="954">─</text>
<text x="414" y="954">─</text>
<text x="424" y="954">─</text>
<text x="434" y="954">─</text>
<text x="444" y="954">─</text>
<text x="454" y="954">─</text>
<text x="464" y="954">┐</text>
<text x="604" y="954">│</text>
<text x="34" y="974">│</text>
<text x="64" y="974">│</text>
<text x="94" y="974">M</text>
<text x="104" y="974">y</text>
<text x="114" y="974">S</text>
<text x="124" y="974">Q</text>
<text x="134" y="974">L</text>
<text x="144" y="974">（</text>
<text x="164" y="974">主</text>
<text x="184" y="974">從</text>
<text x="204" y="974">分</text>
<text x="224" y="974">離</text>
<text x="244" y="974">）</text>
<text x="464" y="974">│</text>
<text x="604" y="974">│</text>
<text x="34" y="994">│</text>
<text x="64" y="994">│</text>
<text x="94" y="994">・</text>
<text x="114" y="994">訂</text>
<text x="134" y="994">單</text>
<text x="154" y="994">表</text>
<text x="184" y="994">/</text>
<text x="204" y="994">庫</text>
<text x="224" y="994">存</text>
<text x="244" y="994">表</text>
<text x="464" y="994">│</text>
<text x="604" y="994">│</text>
<text x="34" y="1014">│</text>
<text x="64" y="1014">│</text>
<text x="94" y="1014">・</text>
<text x="114" y="1014">對</text>
<text x="134" y="1014">賬</text>
<text x="154" y="1014">記</text>
<text x="174" y="1014">錄</text>
<text x="464" y="1014">│</text>
<text x="604" y="1014">│</text>
<text x="34" y="1034">│</text>
<text x="64" y="1034">└</text>
<text x="74" y="1034">─</text>
<text x="84" y="1034">─</text>
<text x="94" y="1034">─</text>
<text x="104" y="1034">─</text>
<text x="114" y="1034">─</text>
<text x="124" y="1034">─</text>
<text x="134" y="1034">─</text>
<text x="144" y="1034">─</text>
<text x="154" y="1034">─</text>
<text x="164" y="1034">─</text>
<text x="174" y="1034">─</text>
<text x="184" y="1034">─</text>
<text x="194" y="1034">─</text>
<text x="204" y="1034">─</text>
<text x="214" y="1034">─</text>
<text x="224" y="1034">─</text>
<text x="234" y="1034">─</text>
<text x="244" y="1034">─</text>
<text x="254" y="1034">─</text>
<text x="264" y="1034">─</text>
<text x="274" y="1034">─</text>
<text x="284" y="1034">─</text>
<text x="294" y="1034">─</text>
<text x="304" y="1034">─</text>
<text x="314" y="1034">─</text>
<text x="324" y="1034">─</text>
<text x="334" y="1034">─</text>
<text x="344" y="1034">─</text>
<text x="354" y="1034">─</text>
<text x="364" y="1034">─</text>
<text x="374" y="1034">─</text>
<text x="384" y="1034">─</text>
<text x="394" y="1034">─</text>
<text x="404" y="1034">─</text>
<text x="414" y="1034">─</text>
<text x="424" y="1034">─</text>
<text x="434" y="1034">─</text>
<text x="444" y="1034">─</text>
<text x="454" y="1034">─</text>
<text x="464" y="1034">┘</text>
<text x="604" y="1034">│</text>
<text x="34" y="1054">└</text>
<text x="44" y="1054">─</text>
<text x="54" y="1054">─</text>
<text x="64" y="1054">─</text>
<text x="74" y="1054">─</text>
<text x="84" y="1054">─</text>
<text x="94" y="1054">─</text>
<text x="104" y="1054">─</text>
<text x="114" y="1054">─</text>
<text x="124" y="1054">─</text>
<text x="134" y="1054">─</text>
<text x="144" y="1054">─</text>
<text x="154" y="1054">─</text>
<text x="164" y="1054">─</text>
<text x="174" y="1054">─</text>
<text x="184" y="1054">─</text>
<text x="194" y="1054">─</text>
<text x="204" y="1054">─</text>
<text x="214" y="1054">─</text>
<text x="224" y="1054">─</text>
<text x="234" y="1054">─</text>
<text x="244" y="1054">─</text>
<text x="254" y="1054">─</text>
<text x="264" y="1054">─</text>
<text x="274" y="1054">─</text>
<text x="284" y="1054">─</text>
<text x="294" y="1054">─</text>
<text x="304" y="1054">─</text>
<text x="314" y="1054">─</text>
<text x="324" y="1054">─</text>
<text x="334" y="1054">─</text>
<text x="344" y="1054">─</text>
<text x="354" y="1054">─</text>
<text x="364" y="1054">─</text>
<text x="374" y="1054">─</text>
<text x="384" y="1054">─</text>
<text x="394" y="1054">─</text>
<text x="404" y="1054">─</text>
<text x="414" y="1054">─</text>
<text x="424" y="1054">─</text>
<text x="434" y="1054">─</text>
<text x="444" y="1054">─</text>
<text x="454" y="1054">─</text>
<text x="464" y="1054">─</text>
<text x="474" y="1054">─</text>
<text x="484" y="1054">─</text>
<text x="494" y="1054">─</text>
<text x="504" y="1054">─</text>
<text x="514" y="1054">─</text>
<text x="524" y="1054">─</text>
<text x="534" y="1054">─</text>
<text x="544" y="1054">─</text>
<text x="554" y="1054">─</text>
<text x="564" y="1054">─</text>
<text x="574" y="1054">─</text>
<text x="584" y="1054">─</text>
<text x="594" y="1054">─</text>
<text x="604" y="1054">┘</text>
<text x="154" y="1074">│</text>
<text x="374" y="1074">↑</text>
<text x="154" y="1094">▼</text>
<text x="374" y="1094">│</text>
<text x="394" y="1094">C</text>
<text x="404" y="1094">o</text>
<text x="414" y="1094">n</text>
<text x="424" y="1094">s</text>
<text x="434" y="1094">u</text>
<text x="444" y="1094">m</text>
<text x="454" y="1094">e</text>
<text x="464" y="1094">r</text>
<text x="484" y="1094">消</text>
<text x="504" y="1094">費</text>
<text x="34" y="1114">┌</text>
<text x="44" y="1114">─</text>
<text x="54" y="1114">─</text>
<text x="64" y="1114">─</text>
<text x="74" y="1114">─</text>
<text x="84" y="1114">─</text>
<text x="94" y="1114">─</text>
<text x="104" y="1114">─</text>
<text x="114" y="1114">─</text>
<text x="124" y="1114">─</text>
<text x="134" y="1114">─</text>
<text x="144" y="1114">─</text>
<text x="154" y="1114">─</text>
<text x="164" y="1114">─</text>
<text x="174" y="1114">─</text>
<text x="184" y="1114">─</text>
<text x="194" y="1114">─</text>
<text x="204" y="1114">─</text>
<text x="214" y="1114">─</text>
<text x="224" y="1114">─</text>
<text x="234" y="1114">─</text>
<text x="244" y="1114">─</text>
<text x="254" y="1114">─</text>
<text x="264" y="1114">─</text>
<text x="274" y="1114">─</text>
<text x="284" y="1114">─</text>
<text x="294" y="1114">─</text>
<text x="304" y="1114">─</text>
<text x="314" y="1114">─</text>
<text x="324" y="1114">─</text>
<text x="334" y="1114">─</text>
<text x="344" y="1114">─</text>
<text x="354" y="1114">─</text>
<text x="364" y="1114">─</text>
<text x="374" y="1114">─</text>
<text x="384" y="1114">─</text>
<text x="394" y="1114">─</text>
<text x="404" y="1114">─</text>
<text x="414" y="1114">─</text>
<text x="424" y="1114">─</text>
<text x="434" y="1114">─</text>
<text x="444" y="1114">─</text>
<text x="454" y="1114">─</text>
<text x="464" y="1114">─</text>
<text x="474" y="1114">─</text>
<text x="484" y="1114">─</text>
<text x="494" y="1114">─</text>
<text x="504" y="1114">─</text>
<text x="514" y="1114">─</text>
<text x="524" y="1114">─</text>
<text x="534" y="1114">─</text>
<text x="544" y="1114">─</text>
<text x="554" y="1114">─</text>
<text x="564" y="1114">─</text>
<text x="574" y="1114">─</text>
<text x="584" y="1114">─</text>
<text x="594" y="1114">─</text>
<text x="604" y="1114">┐</text>
<text x="34" y="1134">│</text>
<text x="64" y="1134">異</text>
<text x="84" y="1134">步</text>
<text x="104" y="1134">層</text>
<text x="604" y="1134">│</text>
<text x="34" y="1154">│</text>
<text x="64" y="1154">┌</text>
<text x="74" y="1154">─</text>
<text x="84" y="1154">─</text>
<text x="94" y="1154">─</text>
<text x="104" y="1154">─</text>
<text x="114" y="1154">─</text>
<text x="124" y="1154">─</text>
<text x="134" y="1154">─</text>
<text x="144" y="1154">─</text>
<text x="154" y="1154">─</text>
<text x="164" y="1154">─</text>
<text x="174" y="1154">─</text>
<text x="184" y="1154">─</text>
<text x="194" y="1154">─</text>
<text x="204" y="1154">─</text>
<text x="214" y="1154">─</text>
<text x="224" y="1154">─</text>
<text x="234" y="1154">─</text>
<text x="244" y="1154">─</text>
<text x="254" y="1154">┐</text>
<text x="284" y="1154">┌</text>
<text x="294" y="1154">─</text>
<text x="304" y="1154">─</text>
<text x="314" y="1154">─</text>
<text x="324" y="1154">─</text>
<text x="334" y="1154">─</text>
<text x="344" y="1154">─</text>
<text x="354" y="1154">─</text>
<text x="364" y="1154">─</text>
<text x="374" y="1154">─</text>
<text x="384" y="1154">─</text>
<text x="394" y="1154">─</text>
<text x="404" y="1154">─</text>
<text x="414" y="1154">─</text>
<text x="424" y="1154">─</text>
<text x="434" y="1154">─</text>
<text x="444" y="1154">─</text>
<text x="454" y="1154">─</text>
<text x="464" y="1154">─</text>
<text x="474" y="1154">─</text>
<text x="484" y="1154">┐</text>
<text x="604" y="1154">│</text>
<text x="34" y="1174">│</text>
<text x="64" y="1174">│</text>
<text x="94" y="1174">M</text>
<text x="104" y="1174">Q</text>
<text x="114" y="1174">（</text>
<text x="134" y="1174">K</text>
<text x="144" y="1174">a</text>
<text x="154" y="1174">f</text>
<text x="164" y="1174">k</text>
<text x="174" y="1174">a</text>
<text x="184" y="1174">/</text>
<text x="194" y="1174">R</text>
<text x="204" y="1174">M</text>
<text x="214" y="1174">Q</text>
<text x="224" y="1174">）</text>
<text x="254" y="1174">│</text>
<text x="284" y="1174">│</text>
<text x="314" y="1174">C</text>
<text x="324" y="1174">o</text>
<text x="334" y="1174">n</text>
<text x="344" y="1174">s</text>
<text x="354" y="1174">u</text>
<text x="364" y="1174">m</text>
<text x="374" y="1174">e</text>
<text x="384" y="1174">r</text>
<text x="404" y="1174">W</text>
<text x="414" y="1174">o</text>
<text x="424" y="1174">r</text>
<text x="434" y="1174">k</text>
<text x="444" y="1174">e</text>
<text x="454" y="1174">r</text>
<text x="484" y="1174">│</text>
<text x="604" y="1174">│</text>
<text x="34" y="1194">│</text>
<text x="64" y="1194">│</text>
<text x="94" y="1194">削</text>
<text x="114" y="1194">峰</text>
<text x="134" y="1194">平</text>
<text x="154" y="1194">滑</text>
<text x="174" y="1194">流</text>
<text x="194" y="1194">量</text>
<text x="264" y="1194">│</text>
<text x="294" y="1194">│</text>
<text x="324" y="1194">非</text>
<text x="344" y="1194">同</text>
<text x="364" y="1194">步</text>
<text x="384" y="1194">落</text>
<text x="404" y="1194">庫</text>
<text x="484" y="1194">│</text>
<text x="604" y="1194">│</text>
<text x="34" y="1214">│</text>
<text x="64" y="1214">└</text>
<text x="74" y="1214">─</text>
<text x="84" y="1214">─</text>
<text x="94" y="1214">─</text>
<text x="104" y="1214">─</text>
<text x="114" y="1214">─</text>
<text x="124" y="1214">─</text>
<text x="134" y="1214">─</text>
<text x="144" y="1214">─</text>
<text x="154" y="1214">─</text>
<text x="164" y="1214">─</text>
<text x="174" y="1214">─</text>
<text x="184" y="1214">─</text>
<text x="194" y="1214">─</text>
<text x="204" y="1214">─</text>
<text x="214" y="1214">─</text>
<text x="224" y="1214">─</text>
<text x="234" y="1214">─</text>
<text x="244" y="1214">─</text>
<text x="254" y="1214">┘</text>
<text x="284" y="1214">└</text>
<text x="294" y="1214">─</text>
<text x="304" y="1214">─</text>
<text x="314" y="1214">─</text>
<text x="324" y="1214">─</text>
<text x="334" y="1214">─</text>
<text x="344" y="1214">─</text>
<text x="354" y="1214">─</text>
<text x="364" y="1214">─</text>
<text x="374" y="1214">─</text>
<text x="384" y="1214">─</text>
<text x="394" y="1214">─</text>
<text x="404" y="1214">─</text>
<text x="414" y="1214">─</text>
<text x="424" y="1214">─</text>
<text x="434" y="1214">─</text>
<text x="444" y="1214">─</text>
<text x="454" y="1214">─</text>
<text x="464" y="1214">─</text>
<text x="474" y="1214">─</text>
<text x="484" y="1214">┘</text>
<text x="604" y="1214">│</text>
<text x="34" y="1234">└</text>
<text x="44" y="1234">─</text>
<text x="54" y="1234">─</text>
<text x="64" y="1234">─</text>
<text x="74" y="1234">─</text>
<text x="84" y="1234">─</text>
<text x="94" y="1234">─</text>
<text x="104" y="1234">─</text>
<text x="114" y="1234">─</text>
<text x="124" y="1234">─</text>
<text x="134" y="1234">─</text>
<text x="144" y="1234">─</text>
<text x="154" y="1234">─</text>
<text x="164" y="1234">─</text>
<text x="174" y="1234">─</text>
<text x="184" y="1234">─</text>
<text x="194" y="1234">─</text>
<text x="204" y="1234">─</text>
<text x="214" y="1234">─</text>
<text x="224" y="1234">─</text>
<text x="234" y="1234">─</text>
<text x="244" y="1234">─</text>
<text x="254" y="1234">─</text>
<text x="264" y="1234">─</text>
<text x="274" y="1234">─</text>
<text x="284" y="1234">─</text>
<text x="294" y="1234">─</text>
<text x="304" y="1234">─</text>
<text x="314" y="1234">─</text>
<text x="324" y="1234">─</text>
<text x="334" y="1234">─</text>
<text x="344" y="1234">─</text>
<text x="354" y="1234">─</text>
<text x="364" y="1234">─</text>
<text x="374" y="1234">─</text>
<text x="384" y="1234">─</text>
<text x="394" y="1234">─</text>
<text x="404" y="1234">─</text>
<text x="414" y="1234">─</text>
<text x="424" y="1234">─</text>
<text x="434" y="1234">─</text>
<text x="444" y="1234">─</text>
<text x="454" y="1234">─</text>
<text x="464" y="1234">─</text>
<text x="474" y="1234">─</text>
<text x="484" y="1234">─</text>
<text x="494" y="1234">─</text>
<text x="504" y="1234">─</text>
<text x="514" y="1234">─</text>
<text x="524" y="1234">─</text>
<text x="534" y="1234">─</text>
<text x="544" y="1234">─</text>
<text x="554" y="1234">─</text>
<text x="564" y="1234">─</text>
<text x="574" y="1234">─</text>
<text x="584" y="1234">─</text>
<text x="594" y="1234">─</text>
<text x="604" y="1234">┘</text>
</g>
</svg>
</div>
<p>入口層、業務層、資料層、異步層缺一不可。</p>
<h2 id="202-秒殺特性對應-20212022"><a class="header" href="#202-秒殺特性對應-20212022">20.2 秒殺特性（對應 20.2.1~20.2.2）</a></h2>
<!-- subsection-diagram -->
<h3 id="本小節示意圖-1"><a class="header" href="#本小節示意圖-1">本小節示意圖</a></h3>
<div class="ascii-svg-wrap">
<svg class="ascii-svg" xmlns="http://www.w3.org/2000/svg" width="668" height="764" viewBox="0 0 668 764" role="img" aria-label="ASCII diagram">
<g fill="currentColor" font-family="Noto Sans Mono CJK TC, Noto Sans Mono CJK SC, Noto Sans Mono CJK JP, Sarasa Mono TC, Cascadia Mono, JetBrains Mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace" font-size="16" text-rendering="geometricPrecision" xml:space="preserve">
<text x="14" y="14">正</text>
<text x="34" y="14">常</text>
<text x="54" y="14">流</text>
<text x="74" y="14">量</text>
<text x="104" y="14">v</text>
<text x="114" y="14">s</text>
<text x="134" y="14">秒</text>
<text x="154" y="14">殺</text>
<text x="174" y="14">瞬</text>
<text x="194" y="14">間</text>
<text x="214" y="14">流</text>
<text x="234" y="14">量</text>
<text x="254" y="14">對</text>
<text x="274" y="14">比</text>
<text x="34" y="54">Q</text>
<text x="44" y="54">P</text>
<text x="54" y="54">S</text>
<text x="34" y="74">(</text>
<text x="44" y="74">萬</text>
<text x="64" y="74">)</text>
<text x="34" y="94">1</text>
<text x="44" y="94">0</text>
<text x="54" y="94">0</text>
<text x="74" y="94">│</text>
<text x="174" y="94">▐</text>
<text x="184" y="94">█</text>
<text x="194" y="94">▌</text>
<text x="74" y="114">│</text>
<text x="174" y="114">█</text>
<text x="184" y="114">█</text>
<text x="194" y="114">█</text>
<text x="74" y="134">│</text>
<text x="174" y="134">█</text>
<text x="184" y="134">█</text>
<text x="194" y="134">█</text>
<text x="44" y="154">5</text>
<text x="54" y="154">0</text>
<text x="74" y="154">│</text>
<text x="174" y="154">█</text>
<text x="184" y="154">█</text>
<text x="194" y="154">█</text>
<text x="74" y="174">│</text>
<text x="174" y="174">█</text>
<text x="184" y="174">█</text>
<text x="194" y="174">█</text>
<text x="74" y="194">│</text>
<text x="174" y="194">█</text>
<text x="184" y="194">█</text>
<text x="194" y="194">█</text>
<text x="44" y="214">1</text>
<text x="54" y="214">0</text>
<text x="74" y="214">│</text>
<text x="84" y="214">─</text>
<text x="94" y="214">─</text>
<text x="104" y="214">─</text>
<text x="114" y="214">─</text>
<text x="124" y="214">─</text>
<text x="134" y="214">─</text>
<text x="144" y="214">─</text>
<text x="154" y="214">─</text>
<text x="164" y="214">─</text>
<text x="174" y="214">█</text>
<text x="184" y="214">█</text>
<text x="194" y="214">█</text>
<text x="204" y="214">─</text>
<text x="214" y="214">─</text>
<text x="224" y="214">─</text>
<text x="234" y="214">─</text>
<text x="244" y="214">─</text>
<text x="254" y="214">─</text>
<text x="264" y="214">─</text>
<text x="274" y="214">─</text>
<text x="284" y="214">─</text>
<text x="294" y="214">─</text>
<text x="304" y="214">─</text>
<text x="314" y="214">─</text>
<text x="324" y="214">─</text>
<text x="334" y="214">─</text>
<text x="344" y="214">─</text>
<text x="354" y="214">─</text>
<text x="364" y="214">─</text>
<text x="374" y="214">─</text>
<text x="384" y="214">─</text>
<text x="394" y="214">─</text>
<text x="404" y="214">─</text>
<text x="414" y="214">─</text>
<text x="424" y="214">─</text>
<text x="434" y="214">─</text>
<text x="444" y="214">─</text>
<text x="454" y="214">─</text>
<text x="464" y="214">─</text>
<text x="474" y="214">─</text>
<text x="484" y="214">─</text>
<text x="494" y="214">─</text>
<text x="504" y="214">─</text>
<text x="514" y="214">─</text>
<text x="524" y="214">─</text>
<text x="534" y="214">─</text>
<text x="544" y="214">─</text>
<text x="554" y="214">─</text>
<text x="574" y="214">正</text>
<text x="594" y="214">常</text>
<text x="614" y="214">基</text>
<text x="634" y="214">線</text>
<text x="54" y="234">1</text>
<text x="74" y="234">│</text>
<text x="174" y="234">█</text>
<text x="184" y="234">█</text>
<text x="194" y="234">█</text>
<text x="204" y="234">█</text>
<text x="214" y="234">█</text>
<text x="224" y="234">█</text>
<text x="234" y="234">█</text>
<text x="244" y="234">█</text>
<text x="254" y="234">█</text>
<text x="264" y="234">█</text>
<text x="274" y="234">█</text>
<text x="284" y="234">█</text>
<text x="294" y="234">█</text>
<text x="304" y="234">█</text>
<text x="314" y="234">█</text>
<text x="324" y="234">█</text>
<text x="334" y="234">█</text>
<text x="344" y="234">█</text>
<text x="354" y="234">█</text>
<text x="364" y="234">█</text>
<text x="374" y="234">█</text>
<text x="384" y="234">█</text>
<text x="394" y="234">█</text>
<text x="74" y="254">│</text>
<text x="174" y="254">█</text>
<text x="184" y="254">█</text>
<text x="194" y="254">█</text>
<text x="204" y="254">█</text>
<text x="214" y="254">█</text>
<text x="224" y="254">█</text>
<text x="234" y="254">█</text>
<text x="244" y="254">█</text>
<text x="254" y="254">█</text>
<text x="264" y="254">█</text>
<text x="274" y="254">█</text>
<text x="284" y="254">█</text>
<text x="294" y="254">█</text>
<text x="304" y="254">█</text>
<text x="314" y="254">█</text>
<text x="324" y="254">█</text>
<text x="334" y="254">█</text>
<text x="344" y="254">█</text>
<text x="354" y="254">█</text>
<text x="364" y="254">█</text>
<text x="374" y="254">█</text>
<text x="384" y="254">█</text>
<text x="394" y="254">█</text>
<text x="404" y="254">█</text>
<text x="414" y="254">█</text>
<text x="424" y="254">█</text>
<text x="434" y="254">█</text>
<text x="444" y="254">█</text>
<text x="54" y="274">0</text>
<text x="74" y="274">└</text>
<text x="84" y="274">─</text>
<text x="94" y="274">─</text>
<text x="104" y="274">─</text>
<text x="114" y="274">─</text>
<text x="124" y="274">─</text>
<text x="134" y="274">─</text>
<text x="144" y="274">─</text>
<text x="154" y="274">─</text>
<text x="164" y="274">─</text>
<text x="174" y="274">┼</text>
<text x="184" y="274">─</text>
<text x="194" y="274">─</text>
<text x="204" y="274">─</text>
<text x="214" y="274">─</text>
<text x="224" y="274">─</text>
<text x="234" y="274">─</text>
<text x="244" y="274">─</text>
<text x="254" y="274">─</text>
<text x="264" y="274">─</text>
<text x="274" y="274">─</text>
<text x="284" y="274">─</text>
<text x="294" y="274">─</text>
<text x="304" y="274">─</text>
<text x="314" y="274">─</text>
<text x="324" y="274">─</text>
<text x="334" y="274">─</text>
<text x="344" y="274">─</text>
<text x="354" y="274">─</text>
<text x="364" y="274">─</text>
<text x="374" y="274">─</text>
<text x="384" y="274">─</text>
<text x="394" y="274">─</text>
<text x="404" y="274">─</text>
<text x="414" y="274">─</text>
<text x="424" y="274">─</text>
<text x="434" y="274">─</text>
<text x="444" y="274">─</text>
<text x="454" y="274">─</text>
<text x="464" y="274">─</text>
<text x="474" y="274">─</text>
<text x="484" y="274">─</text>
<text x="494" y="274">─</text>
<text x="504" y="274">─</text>
<text x="514" y="274">─</text>
<text x="524" y="274">─</text>
<text x="534" y="274">─</text>
<text x="544" y="274">─</text>
<text x="554" y="274">─</text>
<text x="564" y="274">►</text>
<text x="584" y="274">時</text>
<text x="604" y="274">間</text>
<text x="154" y="294">秒</text>
<text x="174" y="294">殺</text>
<text x="224" y="294">←</text>
<text x="234" y="294">─</text>
<text x="244" y="294">─</text>
<text x="264" y="294">持</text>
<text x="284" y="294">續</text>
<text x="304" y="294">約</text>
<text x="334" y="294">5</text>
<text x="354" y="294">分</text>
<text x="374" y="294">鐘</text>
<text x="404" y="294">─</text>
<text x="414" y="294">─</text>
<text x="424" y="294">─</text>
<text x="434" y="294">►</text>
<text x="464" y="294">流</text>
<text x="484" y="294">量</text>
<text x="504" y="294">回</text>
<text x="524" y="294">落</text>
<text x="154" y="314">開</text>
<text x="174" y="314">始</text>
<text x="154" y="334">T</text>
<text x="164" y="334">0</text>
<text x="34" y="374">┌</text>
<text x="44" y="374">─</text>
<text x="54" y="374">─</text>
<text x="64" y="374">─</text>
<text x="74" y="374">─</text>
<text x="84" y="374">─</text>
<text x="94" y="374">─</text>
<text x="104" y="374">─</text>
<text x="114" y="374">─</text>
<text x="124" y="374">─</text>
<text x="134" y="374">─</text>
<text x="144" y="374">─</text>
<text x="154" y="374">─</text>
<text x="164" y="374">─</text>
<text x="174" y="374">─</text>
<text x="184" y="374">─</text>
<text x="194" y="374">─</text>
<text x="204" y="374">─</text>
<text x="214" y="374">─</text>
<text x="224" y="374">─</text>
<text x="234" y="374">─</text>
<text x="244" y="374">─</text>
<text x="254" y="374">─</text>
<text x="264" y="374">─</text>
<text x="274" y="374">─</text>
<text x="284" y="374">─</text>
<text x="294" y="374">─</text>
<text x="304" y="374">─</text>
<text x="314" y="374">─</text>
<text x="324" y="374">─</text>
<text x="334" y="374">─</text>
<text x="344" y="374">─</text>
<text x="354" y="374">─</text>
<text x="364" y="374">─</text>
<text x="374" y="374">─</text>
<text x="384" y="374">─</text>
<text x="394" y="374">─</text>
<text x="404" y="374">─</text>
<text x="414" y="374">─</text>
<text x="424" y="374">─</text>
<text x="434" y="374">─</text>
<text x="444" y="374">─</text>
<text x="454" y="374">─</text>
<text x="464" y="374">─</text>
<text x="474" y="374">─</text>
<text x="484" y="374">─</text>
<text x="494" y="374">─</text>
<text x="504" y="374">─</text>
<text x="514" y="374">─</text>
<text x="524" y="374">─</text>
<text x="534" y="374">─</text>
<text x="544" y="374">─</text>
<text x="554" y="374">─</text>
<text x="564" y="374">─</text>
<text x="574" y="374">─</text>
<text x="584" y="374">─</text>
<text x="594" y="374">─</text>
<text x="604" y="374">─</text>
<text x="614" y="374">─</text>
<text x="624" y="374">─</text>
<text x="634" y="374">─</text>
<text x="644" y="374">┐</text>
<text x="34" y="394">│</text>
<text x="64" y="394">秒</text>
<text x="84" y="394">殺</text>
<text x="104" y="394">瞬</text>
<text x="124" y="394">間</text>
<text x="144" y="394">特</text>
<text x="164" y="394">性</text>
<text x="184" y="394">：</text>
<text x="644" y="394">│</text>
<text x="64" y="414">│</text>
<text x="644" y="414">│</text>
<text x="34" y="434">│</text>
<text x="64" y="434">・</text>
<text x="84" y="434">流</text>
<text x="104" y="434">量</text>
<text x="124" y="434">是</text>
<text x="144" y="434">平</text>
<text x="164" y="434">時</text>
<text x="184" y="434">的</text>
<text x="214" y="434">1</text>
<text x="224" y="434">0</text>
<text x="234" y="434">0</text>
<text x="244" y="434">x</text>
<text x="254" y="434">（</text>
<text x="274" y="434">1</text>
<text x="284" y="434">0</text>
<text x="294" y="434">萬</text>
<text x="324" y="434">Q</text>
<text x="334" y="434">P</text>
<text x="344" y="434">S</text>
<text x="364" y="434">v</text>
<text x="374" y="434">s</text>
<text x="394" y="434">正</text>
<text x="414" y="434">常</text>
<text x="444" y="434">1</text>
<text x="454" y="434">0</text>
<text x="464" y="434">0</text>
<text x="474" y="434">0</text>
<text x="494" y="434">Q</text>
<text x="504" y="434">P</text>
<text x="514" y="434">S</text>
<text x="524" y="434">）</text>
<text x="644" y="434">│</text>
<text x="34" y="454">│</text>
<text x="64" y="454">・</text>
<text x="84" y="454">熱</text>
<text x="104" y="454">點</text>
<text x="134" y="454">k</text>
<text x="144" y="454">e</text>
<text x="154" y="454">y</text>
<text x="164" y="454">：</text>
<text x="184" y="454">少</text>
<text x="204" y="454">數</text>
<text x="234" y="454">S</text>
<text x="244" y="454">K</text>
<text x="254" y="454">U</text>
<text x="274" y="454">被</text>
<text x="294" y="454">高</text>
<text x="314" y="454">頻</text>
<text x="334" y="454">存</text>
<text x="354" y="454">取</text>
<text x="374" y="454">（</text>
<text x="394" y="454">R</text>
<text x="404" y="454">e</text>
<text x="414" y="454">d</text>
<text x="424" y="454">i</text>
<text x="434" y="454">s</text>
<text x="454" y="454">熱</text>
<text x="474" y="454">點</text>
<text x="494" y="454">問</text>
<text x="514" y="454">題</text>
<text x="534" y="454">）</text>
<text x="644" y="454">│</text>
<text x="34" y="474">│</text>
<text x="64" y="474">・</text>
<text x="84" y="474">超</text>
<text x="104" y="474">賣</text>
<text x="124" y="474">風</text>
<text x="144" y="474">險</text>
<text x="164" y="474">：</text>
<text x="184" y="474">多</text>
<text x="204" y="474">節</text>
<text x="224" y="474">點</text>
<text x="244" y="474">並</text>
<text x="264" y="474">發</text>
<text x="284" y="474">扣</text>
<text x="304" y="474">減</text>
<text x="324" y="474">同</text>
<text x="344" y="474">一</text>
<text x="364" y="474">庫</text>
<text x="384" y="474">存</text>
<text x="644" y="474">│</text>
<text x="34" y="494">│</text>
<text x="64" y="494">・</text>
<text x="84" y="494">重</text>
<text x="104" y="494">複</text>
<text x="124" y="494">下</text>
<text x="144" y="494">單</text>
<text x="164" y="494">：</text>
<text x="184" y="494">用</text>
<text x="204" y="494">戶</text>
<text x="224" y="494">多</text>
<text x="244" y="494">次</text>
<text x="264" y="494">點</text>
<text x="284" y="494">擊</text>
<text x="304" y="494">「</text>
<text x="324" y="494">搶</text>
<text x="344" y="494">購</text>
<text x="364" y="494">」</text>
<text x="384" y="494">按</text>
<text x="404" y="494">鈕</text>
<text x="644" y="494">│</text>
<text x="34" y="514">│</text>
<text x="64" y="514">・</text>
<text x="84" y="514">容</text>
<text x="104" y="514">錯</text>
<text x="124" y="514">窗</text>
<text x="144" y="514">口</text>
<text x="164" y="514">極</text>
<text x="184" y="514">短</text>
<text x="204" y="514">：</text>
<text x="224" y="514">5</text>
<text x="244" y="514">分</text>
<text x="264" y="514">鐘</text>
<text x="284" y="514">內</text>
<text x="304" y="514">必</text>
<text x="324" y="514">須</text>
<text x="344" y="514">解</text>
<text x="364" y="514">決</text>
<text x="384" y="514">，</text>
<text x="404" y="514">無</text>
<text x="424" y="514">法</text>
<text x="444" y="514">慢</text>
<text x="464" y="514">慢</text>
<text x="484" y="514">修</text>
<text x="644" y="514">│</text>
<text x="34" y="534">└</text>
<text x="44" y="534">─</text>
<text x="54" y="534">─</text>
<text x="64" y="534">─</text>
<text x="74" y="534">─</text>
<text x="84" y="534">─</text>
<text x="94" y="534">─</text>
<text x="104" y="534">─</text>
<text x="114" y="534">─</text>
<text x="124" y="534">─</text>
<text x="134" y="534">─</text>
<text x="144" y="534">─</text>
<text x="154" y="534">─</text>
<text x="164" y="534">─</text>
<text x="174" y="534">─</text>
<text x="184" y="534">─</text>
<text x="194" y="534">─</text>
<text x="204" y="534">─</text>
<text x="214" y="534">─</text>
<text x="224" y="534">─</text>
<text x="234" y="534">─</text>
<text x="244" y="534">─</text>
<text x="254" y="534">─</text>
<text x="264" y="534">─</text>
<text x="274" y="534">─</text>
<text x="284" y="534">─</text>
<text x="294" y="534">─</text>
<text x="304" y="534">─</text>
<text x="314" y="534">─</text>
<text x="324" y="534">─</text>
<text x="334" y="534">─</text>
<text x="344" y="534">─</text>
<text x="354" y="534">─</text>
<text x="364" y="534">─</text>
<text x="374" y="534">─</text>
<text x="384" y="534">─</text>
<text x="394" y="534">─</text>
<text x="404" y="534">─</text>
<text x="414" y="534">─</text>
<text x="424" y="534">─</text>
<text x="434" y="534">─</text>
<text x="444" y="534">─</text>
<text x="454" y="534">─</text>
<text x="464" y="534">─</text>
<text x="474" y="534">─</text>
<text x="484" y="534">─</text>
<text x="494" y="534">─</text>
<text x="504" y="534">─</text>
<text x="514" y="534">─</text>
<text x="524" y="534">─</text>
<text x="534" y="534">─</text>
<text x="544" y="534">─</text>
<text x="554" y="534">─</text>
<text x="564" y="534">─</text>
<text x="574" y="534">─</text>
<text x="584" y="534">─</text>
<text x="594" y="534">─</text>
<text x="604" y="534">─</text>
<text x="614" y="534">─</text>
<text x="624" y="534">─</text>
<text x="634" y="534">─</text>
<text x="644" y="534">┘</text>
<text x="34" y="574">關</text>
<text x="54" y="574">鍵</text>
<text x="74" y="574">挑</text>
<text x="94" y="574">戰</text>
<text x="114" y="574">：</text>
<text x="34" y="594">┌</text>
<text x="44" y="594">─</text>
<text x="54" y="594">─</text>
<text x="64" y="594">─</text>
<text x="74" y="594">─</text>
<text x="84" y="594">─</text>
<text x="94" y="594">─</text>
<text x="104" y="594">─</text>
<text x="114" y="594">─</text>
<text x="124" y="594">─</text>
<text x="134" y="594">─</text>
<text x="144" y="594">─</text>
<text x="154" y="594">─</text>
<text x="164" y="594">─</text>
<text x="174" y="594">─</text>
<text x="184" y="594">─</text>
<text x="194" y="594">─</text>
<text x="204" y="594">─</text>
<text x="214" y="594">┬</text>
<text x="224" y="594">─</text>
<text x="234" y="594">─</text>
<text x="244" y="594">─</text>
<text x="254" y="594">─</text>
<text x="264" y="594">─</text>
<text x="274" y="594">─</text>
<text x="284" y="594">─</text>
<text x="294" y="594">─</text>
<text x="304" y="594">─</text>
<text x="314" y="594">─</text>
<text x="324" y="594">─</text>
<text x="334" y="594">─</text>
<text x="344" y="594">─</text>
<text x="354" y="594">─</text>
<text x="364" y="594">─</text>
<text x="374" y="594">─</text>
<text x="384" y="594">─</text>
<text x="394" y="594">─</text>
<text x="404" y="594">─</text>
<text x="414" y="594">─</text>
<text x="424" y="594">─</text>
<text x="434" y="594">─</text>
<text x="444" y="594">─</text>
<text x="454" y="594">─</text>
<text x="464" y="594">─</text>
<text x="474" y="594">─</text>
<text x="484" y="594">─</text>
<text x="494" y="594">─</text>
<text x="504" y="594">─</text>
<text x="514" y="594">─</text>
<text x="524" y="594">─</text>
<text x="534" y="594">─</text>
<text x="544" y="594">─</text>
<text x="554" y="594">─</text>
<text x="564" y="594">─</text>
<text x="574" y="594">─</text>
<text x="584" y="594">─</text>
<text x="594" y="594">─</text>
<text x="604" y="594">─</text>
<text x="614" y="594">─</text>
<text x="624" y="594">─</text>
<text x="634" y="594">─</text>
<text x="644" y="594">┐</text>
<text x="34" y="614">│</text>
<text x="64" y="614">問</text>
<text x="84" y="614">題</text>
<text x="224" y="614">│</text>
<text x="254" y="614">應</text>
<text x="274" y="614">對</text>
<text x="294" y="614">策</text>
<text x="314" y="614">略</text>
<text x="644" y="614">│</text>
<text x="34" y="634">├</text>
<text x="44" y="634">─</text>
<text x="54" y="634">─</text>
<text x="64" y="634">─</text>
<text x="74" y="634">─</text>
<text x="84" y="634">─</text>
<text x="94" y="634">─</text>
<text x="104" y="634">─</text>
<text x="114" y="634">─</text>
<text x="124" y="634">─</text>
<text x="134" y="634">─</text>
<text x="144" y="634">─</text>
<text x="154" y="634">─</text>
<text x="164" y="634">─</text>
<text x="174" y="634">─</text>
<text x="184" y="634">─</text>
<text x="194" y="634">─</text>
<text x="204" y="634">─</text>
<text x="214" y="634">┼</text>
<text x="224" y="634">─</text>
<text x="234" y="634">─</text>
<text x="244" y="634">─</text>
<text x="254" y="634">─</text>
<text x="264" y="634">─</text>
<text x="274" y="634">─</text>
<text x="284" y="634">─</text>
<text x="294" y="634">─</text>
<text x="304" y="634">─</text>
<text x="314" y="634">─</text>
<text x="324" y="634">─</text>
<text x="334" y="634">─</text>
<text x="344" y="634">─</text>
<text x="354" y="634">─</text>
<text x="364" y="634">─</text>
<text x="374" y="634">─</text>
<text x="384" y="634">─</text>
<text x="394" y="634">─</text>
<text x="404" y="634">─</text>
<text x="414" y="634">─</text>
<text x="424" y="634">─</text>
<text x="434" y="634">─</text>
<text x="444" y="634">─</text>
<text x="454" y="634">─</text>
<text x="464" y="634">─</text>
<text x="474" y="634">─</text>
<text x="484" y="634">─</text>
<text x="494" y="634">─</text>
<text x="504" y="634">─</text>
<text x="514" y="634">─</text>
<text x="524" y="634">─</text>
<text x="534" y="634">─</text>
<text x="544" y="634">─</text>
<text x="554" y="634">─</text>
<text x="564" y="634">─</text>
<text x="574" y="634">─</text>
<text x="584" y="634">─</text>
<text x="594" y="634">─</text>
<text x="604" y="634">─</text>
<text x="614" y="634">─</text>
<text x="624" y="634">─</text>
<text x="634" y="634">─</text>
<text x="644" y="634">┤</text>
<text x="34" y="654">│</text>
<text x="64" y="654">熱</text>
<text x="84" y="654">點</text>
<text x="114" y="654">k</text>
<text x="124" y="654">e</text>
<text x="134" y="654">y</text>
<text x="224" y="654">│</text>
<text x="254" y="654">庫</text>
<text x="274" y="654">存</text>
<text x="294" y="654">分</text>
<text x="314" y="654">段</text>
<text x="334" y="654">（</text>
<text x="354" y="654">多</text>
<text x="374" y="654">個</text>
<text x="404" y="654">R</text>
<text x="414" y="654">e</text>
<text x="424" y="654">d</text>
<text x="434" y="654">i</text>
<text x="444" y="654">s</text>
<text x="464" y="654">k</text>
<text x="474" y="654">e</text>
<text x="484" y="654">y</text>
<text x="504" y="654">分</text>
<text x="524" y="654">散</text>
<text x="544" y="654">）</text>
<text x="644" y="654">│</text>
<text x="34" y="674">│</text>
<text x="64" y="674">超</text>
<text x="84" y="674">賣</text>
<text x="224" y="674">│</text>
<text x="254" y="674">L</text>
<text x="264" y="674">u</text>
<text x="274" y="674">a</text>
<text x="294" y="674">原</text>
<text x="314" y="674">子</text>
<text x="334" y="674">扣</text>
<text x="354" y="674">減</text>
<text x="384" y="674">+</text>
<text x="404" y="674">回</text>
<text x="424" y="674">滾</text>
<text x="644" y="674">│</text>
<text x="34" y="694">│</text>
<text x="64" y="694">重</text>
<text x="84" y="694">複</text>
<text x="104" y="694">下</text>
<text x="124" y="694">單</text>
<text x="224" y="694">│</text>
<text x="254" y="694">S</text>
<text x="264" y="694">E</text>
<text x="274" y="694">T</text>
<text x="284" y="694">N</text>
<text x="294" y="694">X</text>
<text x="314" y="694">冪</text>
<text x="334" y="694">等</text>
<text x="364" y="694">T</text>
<text x="374" y="694">o</text>
<text x="384" y="694">k</text>
<text x="394" y="694">e</text>
<text x="404" y="694">n</text>
<text x="644" y="694">│</text>
<text x="34" y="714">│</text>
<text x="64" y="714">D</text>
<text x="74" y="714">B</text>
<text x="94" y="714">打</text>
<text x="114" y="714">爆</text>
<text x="224" y="714">│</text>
<text x="254" y="714">異</text>
<text x="274" y="714">步</text>
<text x="304" y="714">M</text>
<text x="314" y="714">Q</text>
<text x="334" y="714">削</text>
<text x="354" y="714">峰</text>
<text x="644" y="714">│</text>
<text x="34" y="734">└</text>
<text x="44" y="734">─</text>
<text x="54" y="734">─</text>
<text x="64" y="734">─</text>
<text x="74" y="734">─</text>
<text x="84" y="734">─</text>
<text x="94" y="734">─</text>
<text x="104" y="734">─</text>
<text x="114" y="734">─</text>
<text x="124" y="734">─</text>
<text x="134" y="734">─</text>
<text x="144" y="734">─</text>
<text x="154" y="734">─</text>
<text x="164" y="734">─</text>
<text x="174" y="734">─</text>
<text x="184" y="734">─</text>
<text x="194" y="734">─</text>
<text x="204" y="734">─</text>
<text x="214" y="734">┴</text>
<text x="224" y="734">─</text>
<text x="234" y="734">─</text>
<text x="244" y="734">─</text>
<text x="254" y="734">─</text>
<text x="264" y="734">─</text>
<text x="274" y="734">─</text>
<text x="284" y="734">─</text>
<text x="294" y="734">─</text>
<text x="304" y="734">─</text>
<text x="314" y="734">─</text>
<text x="324" y="734">─</text>
<text x="334" y="734">─</text>
<text x="344" y="734">─</text>
<text x="354" y="734">─</text>
<text x="364" y="734">─</text>
<text x="374" y="734">─</text>
<text x="384" y="734">─</text>
<text x="394" y="734">─</text>
<text x="404" y="734">─</text>
<text x="414" y="734">─</text>
<text x="424" y="734">─</text>
<text x="434" y="734">─</text>
<text x="444" y="734">─</text>
<text x="454" y="734">─</text>
<text x="464" y="734">─</text>
<text x="474" y="734">─</text>
<text x="484" y="734">─</text>
<text x="494" y="734">─</text>
<text x="504" y="734">─</text>
<text x="514" y="734">─</text>
<text x="524" y="734">─</text>
<text x="534" y="734">─</text>
<text x="544" y="734">─</text>
<text x="554" y="734">─</text>
<text x="564" y="734">─</text>
<text x="574" y="734">─</text>
<text x="584" y="734">─</text>
<text x="594" y="734">─</text>
<text x="604" y="734">─</text>
<text x="614" y="734">─</text>
<text x="624" y="734">─</text>
<text x="634" y="734">─</text>
<text x="644" y="734">┘</text>
</g>
</svg>
</div>
<p>高峰值、瞬時流量、熱點資料、低容錯窗口。</p>
<h2 id="203-活動前中後對應-20312032"><a class="header" href="#203-活動前中後對應-20312032">20.3 活動前中後（對應 20.3.1~20.3.2）</a></h2>
<!-- subsection-diagram -->
<h3 id="本小節示意圖-2"><a class="header" href="#本小節示意圖-2">本小節示意圖</a></h3>
<div class="ascii-svg-wrap">
<svg class="ascii-svg" xmlns="http://www.w3.org/2000/svg" width="648" height="864" viewBox="0 0 648 864" role="img" aria-label="ASCII diagram">
<g fill="currentColor" font-family="Noto Sans Mono CJK TC, Noto Sans Mono CJK SC, Noto Sans Mono CJK JP, Sarasa Mono TC, Cascadia Mono, JetBrains Mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace" font-size="16" text-rendering="geometricPrecision" xml:space="preserve">
<text x="14" y="14">秒</text>
<text x="34" y="14">殺</text>
<text x="54" y="14">活</text>
<text x="74" y="14">動</text>
<text x="94" y="14">生</text>
<text x="114" y="14">命</text>
<text x="134" y="14">週</text>
<text x="154" y="14">期</text>
<text x="174" y="14">時</text>
<text x="194" y="14">間</text>
<text x="214" y="14">軸</text>
<text x="34" y="54">─</text>
<text x="44" y="54">─</text>
<text x="54" y="54">─</text>
<text x="74" y="54">活</text>
<text x="94" y="54">動</text>
<text x="114" y="54">前</text>
<text x="134" y="54">（</text>
<text x="154" y="54">T</text>
<text x="164" y="54">0</text>
<text x="184" y="54">之</text>
<text x="204" y="54">前</text>
<text x="224" y="54">）</text>
<text x="244" y="54">─</text>
<text x="254" y="54">─</text>
<text x="264" y="54">─</text>
<text x="274" y="54">─</text>
<text x="284" y="54">─</text>
<text x="294" y="54">─</text>
<text x="304" y="54">─</text>
<text x="314" y="54">─</text>
<text x="324" y="54">─</text>
<text x="334" y="54">─</text>
<text x="344" y="54">─</text>
<text x="354" y="54">─</text>
<text x="364" y="54">─</text>
<text x="374" y="54">─</text>
<text x="384" y="54">─</text>
<text x="394" y="54">─</text>
<text x="404" y="54">─</text>
<text x="414" y="54">─</text>
<text x="424" y="54">─</text>
<text x="434" y="54">─</text>
<text x="444" y="54">─</text>
<text x="454" y="54">─</text>
<text x="464" y="54">─</text>
<text x="474" y="54">─</text>
<text x="484" y="54">─</text>
<text x="494" y="54">─</text>
<text x="504" y="54">─</text>
<text x="514" y="54">─</text>
<text x="524" y="54">─</text>
<text x="534" y="54">─</text>
<text x="544" y="54">─</text>
<text x="554" y="54">─</text>
<text x="564" y="54">─</text>
<text x="574" y="54">─</text>
<text x="584" y="54">─</text>
<text x="594" y="54">─</text>
<text x="604" y="54">─</text>
<text x="614" y="54">─</text>
<text x="624" y="54">─</text>
<text x="34" y="94">T</text>
<text x="44" y="94">-</text>
<text x="54" y="94">2</text>
<text x="64" y="94">4</text>
<text x="74" y="94">h</text>
<text x="124" y="94">T</text>
<text x="134" y="94">-</text>
<text x="144" y="94">1</text>
<text x="154" y="94">h</text>
<text x="224" y="94">T</text>
<text x="234" y="94">-</text>
<text x="244" y="94">1</text>
<text x="254" y="94">0</text>
<text x="264" y="94">m</text>
<text x="274" y="94">i</text>
<text x="284" y="94">n</text>
<text x="324" y="94">T</text>
<text x="334" y="94">0</text>
<text x="344" y="94">（</text>
<text x="364" y="94">秒</text>
<text x="384" y="94">殺</text>
<text x="404" y="94">開</text>
<text x="424" y="94">始</text>
<text x="444" y="94">）</text>
<text x="304" y="114">│</text>
<text x="404" y="114">│</text>
<text x="524" y="114">│</text>
<text x="624" y="114">│</text>
<text x="54" y="134">▼</text>
<text x="154" y="134">▼</text>
<text x="274" y="134">▼</text>
<text x="374" y="134">▼</text>
<text x="34" y="154">[</text>
<text x="44" y="154">庫</text>
<text x="64" y="154">存</text>
<text x="124" y="154">[</text>
<text x="134" y="154">壓</text>
<text x="154" y="154">測</text>
<text x="244" y="154">[</text>
<text x="254" y="154">暖</text>
<text x="274" y="154">機</text>
<text x="354" y="154">[</text>
<text x="364" y="154">流</text>
<text x="384" y="154">量</text>
<text x="44" y="174">資</text>
<text x="64" y="174">料</text>
<text x="134" y="174">模</text>
<text x="154" y="174">擬</text>
<text x="254" y="174">R</text>
<text x="264" y="174">e</text>
<text x="274" y="174">d</text>
<text x="284" y="174">i</text>
<text x="294" y="174">s</text>
<text x="364" y="174">湧</text>
<text x="384" y="174">入</text>
<text x="404" y="174">]</text>
<text x="44" y="194">預</text>
<text x="64" y="194">熱</text>
<text x="84" y="194">]</text>
<text x="134" y="194">1</text>
<text x="144" y="194">0</text>
<text x="154" y="194">0</text>
<text x="164" y="194">x</text>
<text x="254" y="194">庫</text>
<text x="274" y="194">存</text>
<text x="294" y="194">]</text>
<text x="134" y="214">流</text>
<text x="154" y="214">量</text>
<text x="174" y="214">]</text>
<text x="344" y="214">←</text>
<text x="364" y="214">必</text>
<text x="384" y="214">須</text>
<text x="404" y="214">在</text>
<text x="434" y="214">T</text>
<text x="444" y="214">0</text>
<text x="464" y="214">前</text>
<text x="484" y="214">完</text>
<text x="504" y="214">成</text>
<text x="524" y="214">所</text>
<text x="544" y="214">有</text>
<text x="564" y="214">準</text>
<text x="584" y="214">備</text>
<text x="34" y="254">預</text>
<text x="54" y="254">熱</text>
<text x="74" y="254">快</text>
<text x="94" y="254">取</text>
<text x="114" y="254">：</text>
<text x="34" y="274">・</text>
<text x="54" y="274">提</text>
<text x="74" y="274">前</text>
<text x="104" y="274">S</text>
<text x="114" y="274">E</text>
<text x="124" y="274">T</text>
<text x="144" y="274">s</text>
<text x="154" y="274">t</text>
<text x="164" y="274">o</text>
<text x="174" y="274">c</text>
<text x="184" y="274">k</text>
<text x="194" y="274">:</text>
<text x="204" y="274">s</text>
<text x="214" y="274">k</text>
<text x="224" y="274">u</text>
<text x="234" y="274">:</text>
<text x="244" y="274">0</text>
<text x="254" y="274">0</text>
<text x="264" y="274">1</text>
<text x="284" y="274">1</text>
<text x="294" y="274">0</text>
<text x="304" y="274">0</text>
<text x="314" y="274">0</text>
<text x="324" y="274">（</text>
<text x="344" y="274">庫</text>
<text x="364" y="274">存</text>
<text x="384" y="274">寫</text>
<text x="404" y="274">入</text>
<text x="434" y="274">R</text>
<text x="444" y="274">e</text>
<text x="454" y="274">d</text>
<text x="464" y="274">i</text>
<text x="474" y="274">s</text>
<text x="484" y="274">）</text>
<text x="34" y="294">・</text>
<text x="54" y="294">提</text>
<text x="74" y="294">前</text>
<text x="94" y="294">載</text>
<text x="114" y="294">入</text>
<text x="134" y="294">商</text>
<text x="154" y="294">品</text>
<text x="174" y="294">詳</text>
<text x="194" y="294">情</text>
<text x="214" y="294">到</text>
<text x="234" y="294">快</text>
<text x="254" y="294">取</text>
<text x="274" y="294">（</text>
<text x="294" y="294">避</text>
<text x="314" y="294">免</text>
<text x="334" y="294">秒</text>
<text x="354" y="294">殺</text>
<text x="374" y="294">時</text>
<text x="394" y="294">打</text>
<text x="424" y="294">D</text>
<text x="434" y="294">B</text>
<text x="444" y="294">）</text>
<text x="34" y="334">壓</text>
<text x="54" y="334">測</text>
<text x="74" y="334">：</text>
<text x="34" y="354">・</text>
<text x="54" y="354">使</text>
<text x="74" y="354">用</text>
<text x="104" y="354">w</text>
<text x="114" y="354">r</text>
<text x="124" y="354">k</text>
<text x="134" y="354">/</text>
<text x="144" y="354">J</text>
<text x="154" y="354">M</text>
<text x="164" y="354">e</text>
<text x="174" y="354">t</text>
<text x="184" y="354">e</text>
<text x="194" y="354">r</text>
<text x="214" y="354">模</text>
<text x="234" y="354">擬</text>
<text x="264" y="354">1</text>
<text x="274" y="354">0</text>
<text x="284" y="354">萬</text>
<text x="314" y="354">Q</text>
<text x="324" y="354">P</text>
<text x="334" y="354">S</text>
<text x="34" y="374">・</text>
<text x="54" y="374">確</text>
<text x="74" y="374">認</text>
<text x="94" y="374">系</text>
<text x="114" y="374">統</text>
<text x="134" y="374">瓶</text>
<text x="154" y="374">頸</text>
<text x="174" y="374">、</text>
<text x="194" y="374">調</text>
<text x="214" y="374">整</text>
<text x="234" y="374">連</text>
<text x="254" y="374">線</text>
<text x="274" y="374">池</text>
<text x="294" y="374">/</text>
<text x="304" y="374">執</text>
<text x="324" y="374">行</text>
<text x="344" y="374">緒</text>
<text x="364" y="374">池</text>
<text x="34" y="414">擴</text>
<text x="54" y="414">容</text>
<text x="74" y="414">：</text>
<text x="34" y="434">・</text>
<text x="54" y="434">水</text>
<text x="74" y="434">平</text>
<text x="94" y="434">擴</text>
<text x="114" y="434">展</text>
<text x="134" y="434">應</text>
<text x="154" y="434">用</text>
<text x="174" y="434">層</text>
<text x="194" y="434">（</text>
<text x="214" y="434">K</text>
<text x="224" y="434">8</text>
<text x="234" y="434">s</text>
<text x="254" y="434">預</text>
<text x="274" y="434">先</text>
<text x="304" y="434">s</text>
<text x="314" y="434">c</text>
<text x="324" y="434">a</text>
<text x="334" y="434">l</text>
<text x="344" y="434">e</text>
<text x="364" y="434">o</text>
<text x="374" y="434">u</text>
<text x="384" y="434">t</text>
<text x="394" y="434">）</text>
<text x="34" y="454">・</text>
<text x="54" y="454">R</text>
<text x="64" y="454">e</text>
<text x="74" y="454">d</text>
<text x="84" y="454">i</text>
<text x="94" y="454">s</text>
<text x="114" y="454">記</text>
<text x="134" y="454">憶</text>
<text x="154" y="454">體</text>
<text x="174" y="454">確</text>
<text x="194" y="454">認</text>
<text x="214" y="454">充</text>
<text x="234" y="454">裕</text>
<text x="34" y="494">─</text>
<text x="44" y="494">─</text>
<text x="54" y="494">─</text>
<text x="74" y="494">秒</text>
<text x="94" y="494">殺</text>
<text x="114" y="494">進</text>
<text x="134" y="494">行</text>
<text x="154" y="494">中</text>
<text x="174" y="494">（</text>
<text x="194" y="494">T</text>
<text x="204" y="494">0</text>
<text x="224" y="494">~</text>
<text x="244" y="494">T</text>
<text x="254" y="494">0</text>
<text x="264" y="494">+</text>
<text x="274" y="494">5</text>
<text x="284" y="494">m</text>
<text x="294" y="494">i</text>
<text x="304" y="494">n</text>
<text x="314" y="494">）</text>
<text x="334" y="494">─</text>
<text x="344" y="494">─</text>
<text x="354" y="494">─</text>
<text x="364" y="494">─</text>
<text x="374" y="494">─</text>
<text x="384" y="494">─</text>
<text x="394" y="494">─</text>
<text x="404" y="494">─</text>
<text x="414" y="494">─</text>
<text x="424" y="494">─</text>
<text x="434" y="494">─</text>
<text x="444" y="494">─</text>
<text x="454" y="494">─</text>
<text x="464" y="494">─</text>
<text x="474" y="494">─</text>
<text x="484" y="494">─</text>
<text x="494" y="494">─</text>
<text x="504" y="494">─</text>
<text x="514" y="494">─</text>
<text x="524" y="494">─</text>
<text x="534" y="494">─</text>
<text x="544" y="494">─</text>
<text x="554" y="494">─</text>
<text x="564" y="494">─</text>
<text x="574" y="494">─</text>
<text x="584" y="494">─</text>
<text x="594" y="494">─</text>
<text x="604" y="494">─</text>
<text x="614" y="494">─</text>
<text x="624" y="494">─</text>
<text x="34" y="534">T</text>
<text x="44" y="534">0</text>
<text x="194" y="534">T</text>
<text x="204" y="534">0</text>
<text x="214" y="534">+</text>
<text x="224" y="534">1</text>
<text x="234" y="534">m</text>
<text x="244" y="534">i</text>
<text x="254" y="534">n</text>
<text x="354" y="534">T</text>
<text x="364" y="534">0</text>
<text x="374" y="534">+</text>
<text x="384" y="534">5</text>
<text x="394" y="534">m</text>
<text x="404" y="534">i</text>
<text x="414" y="534">n</text>
<text x="274" y="554">│</text>
<text x="454" y="554">│</text>
<text x="624" y="554">│</text>
<text x="44" y="574">▼</text>
<text x="224" y="574">▼</text>
<text x="394" y="574">▼</text>
<text x="34" y="594">[</text>
<text x="44" y="594">限</text>
<text x="64" y="594">流</text>
<text x="84" y="594">閘</text>
<text x="104" y="594">道</text>
<text x="124" y="594">]</text>
<text x="194" y="594">[</text>
<text x="204" y="594">庫</text>
<text x="224" y="594">存</text>
<text x="244" y="594">售</text>
<text x="264" y="594">罄</text>
<text x="284" y="594">]</text>
<text x="354" y="594">[</text>
<text x="364" y="594">流</text>
<text x="384" y="594">量</text>
<text x="404" y="594">回</text>
<text x="424" y="594">落</text>
<text x="444" y="594">]</text>
<text x="34" y="614">[</text>
<text x="44" y="614">M</text>
<text x="54" y="614">Q</text>
<text x="74" y="614">緩</text>
<text x="94" y="614">衝</text>
<text x="114" y="614">]</text>
<text x="194" y="614">[</text>
<text x="204" y="614">標</text>
<text x="224" y="614">記</text>
<text x="244" y="614">售</text>
<text x="264" y="614">罄</text>
<text x="284" y="614">標</text>
<text x="304" y="614">誌</text>
<text x="324" y="614">]</text>
<text x="354" y="614">[</text>
<text x="364" y="614">等</text>
<text x="384" y="614">待</text>
<text x="414" y="614">M</text>
<text x="424" y="614">Q</text>
<text x="444" y="614">消</text>
<text x="464" y="614">化</text>
<text x="484" y="614">]</text>
<text x="34" y="634">[</text>
<text x="44" y="634">降</text>
<text x="64" y="634">級</text>
<text x="84" y="634">靜</text>
<text x="104" y="634">態</text>
<text x="124" y="634">頁</text>
<text x="144" y="634">]</text>
<text x="204" y="634">[</text>
<text x="214" y="634">拒</text>
<text x="234" y="634">絕</text>
<text x="254" y="634">後</text>
<text x="274" y="634">續</text>
<text x="294" y="634">請</text>
<text x="314" y="634">求</text>
<text x="334" y="634">]</text>
<text x="34" y="674">─</text>
<text x="44" y="674">─</text>
<text x="54" y="674">─</text>
<text x="74" y="674">活</text>
<text x="94" y="674">動</text>
<text x="114" y="674">後</text>
<text x="134" y="674">（</text>
<text x="154" y="674">T</text>
<text x="164" y="674">0</text>
<text x="174" y="674">+</text>
<text x="184" y="674">5</text>
<text x="194" y="674">m</text>
<text x="204" y="674">i</text>
<text x="214" y="674">n</text>
<text x="234" y="674">之</text>
<text x="254" y="674">後</text>
<text x="274" y="674">）</text>
<text x="294" y="674">─</text>
<text x="304" y="674">─</text>
<text x="314" y="674">─</text>
<text x="324" y="674">─</text>
<text x="334" y="674">─</text>
<text x="344" y="674">─</text>
<text x="354" y="674">─</text>
<text x="364" y="674">─</text>
<text x="374" y="674">─</text>
<text x="384" y="674">─</text>
<text x="394" y="674">─</text>
<text x="404" y="674">─</text>
<text x="414" y="674">─</text>
<text x="424" y="674">─</text>
<text x="434" y="674">─</text>
<text x="444" y="674">─</text>
<text x="454" y="674">─</text>
<text x="464" y="674">─</text>
<text x="474" y="674">─</text>
<text x="484" y="674">─</text>
<text x="494" y="674">─</text>
<text x="504" y="674">─</text>
<text x="514" y="674">─</text>
<text x="524" y="674">─</text>
<text x="534" y="674">─</text>
<text x="544" y="674">─</text>
<text x="554" y="674">─</text>
<text x="564" y="674">─</text>
<text x="574" y="674">─</text>
<text x="584" y="674">─</text>
<text x="594" y="674">─</text>
<text x="604" y="674">─</text>
<text x="614" y="674">─</text>
<text x="34" y="714">T</text>
<text x="44" y="714">0</text>
<text x="54" y="714">+</text>
<text x="64" y="714">5</text>
<text x="74" y="714">m</text>
<text x="84" y="714">i</text>
<text x="94" y="714">n</text>
<text x="164" y="714">T</text>
<text x="174" y="714">0</text>
<text x="184" y="714">+</text>
<text x="194" y="714">1</text>
<text x="204" y="714">h</text>
<text x="304" y="714">T</text>
<text x="314" y="714">0</text>
<text x="324" y="714">+</text>
<text x="334" y="714">2</text>
<text x="344" y="714">4</text>
<text x="354" y="714">h</text>
<text x="334" y="734">│</text>
<text x="464" y="734">│</text>
<text x="624" y="734">│</text>
<text x="74" y="754">▼</text>
<text x="204" y="754">▼</text>
<text x="364" y="754">▼</text>
<text x="34" y="774">[</text>
<text x="44" y="774">C</text>
<text x="54" y="774">o</text>
<text x="64" y="774">n</text>
<text x="74" y="774">s</text>
<text x="84" y="774">u</text>
<text x="94" y="774">m</text>
<text x="104" y="774">e</text>
<text x="114" y="774">r</text>
<text x="154" y="774">[</text>
<text x="164" y="774">對</text>
<text x="184" y="774">賬</text>
<text x="204" y="774">：</text>
<text x="314" y="774">[</text>
<text x="324" y="774">縮</text>
<text x="344" y="774">容</text>
<text x="364" y="774">：</text>
<text x="44" y="794">消</text>
<text x="64" y="794">化</text>
<text x="94" y="794">M</text>
<text x="104" y="794">Q</text>
<text x="114" y="794">]</text>
<text x="164" y="794">R</text>
<text x="174" y="794">e</text>
<text x="184" y="794">d</text>
<text x="194" y="794">i</text>
<text x="204" y="794">s</text>
<text x="214" y="794">庫</text>
<text x="234" y="794">存</text>
<text x="314" y="794">釋</text>
<text x="334" y="794">放</text>
<text x="354" y="794">多</text>
<text x="374" y="794">餘</text>
<text x="34" y="814">[</text>
<text x="44" y="814">落</text>
<text x="64" y="814">庫</text>
<text x="84" y="814">訂</text>
<text x="104" y="814">單</text>
<text x="124" y="814">]</text>
<text x="164" y="814">v</text>
<text x="174" y="814">s</text>
<text x="194" y="814">D</text>
<text x="204" y="814">B</text>
<text x="214" y="814">庫</text>
<text x="234" y="814">存</text>
<text x="254" y="814">]</text>
<text x="304" y="814">應</text>
<text x="324" y="814">用</text>
<text x="344" y="814">實</text>
<text x="364" y="814">例</text>
<text x="384" y="814">]</text>
<text x="164" y="834">[</text>
<text x="174" y="834">補</text>
<text x="194" y="834">償</text>
<text x="214" y="834">異</text>
<text x="234" y="834">常</text>
<text x="254" y="834">單</text>
<text x="274" y="834">]</text>
</g>
</svg>
</div>
<ul>
<li>前：預熱快取、壓測、擴容</li>
<li>中：限流、降級、削峰</li>
<li>後：對賬、補償、回放</li>
</ul>
<h2 id="204-同步與異步下單對應-20412042"><a class="header" href="#204-同步與異步下單對應-20412042">20.4 同步與異步下單（對應 20.4.1~20.4.2）</a></h2>
<!-- subsection-diagram -->
<h3 id="本小節示意圖-3"><a class="header" href="#本小節示意圖-3">本小節示意圖</a></h3>
<div class="ascii-svg-wrap">
<svg class="ascii-svg" xmlns="http://www.w3.org/2000/svg" width="668" height="884" viewBox="0 0 668 884" role="img" aria-label="ASCII diagram">
<g fill="currentColor" font-family="Noto Sans Mono CJK TC, Noto Sans Mono CJK SC, Noto Sans Mono CJK JP, Sarasa Mono TC, Cascadia Mono, JetBrains Mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace" font-size="16" text-rendering="geometricPrecision" xml:space="preserve">
<text x="14" y="14">同</text>
<text x="34" y="14">步</text>
<text x="54" y="14">下</text>
<text x="74" y="14">單</text>
<text x="104" y="14">v</text>
<text x="114" y="14">s</text>
<text x="134" y="14">異</text>
<text x="154" y="14">步</text>
<text x="174" y="14">下</text>
<text x="194" y="14">單</text>
<text x="214" y="14">對</text>
<text x="234" y="14">比</text>
<text x="34" y="54">─</text>
<text x="44" y="54">─</text>
<text x="54" y="54">─</text>
<text x="74" y="54">同</text>
<text x="94" y="54">步</text>
<text x="114" y="54">下</text>
<text x="134" y="54">單</text>
<text x="154" y="54">（</text>
<text x="174" y="54">直</text>
<text x="194" y="54">接</text>
<text x="214" y="54">寫</text>
<text x="244" y="54">D</text>
<text x="254" y="54">B</text>
<text x="264" y="54">）</text>
<text x="284" y="54">─</text>
<text x="294" y="54">─</text>
<text x="304" y="54">─</text>
<text x="314" y="54">─</text>
<text x="324" y="54">─</text>
<text x="334" y="54">─</text>
<text x="344" y="54">─</text>
<text x="354" y="54">─</text>
<text x="364" y="54">─</text>
<text x="374" y="54">─</text>
<text x="384" y="54">─</text>
<text x="394" y="54">─</text>
<text x="404" y="54">─</text>
<text x="414" y="54">─</text>
<text x="424" y="54">─</text>
<text x="434" y="54">─</text>
<text x="444" y="54">─</text>
<text x="454" y="54">─</text>
<text x="464" y="54">─</text>
<text x="474" y="54">─</text>
<text x="484" y="54">─</text>
<text x="494" y="54">─</text>
<text x="504" y="54">─</text>
<text x="514" y="54">─</text>
<text x="524" y="54">─</text>
<text x="534" y="54">─</text>
<text x="544" y="54">─</text>
<text x="554" y="54">─</text>
<text x="564" y="54">─</text>
<text x="574" y="54">─</text>
<text x="584" y="54">─</text>
<text x="594" y="54">─</text>
<text x="604" y="54">─</text>
<text x="614" y="54">─</text>
<text x="624" y="54">─</text>
<text x="34" y="94">U</text>
<text x="44" y="94">s</text>
<text x="54" y="94">e</text>
<text x="64" y="94">r</text>
<text x="84" y="94">─</text>
<text x="94" y="94">─</text>
<text x="104" y="94">►</text>
<text x="124" y="94">A</text>
<text x="134" y="94">P</text>
<text x="144" y="94">I</text>
<text x="164" y="94">S</text>
<text x="174" y="94">e</text>
<text x="184" y="94">r</text>
<text x="194" y="94">v</text>
<text x="204" y="94">e</text>
<text x="214" y="94">r</text>
<text x="234" y="94">─</text>
<text x="244" y="94">─</text>
<text x="254" y="94">►</text>
<text x="274" y="94">M</text>
<text x="284" y="94">y</text>
<text x="294" y="94">S</text>
<text x="304" y="94">Q</text>
<text x="314" y="94">L</text>
<text x="334" y="94">D</text>
<text x="344" y="94">B</text>
<text x="504" y="114">│</text>
<text x="644" y="114">│</text>
<text x="174" y="134">│</text>
<text x="314" y="134">│</text>
<text x="334" y="134">每</text>
<text x="354" y="134">次</text>
<text x="374" y="134">請</text>
<text x="394" y="134">求</text>
<text x="414" y="134">直</text>
<text x="434" y="134">接</text>
<text x="454" y="134">寫</text>
<text x="484" y="134">D</text>
<text x="494" y="134">B</text>
<text x="174" y="154">│</text>
<text x="184" y="154">◄</text>
<text x="194" y="154">─</text>
<text x="204" y="154">─</text>
<text x="214" y="154">─</text>
<text x="224" y="154">─</text>
<text x="234" y="154">─</text>
<text x="244" y="154">─</text>
<text x="254" y="154">─</text>
<text x="264" y="154">─</text>
<text x="274" y="154">─</text>
<text x="284" y="154">─</text>
<text x="294" y="154">─</text>
<text x="304" y="154">─</text>
<text x="314" y="154">┘</text>
<text x="334" y="154">響</text>
<text x="354" y="154">應</text>
<text x="384" y="154">2</text>
<text x="394" y="154">0</text>
<text x="404" y="154">0</text>
<text x="414" y="154">m</text>
<text x="424" y="154">s</text>
<text x="434" y="154">~</text>
<text x="444" y="154">2</text>
<text x="454" y="154">s</text>
<text x="644" y="174">│</text>
<text x="34" y="194">問</text>
<text x="54" y="194">題</text>
<text x="74" y="194">：</text>
<text x="34" y="214">・</text>
<text x="54" y="214">1</text>
<text x="64" y="214">0</text>
<text x="84" y="214">萬</text>
<text x="114" y="214">Q</text>
<text x="124" y="214">P</text>
<text x="134" y="214">S</text>
<text x="154" y="214">→</text>
<text x="174" y="214">D</text>
<text x="184" y="214">B</text>
<text x="204" y="214">無</text>
<text x="224" y="214">法</text>
<text x="244" y="214">承</text>
<text x="264" y="214">受</text>
<text x="284" y="214">（</text>
<text x="304" y="214">通</text>
<text x="324" y="214">常</text>
<text x="354" y="214">M</text>
<text x="364" y="214">y</text>
<text x="374" y="214">S</text>
<text x="384" y="214">Q</text>
<text x="394" y="214">L</text>
<text x="414" y="214">上</text>
<text x="434" y="214">限</text>
<text x="464" y="214">1</text>
<text x="474" y="214">0</text>
<text x="484" y="214">0</text>
<text x="494" y="214">0</text>
<text x="504" y="214">~</text>
<text x="514" y="214">5</text>
<text x="524" y="214">0</text>
<text x="534" y="214">0</text>
<text x="544" y="214">0</text>
<text x="564" y="214">Q</text>
<text x="574" y="214">P</text>
<text x="584" y="214">S</text>
<text x="594" y="214">）</text>
<text x="34" y="234">・</text>
<text x="54" y="234">響</text>
<text x="74" y="234">應</text>
<text x="94" y="234">時</text>
<text x="114" y="234">間</text>
<text x="134" y="234">長</text>
<text x="164" y="234">→</text>
<text x="184" y="234">連</text>
<text x="204" y="234">線</text>
<text x="224" y="234">池</text>
<text x="244" y="234">耗</text>
<text x="264" y="234">盡</text>
<text x="294" y="234">→</text>
<text x="314" y="234">雪</text>
<text x="334" y="234">崩</text>
<text x="34" y="274">時</text>
<text x="54" y="274">間</text>
<text x="74" y="274">軸</text>
<text x="94" y="274">：</text>
<text x="34" y="294">R</text>
<text x="44" y="294">e</text>
<text x="54" y="294">q</text>
<text x="64" y="294">1</text>
<text x="84" y="294">─</text>
<text x="94" y="294">─</text>
<text x="104" y="294">►</text>
<text x="124" y="294">[</text>
<text x="134" y="294">A</text>
<text x="144" y="294">P</text>
<text x="154" y="294">I</text>
<text x="164" y="294">]</text>
<text x="184" y="294">─</text>
<text x="194" y="294">─</text>
<text x="204" y="294">─</text>
<text x="214" y="294">─</text>
<text x="224" y="294">─</text>
<text x="234" y="294">─</text>
<text x="244" y="294">[</text>
<text x="254" y="294">D</text>
<text x="264" y="294">B</text>
<text x="274" y="294">寫</text>
<text x="294" y="294">]</text>
<text x="304" y="294">─</text>
<text x="314" y="294">─</text>
<text x="324" y="294">►</text>
<text x="344" y="294">回</text>
<text x="364" y="294">應</text>
<text x="34" y="314">R</text>
<text x="44" y="314">e</text>
<text x="54" y="314">q</text>
<text x="64" y="314">2</text>
<text x="84" y="314">─</text>
<text x="94" y="314">─</text>
<text x="104" y="314">►</text>
<text x="124" y="314">[</text>
<text x="134" y="314">A</text>
<text x="144" y="314">P</text>
<text x="154" y="314">I</text>
<text x="164" y="314">]</text>
<text x="184" y="314">─</text>
<text x="194" y="314">─</text>
<text x="204" y="314">─</text>
<text x="214" y="314">─</text>
<text x="224" y="314">─</text>
<text x="234" y="314">─</text>
<text x="244" y="314">[</text>
<text x="254" y="314">D</text>
<text x="264" y="314">B</text>
<text x="274" y="314">寫</text>
<text x="294" y="314">]</text>
<text x="304" y="314">─</text>
<text x="314" y="314">─</text>
<text x="324" y="314">►</text>
<text x="344" y="314">回</text>
<text x="364" y="314">應</text>
<text x="34" y="334">.</text>
<text x="44" y="334">.</text>
<text x="54" y="334">.</text>
<text x="34" y="354">R</text>
<text x="44" y="354">e</text>
<text x="54" y="354">q</text>
<text x="64" y="354">1</text>
<text x="74" y="354">0</text>
<text x="84" y="354">0</text>
<text x="94" y="354">0</text>
<text x="114" y="354">─</text>
<text x="124" y="354">─</text>
<text x="134" y="354">►</text>
<text x="154" y="354">[</text>
<text x="164" y="354">A</text>
<text x="174" y="354">P</text>
<text x="184" y="354">I</text>
<text x="194" y="354">]</text>
<text x="214" y="354">─</text>
<text x="224" y="354">─</text>
<text x="234" y="354">►</text>
<text x="254" y="354">D</text>
<text x="264" y="354">B</text>
<text x="284" y="354">超</text>
<text x="304" y="354">載</text>
<text x="324" y="354">！</text>
<text x="344" y="354">逾</text>
<text x="364" y="354">時</text>
<text x="384" y="354">！</text>
<text x="34" y="394">─</text>
<text x="44" y="394">─</text>
<text x="54" y="394">─</text>
<text x="74" y="394">異</text>
<text x="94" y="394">步</text>
<text x="114" y="394">下</text>
<text x="134" y="394">單</text>
<text x="154" y="394">（</text>
<text x="174" y="394">M</text>
<text x="184" y="394">Q</text>
<text x="204" y="394">削</text>
<text x="224" y="394">峰</text>
<text x="244" y="394">）</text>
<text x="264" y="394">─</text>
<text x="274" y="394">─</text>
<text x="284" y="394">─</text>
<text x="294" y="394">─</text>
<text x="304" y="394">─</text>
<text x="314" y="394">─</text>
<text x="324" y="394">─</text>
<text x="334" y="394">─</text>
<text x="344" y="394">─</text>
<text x="354" y="394">─</text>
<text x="364" y="394">─</text>
<text x="374" y="394">─</text>
<text x="384" y="394">─</text>
<text x="394" y="394">─</text>
<text x="404" y="394">─</text>
<text x="414" y="394">─</text>
<text x="424" y="394">─</text>
<text x="434" y="394">─</text>
<text x="444" y="394">─</text>
<text x="454" y="394">─</text>
<text x="464" y="394">─</text>
<text x="474" y="394">─</text>
<text x="484" y="394">─</text>
<text x="494" y="394">─</text>
<text x="504" y="394">─</text>
<text x="514" y="394">─</text>
<text x="524" y="394">─</text>
<text x="534" y="394">─</text>
<text x="544" y="394">─</text>
<text x="554" y="394">─</text>
<text x="564" y="394">─</text>
<text x="574" y="394">─</text>
<text x="584" y="394">─</text>
<text x="594" y="394">─</text>
<text x="604" y="394">─</text>
<text x="614" y="394">─</text>
<text x="624" y="394">─</text>
<text x="634" y="394">─</text>
<text x="34" y="434">U</text>
<text x="44" y="434">s</text>
<text x="54" y="434">e</text>
<text x="64" y="434">r</text>
<text x="84" y="434">─</text>
<text x="94" y="434">─</text>
<text x="104" y="434">►</text>
<text x="124" y="434">A</text>
<text x="134" y="434">P</text>
<text x="144" y="434">I</text>
<text x="164" y="434">S</text>
<text x="174" y="434">e</text>
<text x="184" y="434">r</text>
<text x="194" y="434">v</text>
<text x="204" y="434">e</text>
<text x="214" y="434">r</text>
<text x="234" y="434">─</text>
<text x="244" y="434">─</text>
<text x="254" y="434">►</text>
<text x="274" y="434">M</text>
<text x="284" y="434">Q</text>
<text x="304" y="434">(</text>
<text x="314" y="434">K</text>
<text x="324" y="434">a</text>
<text x="334" y="434">f</text>
<text x="344" y="434">k</text>
<text x="354" y="434">a</text>
<text x="364" y="434">)</text>
<text x="384" y="434">─</text>
<text x="394" y="434">─</text>
<text x="404" y="434">►</text>
<text x="424" y="434">C</text>
<text x="434" y="434">o</text>
<text x="444" y="434">n</text>
<text x="454" y="434">s</text>
<text x="464" y="434">u</text>
<text x="474" y="434">m</text>
<text x="484" y="434">e</text>
<text x="494" y="434">r</text>
<text x="514" y="434">─</text>
<text x="524" y="434">─</text>
<text x="534" y="434">►</text>
<text x="554" y="434">M</text>
<text x="564" y="434">y</text>
<text x="574" y="434">S</text>
<text x="584" y="434">Q</text>
<text x="594" y="434">L</text>
<text x="614" y="434">D</text>
<text x="624" y="434">B</text>
<text x="334" y="454">│</text>
<text x="484" y="454">│</text>
<text x="644" y="454">│</text>
<text x="174" y="474">│</text>
<text x="324" y="474">│</text>
<text x="344" y="474">毫</text>
<text x="364" y="474">秒</text>
<text x="384" y="474">級</text>
<text x="404" y="474">入</text>
<text x="424" y="474">隊</text>
<text x="484" y="474">│</text>
<text x="504" y="474">按</text>
<text x="534" y="474">D</text>
<text x="544" y="474">B</text>
<text x="564" y="474">速</text>
<text x="584" y="474">率</text>
<text x="604" y="474">消</text>
<text x="624" y="474">費</text>
<text x="174" y="494">│</text>
<text x="184" y="494">◄</text>
<text x="194" y="494">─</text>
<text x="204" y="494">─</text>
<text x="214" y="494">─</text>
<text x="224" y="494">─</text>
<text x="234" y="494">─</text>
<text x="244" y="494">─</text>
<text x="254" y="494">─</text>
<text x="264" y="494">─</text>
<text x="274" y="494">─</text>
<text x="284" y="494">─</text>
<text x="294" y="494">─</text>
<text x="304" y="494">─</text>
<text x="314" y="494">─</text>
<text x="324" y="494">┘</text>
<text x="484" y="494">│</text>
<text x="504" y="494">（</text>
<text x="524" y="494">平</text>
<text x="544" y="494">滑</text>
<text x="564" y="494">寫</text>
<text x="584" y="494">入</text>
<text x="604" y="494">）</text>
<text x="174" y="514">│</text>
<text x="194" y="514">立</text>
<text x="214" y="514">即</text>
<text x="234" y="514">返</text>
<text x="254" y="514">回</text>
<text x="274" y="514">「</text>
<text x="294" y="514">搶</text>
<text x="314" y="514">購</text>
<text x="334" y="514">成</text>
<text x="354" y="514">功</text>
<text x="374" y="514">，</text>
<text x="394" y="514">訂</text>
<text x="414" y="514">單</text>
<text x="434" y="514">處</text>
<text x="454" y="514">理</text>
<text x="474" y="514">中</text>
<text x="494" y="514">」</text>
<text x="34" y="554">時</text>
<text x="54" y="554">間</text>
<text x="74" y="554">軸</text>
<text x="94" y="554">：</text>
<text x="34" y="574">T</text>
<text x="44" y="574">=</text>
<text x="54" y="574">0</text>
<text x="64" y="574">:</text>
<text x="104" y="574">U</text>
<text x="114" y="574">s</text>
<text x="124" y="574">e</text>
<text x="134" y="574">r</text>
<text x="154" y="574">請</text>
<text x="174" y="574">求</text>
<text x="204" y="574">A</text>
<text x="214" y="574">P</text>
<text x="224" y="574">I</text>
<text x="244" y="574">→</text>
<text x="264" y="574">入</text>
<text x="294" y="574">M</text>
<text x="304" y="574">Q</text>
<text x="324" y="574">→</text>
<text x="344" y="574">立</text>
<text x="364" y="574">即</text>
<text x="384" y="574">返</text>
<text x="404" y="574">回</text>
<text x="424" y="574">（</text>
<text x="444" y="574">&lt;</text>
<text x="464" y="574">1</text>
<text x="474" y="574">0</text>
<text x="484" y="574">m</text>
<text x="494" y="574">s</text>
<text x="504" y="574">）</text>
<text x="34" y="594">T</text>
<text x="44" y="594">=</text>
<text x="54" y="594">1</text>
<text x="64" y="594">s</text>
<text x="74" y="594">:</text>
<text x="104" y="594">C</text>
<text x="114" y="594">o</text>
<text x="124" y="594">n</text>
<text x="134" y="594">s</text>
<text x="144" y="594">u</text>
<text x="154" y="594">m</text>
<text x="164" y="594">e</text>
<text x="174" y="594">r</text>
<text x="194" y="594">消</text>
<text x="214" y="594">費</text>
<text x="244" y="594">M</text>
<text x="254" y="594">Q</text>
<text x="274" y="594">→</text>
<text x="294" y="594">寫</text>
<text x="324" y="594">D</text>
<text x="334" y="594">B</text>
<text x="344" y="594">（</text>
<text x="364" y="594">每</text>
<text x="384" y="594">秒</text>
<text x="414" y="594">5</text>
<text x="424" y="594">0</text>
<text x="434" y="594">0</text>
<text x="444" y="594">0</text>
<text x="464" y="594">條</text>
<text x="484" y="594">）</text>
<text x="34" y="614">T</text>
<text x="44" y="614">=</text>
<text x="54" y="614">2</text>
<text x="64" y="614">0</text>
<text x="74" y="614">s</text>
<text x="84" y="614">:</text>
<text x="104" y="614">所</text>
<text x="124" y="614">有</text>
<text x="144" y="614">訂</text>
<text x="164" y="614">單</text>
<text x="184" y="614">落</text>
<text x="204" y="614">庫</text>
<text x="224" y="614">完</text>
<text x="244" y="614">成</text>
<text x="34" y="654">┌</text>
<text x="44" y="654">─</text>
<text x="54" y="654">─</text>
<text x="64" y="654">─</text>
<text x="74" y="654">─</text>
<text x="84" y="654">─</text>
<text x="94" y="654">─</text>
<text x="104" y="654">─</text>
<text x="114" y="654">─</text>
<text x="124" y="654">─</text>
<text x="134" y="654">─</text>
<text x="144" y="654">─</text>
<text x="154" y="654">─</text>
<text x="164" y="654">─</text>
<text x="174" y="654">─</text>
<text x="184" y="654">─</text>
<text x="194" y="654">─</text>
<text x="204" y="654">─</text>
<text x="214" y="654">─</text>
<text x="224" y="654">─</text>
<text x="234" y="654">─</text>
<text x="244" y="654">─</text>
<text x="254" y="654">─</text>
<text x="264" y="654">─</text>
<text x="274" y="654">─</text>
<text x="284" y="654">─</text>
<text x="294" y="654">─</text>
<text x="304" y="654">─</text>
<text x="314" y="654">─</text>
<text x="324" y="654">─</text>
<text x="334" y="654">─</text>
<text x="344" y="654">─</text>
<text x="354" y="654">─</text>
<text x="364" y="654">─</text>
<text x="374" y="654">─</text>
<text x="384" y="654">─</text>
<text x="394" y="654">─</text>
<text x="404" y="654">─</text>
<text x="414" y="654">─</text>
<text x="424" y="654">─</text>
<text x="434" y="654">─</text>
<text x="444" y="654">─</text>
<text x="454" y="654">─</text>
<text x="464" y="654">─</text>
<text x="474" y="654">─</text>
<text x="484" y="654">─</text>
<text x="494" y="654">─</text>
<text x="504" y="654">─</text>
<text x="514" y="654">─</text>
<text x="524" y="654">─</text>
<text x="534" y="654">─</text>
<text x="544" y="654">─</text>
<text x="554" y="654">─</text>
<text x="564" y="654">─</text>
<text x="574" y="654">─</text>
<text x="584" y="654">─</text>
<text x="594" y="654">─</text>
<text x="604" y="654">─</text>
<text x="614" y="654">─</text>
<text x="624" y="654">─</text>
<text x="634" y="654">─</text>
<text x="644" y="654">┐</text>
<text x="34" y="674">│</text>
<text x="64" y="674">比</text>
<text x="84" y="674">較</text>
<text x="644" y="674">│</text>
<text x="34" y="694">│</text>
<text x="64" y="694">┌</text>
<text x="74" y="694">─</text>
<text x="84" y="694">─</text>
<text x="94" y="694">─</text>
<text x="104" y="694">─</text>
<text x="114" y="694">─</text>
<text x="124" y="694">─</text>
<text x="134" y="694">─</text>
<text x="144" y="694">─</text>
<text x="154" y="694">─</text>
<text x="164" y="694">─</text>
<text x="174" y="694">─</text>
<text x="184" y="694">─</text>
<text x="194" y="694">─</text>
<text x="204" y="694">─</text>
<text x="214" y="694">┬</text>
<text x="224" y="694">─</text>
<text x="234" y="694">─</text>
<text x="244" y="694">─</text>
<text x="254" y="694">─</text>
<text x="264" y="694">─</text>
<text x="274" y="694">─</text>
<text x="284" y="694">─</text>
<text x="294" y="694">─</text>
<text x="304" y="694">─</text>
<text x="314" y="694">─</text>
<text x="324" y="694">─</text>
<text x="334" y="694">─</text>
<text x="344" y="694">─</text>
<text x="354" y="694">─</text>
<text x="364" y="694">─</text>
<text x="374" y="694">─</text>
<text x="384" y="694">┬</text>
<text x="394" y="694">─</text>
<text x="404" y="694">─</text>
<text x="414" y="694">─</text>
<text x="424" y="694">─</text>
<text x="434" y="694">─</text>
<text x="444" y="694">─</text>
<text x="454" y="694">─</text>
<text x="464" y="694">─</text>
<text x="474" y="694">─</text>
<text x="484" y="694">─</text>
<text x="494" y="694">─</text>
<text x="504" y="694">─</text>
<text x="514" y="694">─</text>
<text x="524" y="694">─</text>
<text x="534" y="694">─</text>
<text x="544" y="694">─</text>
<text x="554" y="694">─</text>
<text x="564" y="694">─</text>
<text x="574" y="694">─</text>
<text x="584" y="694">─</text>
<text x="594" y="694">─</text>
<text x="604" y="694">─</text>
<text x="614" y="694">┐</text>
<text x="644" y="694">│</text>
<text x="34" y="714">│</text>
<text x="64" y="714">│</text>
<text x="214" y="714">│</text>
<text x="244" y="714">同</text>
<text x="264" y="714">步</text>
<text x="284" y="714">下</text>
<text x="304" y="714">單</text>
<text x="394" y="714">│</text>
<text x="424" y="714">異</text>
<text x="444" y="714">步</text>
<text x="464" y="714">下</text>
<text x="484" y="714">單</text>
<text x="614" y="714">│</text>
<text x="644" y="714">│</text>
<text x="34" y="734">│</text>
<text x="64" y="734">├</text>
<text x="74" y="734">─</text>
<text x="84" y="734">─</text>
<text x="94" y="734">─</text>
<text x="104" y="734">─</text>
<text x="114" y="734">─</text>
<text x="124" y="734">─</text>
<text x="134" y="734">─</text>
<text x="144" y="734">─</text>
<text x="154" y="734">─</text>
<text x="164" y="734">─</text>
<text x="174" y="734">─</text>
<text x="184" y="734">─</text>
<text x="194" y="734">─</text>
<text x="204" y="734">─</text>
<text x="214" y="734">┼</text>
<text x="224" y="734">─</text>
<text x="234" y="734">─</text>
<text x="244" y="734">─</text>
<text x="254" y="734">─</text>
<text x="264" y="734">─</text>
<text x="274" y="734">─</text>
<text x="284" y="734">─</text>
<text x="294" y="734">─</text>
<text x="304" y="734">─</text>
<text x="314" y="734">─</text>
<text x="324" y="734">─</text>
<text x="334" y="734">─</text>
<text x="344" y="734">─</text>
<text x="354" y="734">─</text>
<text x="364" y="734">─</text>
<text x="374" y="734">─</text>
<text x="384" y="734">┼</text>
<text x="394" y="734">─</text>
<text x="404" y="734">─</text>
<text x="414" y="734">─</text>
<text x="424" y="734">─</text>
<text x="434" y="734">─</text>
<text x="444" y="734">─</text>
<text x="454" y="734">─</text>
<text x="464" y="734">─</text>
<text x="474" y="734">─</text>
<text x="484" y="734">─</text>
<text x="494" y="734">─</text>
<text x="504" y="734">─</text>
<text x="514" y="734">─</text>
<text x="524" y="734">─</text>
<text x="534" y="734">─</text>
<text x="544" y="734">─</text>
<text x="554" y="734">─</text>
<text x="564" y="734">─</text>
<text x="574" y="734">─</text>
<text x="584" y="734">─</text>
<text x="594" y="734">─</text>
<text x="604" y="734">─</text>
<text x="614" y="734">┤</text>
<text x="644" y="734">│</text>
<text x="34" y="754">│</text>
<text x="64" y="754">│</text>
<text x="94" y="754">響</text>
<text x="114" y="754">應</text>
<text x="134" y="754">時</text>
<text x="154" y="754">間</text>
<text x="214" y="754">│</text>
<text x="244" y="754">2</text>
<text x="254" y="754">0</text>
<text x="264" y="754">0</text>
<text x="274" y="754">m</text>
<text x="284" y="754">s</text>
<text x="294" y="754">~</text>
<text x="304" y="754">2</text>
<text x="314" y="754">s</text>
<text x="384" y="754">│</text>
<text x="414" y="754">&lt;</text>
<text x="434" y="754">1</text>
<text x="444" y="754">0</text>
<text x="454" y="754">m</text>
<text x="464" y="754">s</text>
<text x="614" y="754">│</text>
<text x="644" y="754">│</text>
<text x="34" y="774">│</text>
<text x="64" y="774">│</text>
<text x="94" y="774">D</text>
<text x="104" y="774">B</text>
<text x="124" y="774">峰</text>
<text x="144" y="774">值</text>
<text x="164" y="774">壓</text>
<text x="184" y="774">力</text>
<text x="214" y="774">│</text>
<text x="244" y="774">=</text>
<text x="264" y="774">用</text>
<text x="284" y="774">戶</text>
<text x="314" y="774">Q</text>
<text x="324" y="774">P</text>
<text x="334" y="774">S</text>
<text x="384" y="774">│</text>
<text x="414" y="774">C</text>
<text x="424" y="774">o</text>
<text x="434" y="774">n</text>
<text x="444" y="774">s</text>
<text x="454" y="774">u</text>
<text x="464" y="774">m</text>
<text x="474" y="774">e</text>
<text x="484" y="774">r</text>
<text x="504" y="774">速</text>
<text x="524" y="774">率</text>
<text x="544" y="774">控</text>
<text x="564" y="774">制</text>
<text x="614" y="774">│</text>
<text x="644" y="774">│</text>
<text x="34" y="794">│</text>
<text x="64" y="794">│</text>
<text x="94" y="794">用</text>
<text x="114" y="794">戶</text>
<text x="134" y="794">體</text>
<text x="154" y="794">驗</text>
<text x="214" y="794">│</text>
<text x="244" y="794">等</text>
<text x="264" y="794">待</text>
<text x="284" y="794">結</text>
<text x="304" y="794">果</text>
<text x="384" y="794">│</text>
<text x="414" y="794">樂</text>
<text x="434" y="794">觀</text>
<text x="454" y="794">返</text>
<text x="474" y="794">回</text>
<text x="494" y="794">+</text>
<text x="504" y="794">通</text>
<text x="524" y="794">知</text>
<text x="614" y="794">│</text>
<text x="644" y="794">│</text>
<text x="34" y="814">│</text>
<text x="64" y="814">│</text>
<text x="94" y="814">複</text>
<text x="114" y="814">雜</text>
<text x="134" y="814">度</text>
<text x="214" y="814">│</text>
<text x="244" y="814">低</text>
<text x="384" y="814">│</text>
<text x="414" y="814">高</text>
<text x="434" y="814">（</text>
<text x="454" y="814">需</text>
<text x="484" y="814">M</text>
<text x="494" y="814">Q</text>
<text x="504" y="814">+</text>
<text x="514" y="814">補</text>
<text x="534" y="814">償</text>
<text x="554" y="814">）</text>
<text x="614" y="814">│</text>
<text x="644" y="814">│</text>
<text x="34" y="834">│</text>
<text x="64" y="834">└</text>
<text x="74" y="834">─</text>
<text x="84" y="834">─</text>
<text x="94" y="834">─</text>
<text x="104" y="834">─</text>
<text x="114" y="834">─</text>
<text x="124" y="834">─</text>
<text x="134" y="834">─</text>
<text x="144" y="834">─</text>
<text x="154" y="834">─</text>
<text x="164" y="834">─</text>
<text x="174" y="834">─</text>
<text x="184" y="834">─</text>
<text x="194" y="834">─</text>
<text x="204" y="834">─</text>
<text x="214" y="834">┴</text>
<text x="224" y="834">─</text>
<text x="234" y="834">─</text>
<text x="244" y="834">─</text>
<text x="254" y="834">─</text>
<text x="264" y="834">─</text>
<text x="274" y="834">─</text>
<text x="284" y="834">─</text>
<text x="294" y="834">─</text>
<text x="304" y="834">─</text>
<text x="314" y="834">─</text>
<text x="324" y="834">─</text>
<text x="334" y="834">─</text>
<text x="344" y="834">─</text>
<text x="354" y="834">─</text>
<text x="364" y="834">─</text>
<text x="374" y="834">─</text>
<text x="384" y="834">┴</text>
<text x="394" y="834">─</text>
<text x="404" y="834">─</text>
<text x="414" y="834">─</text>
<text x="424" y="834">─</text>
<text x="434" y="834">─</text>
<text x="444" y="834">─</text>
<text x="454" y="834">─</text>
<text x="464" y="834">─</text>
<text x="474" y="834">─</text>
<text x="484" y="834">─</text>
<text x="494" y="834">─</text>
<text x="504" y="834">─</text>
<text x="514" y="834">─</text>
<text x="524" y="834">─</text>
<text x="534" y="834">─</text>
<text x="544" y="834">─</text>
<text x="554" y="834">─</text>
<text x="564" y="834">─</text>
<text x="574" y="834">─</text>
<text x="584" y="834">─</text>
<text x="594" y="834">─</text>
<text x="604" y="834">─</text>
<text x="614" y="834">┘</text>
<text x="644" y="834">│</text>
<text x="34" y="854">└</text>
<text x="44" y="854">─</text>
<text x="54" y="854">─</text>
<text x="64" y="854">─</text>
<text x="74" y="854">─</text>
<text x="84" y="854">─</text>
<text x="94" y="854">─</text>
<text x="104" y="854">─</text>
<text x="114" y="854">─</text>
<text x="124" y="854">─</text>
<text x="134" y="854">─</text>
<text x="144" y="854">─</text>
<text x="154" y="854">─</text>
<text x="164" y="854">─</text>
<text x="174" y="854">─</text>
<text x="184" y="854">─</text>
<text x="194" y="854">─</text>
<text x="204" y="854">─</text>
<text x="214" y="854">─</text>
<text x="224" y="854">─</text>
<text x="234" y="854">─</text>
<text x="244" y="854">─</text>
<text x="254" y="854">─</text>
<text x="264" y="854">─</text>
<text x="274" y="854">─</text>
<text x="284" y="854">─</text>
<text x="294" y="854">─</text>
<text x="304" y="854">─</text>
<text x="314" y="854">─</text>
<text x="324" y="854">─</text>
<text x="334" y="854">─</text>
<text x="344" y="854">─</text>
<text x="354" y="854">─</text>
<text x="364" y="854">─</text>
<text x="374" y="854">─</text>
<text x="384" y="854">─</text>
<text x="394" y="854">─</text>
<text x="404" y="854">─</text>
<text x="414" y="854">─</text>
<text x="424" y="854">─</text>
<text x="434" y="854">─</text>
<text x="444" y="854">─</text>
<text x="454" y="854">─</text>
<text x="464" y="854">─</text>
<text x="474" y="854">─</text>
<text x="484" y="854">─</text>
<text x="494" y="854">─</text>
<text x="504" y="854">─</text>
<text x="514" y="854">─</text>
<text x="524" y="854">─</text>
<text x="534" y="854">─</text>
<text x="544" y="854">─</text>
<text x="554" y="854">─</text>
<text x="564" y="854">─</text>
<text x="574" y="854">─</text>
<text x="584" y="854">─</text>
<text x="594" y="854">─</text>
<text x="604" y="854">─</text>
<text x="614" y="854">─</text>
<text x="624" y="854">─</text>
<text x="634" y="854">─</text>
<text x="644" y="854">┘</text>
</g>
</svg>
</div>
<p>同步直寫簡單但容易打爆；異步用 MQ 平滑流量。</p>
<h2 id="205-扣庫存策略對應-20512055"><a class="header" href="#205-扣庫存策略對應-20512055">20.5 扣庫存策略（對應 20.5.1~20.5.5）</a></h2>
<!-- subsection-diagram -->
<h3 id="本小節示意圖-4"><a class="header" href="#本小節示意圖-4">本小節示意圖</a></h3>
<div class="ascii-svg-wrap">
<svg class="ascii-svg" xmlns="http://www.w3.org/2000/svg" width="688" height="1044" viewBox="0 0 688 1044" role="img" aria-label="ASCII diagram">
<g fill="currentColor" font-family="Noto Sans Mono CJK TC, Noto Sans Mono CJK SC, Noto Sans Mono CJK JP, Sarasa Mono TC, Cascadia Mono, JetBrains Mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace" font-size="16" text-rendering="geometricPrecision" xml:space="preserve">
<text x="14" y="14">三</text>
<text x="34" y="14">種</text>
<text x="54" y="14">扣</text>
<text x="74" y="14">庫</text>
<text x="94" y="14">存</text>
<text x="114" y="14">時</text>
<text x="134" y="14">機</text>
<text x="154" y="14">比</text>
<text x="174" y="14">較</text>
<text x="34" y="54">─</text>
<text x="44" y="54">─</text>
<text x="54" y="54">─</text>
<text x="74" y="54">策</text>
<text x="94" y="54">略</text>
<text x="114" y="54">一</text>
<text x="134" y="54">：</text>
<text x="154" y="54">下</text>
<text x="174" y="54">單</text>
<text x="194" y="54">時</text>
<text x="214" y="54">扣</text>
<text x="234" y="54">庫</text>
<text x="254" y="54">存</text>
<text x="284" y="54">─</text>
<text x="294" y="54">─</text>
<text x="304" y="54">─</text>
<text x="314" y="54">─</text>
<text x="324" y="54">─</text>
<text x="334" y="54">─</text>
<text x="344" y="54">─</text>
<text x="354" y="54">─</text>
<text x="364" y="54">─</text>
<text x="374" y="54">─</text>
<text x="384" y="54">─</text>
<text x="394" y="54">─</text>
<text x="404" y="54">─</text>
<text x="414" y="54">─</text>
<text x="424" y="54">─</text>
<text x="434" y="54">─</text>
<text x="444" y="54">─</text>
<text x="454" y="54">─</text>
<text x="464" y="54">─</text>
<text x="474" y="54">─</text>
<text x="484" y="54">─</text>
<text x="494" y="54">─</text>
<text x="504" y="54">─</text>
<text x="514" y="54">─</text>
<text x="524" y="54">─</text>
<text x="534" y="54">─</text>
<text x="544" y="54">─</text>
<text x="554" y="54">─</text>
<text x="564" y="54">─</text>
<text x="574" y="54">─</text>
<text x="584" y="54">─</text>
<text x="594" y="54">─</text>
<text x="604" y="54">─</text>
<text x="614" y="54">─</text>
<text x="34" y="94">用</text>
<text x="54" y="94">戶</text>
<text x="74" y="94">下</text>
<text x="94" y="94">單</text>
<text x="124" y="94">─</text>
<text x="134" y="94">►</text>
<text x="154" y="94">扣</text>
<text x="174" y="94">減</text>
<text x="204" y="94">s</text>
<text x="214" y="94">t</text>
<text x="224" y="94">o</text>
<text x="234" y="94">c</text>
<text x="244" y="94">k</text>
<text x="264" y="94">─</text>
<text x="274" y="94">►</text>
<text x="294" y="94">建</text>
<text x="314" y="94">立</text>
<text x="334" y="94">訂</text>
<text x="354" y="94">單</text>
<text x="384" y="94">─</text>
<text x="394" y="94">►</text>
<text x="414" y="94">等</text>
<text x="434" y="94">待</text>
<text x="454" y="94">支</text>
<text x="474" y="94">付</text>
<text x="504" y="94">─</text>
<text x="514" y="94">►</text>
<text x="534" y="94">支</text>
<text x="554" y="94">付</text>
<text x="574" y="94">完</text>
<text x="594" y="94">成</text>
<text x="664" y="114">│</text>
<text x="174" y="134">└</text>
<text x="184" y="134">►</text>
<text x="204" y="134">若</text>
<text x="224" y="134">超</text>
<text x="244" y="134">時</text>
<text x="264" y="134">未</text>
<text x="284" y="134">支</text>
<text x="304" y="134">付</text>
<text x="334" y="134">→</text>
<text x="354" y="134">需</text>
<text x="374" y="134">要</text>
<text x="394" y="134">定</text>
<text x="414" y="134">時</text>
<text x="434" y="134">任</text>
<text x="454" y="134">務</text>
<text x="474" y="134">歸</text>
<text x="494" y="134">還</text>
<text x="514" y="134">庫</text>
<text x="534" y="134">存</text>
<text x="34" y="174">優</text>
<text x="54" y="174">點</text>
<text x="74" y="174">：</text>
<text x="94" y="174">超</text>
<text x="114" y="174">賣</text>
<text x="134" y="174">風</text>
<text x="154" y="174">險</text>
<text x="174" y="174">低</text>
<text x="194" y="174">（</text>
<text x="214" y="174">下</text>
<text x="234" y="174">單</text>
<text x="254" y="174">即</text>
<text x="274" y="174">鎖</text>
<text x="294" y="174">定</text>
<text x="314" y="174">）</text>
<text x="34" y="194">缺</text>
<text x="54" y="194">點</text>
<text x="74" y="194">：</text>
<text x="94" y="194">惡</text>
<text x="114" y="194">意</text>
<text x="134" y="194">用</text>
<text x="154" y="194">戶</text>
<text x="174" y="194">可</text>
<text x="194" y="194">佔</text>
<text x="214" y="194">庫</text>
<text x="234" y="194">存</text>
<text x="254" y="194">不</text>
<text x="274" y="194">付</text>
<text x="294" y="194">款</text>
<text x="314" y="194">；</text>
<text x="334" y="194">持</text>
<text x="354" y="194">鎖</text>
<text x="374" y="194">時</text>
<text x="394" y="194">間</text>
<text x="414" y="194">長</text>
<text x="34" y="234">─</text>
<text x="44" y="234">─</text>
<text x="54" y="234">─</text>
<text x="74" y="234">策</text>
<text x="94" y="234">略</text>
<text x="114" y="234">二</text>
<text x="134" y="234">：</text>
<text x="154" y="234">付</text>
<text x="174" y="234">款</text>
<text x="194" y="234">時</text>
<text x="214" y="234">扣</text>
<text x="234" y="234">庫</text>
<text x="254" y="234">存</text>
<text x="284" y="234">─</text>
<text x="294" y="234">─</text>
<text x="304" y="234">─</text>
<text x="314" y="234">─</text>
<text x="324" y="234">─</text>
<text x="334" y="234">─</text>
<text x="344" y="234">─</text>
<text x="354" y="234">─</text>
<text x="364" y="234">─</text>
<text x="374" y="234">─</text>
<text x="384" y="234">─</text>
<text x="394" y="234">─</text>
<text x="404" y="234">─</text>
<text x="414" y="234">─</text>
<text x="424" y="234">─</text>
<text x="434" y="234">─</text>
<text x="444" y="234">─</text>
<text x="454" y="234">─</text>
<text x="464" y="234">─</text>
<text x="474" y="234">─</text>
<text x="484" y="234">─</text>
<text x="494" y="234">─</text>
<text x="504" y="234">─</text>
<text x="514" y="234">─</text>
<text x="524" y="234">─</text>
<text x="534" y="234">─</text>
<text x="544" y="234">─</text>
<text x="554" y="234">─</text>
<text x="564" y="234">─</text>
<text x="574" y="234">─</text>
<text x="584" y="234">─</text>
<text x="594" y="234">─</text>
<text x="604" y="234">─</text>
<text x="614" y="234">─</text>
<text x="34" y="274">用</text>
<text x="54" y="274">戶</text>
<text x="74" y="274">下</text>
<text x="94" y="274">單</text>
<text x="124" y="274">─</text>
<text x="134" y="274">►</text>
<text x="154" y="274">建</text>
<text x="174" y="274">立</text>
<text x="194" y="274">訂</text>
<text x="214" y="274">單</text>
<text x="234" y="274">(</text>
<text x="244" y="274">不</text>
<text x="264" y="274">扣</text>
<text x="284" y="274">庫</text>
<text x="304" y="274">存</text>
<text x="324" y="274">)</text>
<text x="344" y="274">─</text>
<text x="354" y="274">►</text>
<text x="374" y="274">支</text>
<text x="394" y="274">付</text>
<text x="414" y="274">完</text>
<text x="434" y="274">成</text>
<text x="464" y="274">─</text>
<text x="474" y="274">►</text>
<text x="494" y="274">扣</text>
<text x="514" y="274">減</text>
<text x="544" y="274">s</text>
<text x="554" y="274">t</text>
<text x="564" y="274">o</text>
<text x="574" y="274">c</text>
<text x="584" y="274">k</text>
<text x="664" y="294">│</text>
<text x="524" y="314">└</text>
<text x="534" y="314">►</text>
<text x="554" y="314">可</text>
<text x="574" y="314">能</text>
<text x="594" y="314">已</text>
<text x="614" y="314">無</text>
<text x="634" y="314">庫</text>
<text x="654" y="314">存</text>
<text x="554" y="334">→</text>
<text x="574" y="334">超</text>
<text x="594" y="334">賣</text>
<text x="614" y="334">！</text>
<text x="34" y="374">優</text>
<text x="54" y="374">點</text>
<text x="74" y="374">：</text>
<text x="94" y="374">庫</text>
<text x="114" y="374">存</text>
<text x="134" y="374">利</text>
<text x="154" y="374">用</text>
<text x="174" y="374">率</text>
<text x="194" y="374">高</text>
<text x="34" y="394">缺</text>
<text x="54" y="394">點</text>
<text x="74" y="394">：</text>
<text x="94" y="394">超</text>
<text x="114" y="394">賣</text>
<text x="134" y="394">風</text>
<text x="154" y="394">險</text>
<text x="174" y="394">高</text>
<text x="194" y="394">（</text>
<text x="214" y="394">多</text>
<text x="234" y="394">人</text>
<text x="254" y="394">下</text>
<text x="274" y="394">單</text>
<text x="304" y="394">→</text>
<text x="324" y="394">同</text>
<text x="344" y="394">時</text>
<text x="364" y="394">支</text>
<text x="384" y="394">付</text>
<text x="414" y="394">→</text>
<text x="434" y="394">最</text>
<text x="454" y="394">後</text>
<text x="474" y="394">才</text>
<text x="494" y="394">扣</text>
<text x="514" y="394">庫</text>
<text x="534" y="394">存</text>
<text x="554" y="394">）</text>
<text x="34" y="434">─</text>
<text x="44" y="434">─</text>
<text x="54" y="434">─</text>
<text x="74" y="434">策</text>
<text x="94" y="434">略</text>
<text x="114" y="434">三</text>
<text x="134" y="434">：</text>
<text x="154" y="434">預</text>
<text x="174" y="434">扣</text>
<text x="204" y="434">+</text>
<text x="224" y="434">支</text>
<text x="244" y="434">付</text>
<text x="264" y="434">確</text>
<text x="284" y="434">認</text>
<text x="304" y="434">（</text>
<text x="324" y="434">最</text>
<text x="344" y="434">安</text>
<text x="364" y="434">全</text>
<text x="384" y="434">）</text>
<text x="404" y="434">─</text>
<text x="414" y="434">─</text>
<text x="424" y="434">─</text>
<text x="434" y="434">─</text>
<text x="444" y="434">─</text>
<text x="454" y="434">─</text>
<text x="464" y="434">─</text>
<text x="474" y="434">─</text>
<text x="484" y="434">─</text>
<text x="494" y="434">─</text>
<text x="504" y="434">─</text>
<text x="514" y="434">─</text>
<text x="524" y="434">─</text>
<text x="534" y="434">─</text>
<text x="544" y="434">─</text>
<text x="554" y="434">─</text>
<text x="564" y="434">─</text>
<text x="574" y="434">─</text>
<text x="584" y="434">─</text>
<text x="594" y="434">─</text>
<text x="34" y="474">用</text>
<text x="54" y="474">戶</text>
<text x="74" y="474">下</text>
<text x="94" y="474">單</text>
<text x="664" y="494">│</text>
<text x="84" y="514">▼</text>
<text x="34" y="534">R</text>
<text x="44" y="534">e</text>
<text x="54" y="534">d</text>
<text x="64" y="534">i</text>
<text x="74" y="534">s</text>
<text x="94" y="534">預</text>
<text x="114" y="534">扣</text>
<text x="134" y="534">：</text>
<text x="154" y="534">D</text>
<text x="164" y="534">E</text>
<text x="174" y="534">C</text>
<text x="184" y="534">R</text>
<text x="204" y="534">s</text>
<text x="214" y="534">t</text>
<text x="224" y="534">o</text>
<text x="234" y="534">c</text>
<text x="244" y="534">k</text>
<text x="254" y="534">:</text>
<text x="264" y="534">s</text>
<text x="274" y="534">k</text>
<text x="284" y="534">u</text>
<text x="294" y="534">:</text>
<text x="304" y="534">0</text>
<text x="314" y="534">0</text>
<text x="324" y="534">1</text>
<text x="664" y="554">│</text>
<text x="84" y="574">├</text>
<text x="94" y="574">─</text>
<text x="104" y="574">─</text>
<text x="124" y="574">成</text>
<text x="144" y="574">功</text>
<text x="164" y="574">（</text>
<text x="184" y="574">&gt;</text>
<text x="194" y="574">=</text>
<text x="214" y="574">0</text>
<text x="224" y="574">）</text>
<text x="244" y="574">─</text>
<text x="254" y="574">►</text>
<text x="274" y="574">建</text>
<text x="294" y="574">立</text>
<text x="314" y="574">預</text>
<text x="334" y="574">訂</text>
<text x="354" y="574">單</text>
<text x="374" y="574">（</text>
<text x="394" y="574">鎖</text>
<text x="414" y="574">定</text>
<text x="434" y="574">庫</text>
<text x="454" y="574">存</text>
<text x="474" y="574">）</text>
<text x="464" y="594">│</text>
<text x="664" y="594">│</text>
<text x="84" y="614">│</text>
<text x="284" y="614">▼</text>
<text x="84" y="634">│</text>
<text x="224" y="634">用</text>
<text x="244" y="634">戶</text>
<text x="264" y="634">支</text>
<text x="284" y="634">付</text>
<text x="464" y="654">│</text>
<text x="664" y="654">│</text>
<text x="84" y="674">│</text>
<text x="224" y="674">┌</text>
<text x="234" y="674">─</text>
<text x="244" y="674">─</text>
<text x="254" y="674">─</text>
<text x="264" y="674">─</text>
<text x="274" y="674">─</text>
<text x="284" y="674">┴</text>
<text x="294" y="674">─</text>
<text x="304" y="674">─</text>
<text x="314" y="674">─</text>
<text x="324" y="674">─</text>
<text x="334" y="674">─</text>
<text x="344" y="674">─</text>
<text x="354" y="674">─</text>
<text x="364" y="674">─</text>
<text x="374" y="674">─</text>
<text x="384" y="674">─</text>
<text x="394" y="674">─</text>
<text x="404" y="674">─</text>
<text x="414" y="674">─</text>
<text x="424" y="674">─</text>
<text x="434" y="674">─</text>
<text x="444" y="674">─</text>
<text x="454" y="674">─</text>
<text x="464" y="674">─</text>
<text x="474" y="674">─</text>
<text x="484" y="674">─</text>
<text x="494" y="674">─</text>
<text x="504" y="674">─</text>
<text x="514" y="674">─</text>
<text x="524" y="674">─</text>
<text x="534" y="674">─</text>
<text x="544" y="674">─</text>
<text x="554" y="674">─</text>
<text x="564" y="674">─</text>
<text x="574" y="674">─</text>
<text x="584" y="674">─</text>
<text x="594" y="674">─</text>
<text x="604" y="674">─</text>
<text x="614" y="674">─</text>
<text x="624" y="674">─</text>
<text x="634" y="674">─</text>
<text x="644" y="674">─</text>
<text x="654" y="674">─</text>
<text x="664" y="674">┐</text>
<text x="394" y="694">│</text>
<text x="534" y="694">│</text>
<text x="664" y="694">│</text>
<text x="84" y="714">│</text>
<text x="194" y="714">支</text>
<text x="214" y="714">付</text>
<text x="234" y="714">成</text>
<text x="254" y="714">功</text>
<text x="334" y="714">支</text>
<text x="354" y="714">付</text>
<text x="374" y="714">失</text>
<text x="394" y="714">敗</text>
<text x="414" y="714">/</text>
<text x="424" y="714">超</text>
<text x="444" y="714">時</text>
<text x="394" y="734">│</text>
<text x="534" y="734">│</text>
<text x="664" y="734">│</text>
<text x="84" y="754">│</text>
<text x="194" y="754">D</text>
<text x="204" y="754">B</text>
<text x="224" y="754">落</text>
<text x="244" y="754">庫</text>
<text x="324" y="754">補</text>
<text x="344" y="754">償</text>
<text x="364" y="754">：</text>
<text x="384" y="754">I</text>
<text x="394" y="754">N</text>
<text x="404" y="754">C</text>
<text x="414" y="754">R</text>
<text x="434" y="754">s</text>
<text x="444" y="754">t</text>
<text x="454" y="754">o</text>
<text x="464" y="754">c</text>
<text x="474" y="754">k</text>
<text x="494" y="754">歸</text>
<text x="514" y="754">還</text>
<text x="664" y="774">│</text>
<text x="84" y="794">└</text>
<text x="94" y="794">─</text>
<text x="104" y="794">─</text>
<text x="124" y="794">失</text>
<text x="144" y="794">敗</text>
<text x="164" y="794">（</text>
<text x="184" y="794">&lt;</text>
<text x="204" y="794">0</text>
<text x="214" y="794">）</text>
<text x="234" y="794">─</text>
<text x="244" y="794">►</text>
<text x="264" y="794">I</text>
<text x="274" y="794">N</text>
<text x="284" y="794">C</text>
<text x="294" y="794">R</text>
<text x="314" y="794">回</text>
<text x="334" y="794">滾</text>
<text x="364" y="794">─</text>
<text x="374" y="794">►</text>
<text x="394" y="794">返</text>
<text x="414" y="794">回</text>
<text x="434" y="794">售</text>
<text x="454" y="794">罄</text>
<text x="34" y="834">┌</text>
<text x="44" y="834">─</text>
<text x="54" y="834">─</text>
<text x="64" y="834">─</text>
<text x="74" y="834">─</text>
<text x="84" y="834">─</text>
<text x="94" y="834">─</text>
<text x="104" y="834">─</text>
<text x="114" y="834">─</text>
<text x="124" y="834">─</text>
<text x="134" y="834">─</text>
<text x="144" y="834">─</text>
<text x="154" y="834">─</text>
<text x="164" y="834">─</text>
<text x="174" y="834">─</text>
<text x="184" y="834">─</text>
<text x="194" y="834">─</text>
<text x="204" y="834">─</text>
<text x="214" y="834">─</text>
<text x="224" y="834">─</text>
<text x="234" y="834">─</text>
<text x="244" y="834">─</text>
<text x="254" y="834">─</text>
<text x="264" y="834">─</text>
<text x="274" y="834">─</text>
<text x="284" y="834">─</text>
<text x="294" y="834">─</text>
<text x="304" y="834">─</text>
<text x="314" y="834">─</text>
<text x="324" y="834">─</text>
<text x="334" y="834">─</text>
<text x="344" y="834">─</text>
<text x="354" y="834">─</text>
<text x="364" y="834">─</text>
<text x="374" y="834">─</text>
<text x="384" y="834">─</text>
<text x="394" y="834">─</text>
<text x="404" y="834">─</text>
<text x="414" y="834">─</text>
<text x="424" y="834">─</text>
<text x="434" y="834">─</text>
<text x="444" y="834">─</text>
<text x="454" y="834">─</text>
<text x="464" y="834">─</text>
<text x="474" y="834">─</text>
<text x="484" y="834">─</text>
<text x="494" y="834">─</text>
<text x="504" y="834">─</text>
<text x="514" y="834">─</text>
<text x="524" y="834">─</text>
<text x="534" y="834">─</text>
<text x="544" y="834">─</text>
<text x="554" y="834">─</text>
<text x="564" y="834">─</text>
<text x="574" y="834">─</text>
<text x="584" y="834">─</text>
<text x="594" y="834">─</text>
<text x="604" y="834">─</text>
<text x="614" y="834">─</text>
<text x="624" y="834">─</text>
<text x="634" y="834">─</text>
<text x="644" y="834">─</text>
<text x="654" y="834">─</text>
<text x="664" y="834">┐</text>
<text x="34" y="854">│</text>
<text x="64" y="854">策</text>
<text x="84" y="854">略</text>
<text x="104" y="854">對</text>
<text x="124" y="854">比</text>
<text x="664" y="854">│</text>
<text x="34" y="874">│</text>
<text x="64" y="874">┌</text>
<text x="74" y="874">─</text>
<text x="84" y="874">─</text>
<text x="94" y="874">─</text>
<text x="104" y="874">─</text>
<text x="114" y="874">─</text>
<text x="124" y="874">─</text>
<text x="134" y="874">─</text>
<text x="144" y="874">─</text>
<text x="154" y="874">─</text>
<text x="164" y="874">─</text>
<text x="174" y="874">┬</text>
<text x="184" y="874">─</text>
<text x="194" y="874">─</text>
<text x="204" y="874">─</text>
<text x="214" y="874">─</text>
<text x="224" y="874">─</text>
<text x="234" y="874">─</text>
<text x="244" y="874">─</text>
<text x="254" y="874">─</text>
<text x="264" y="874">─</text>
<text x="274" y="874">─</text>
<text x="284" y="874">┬</text>
<text x="294" y="874">─</text>
<text x="304" y="874">─</text>
<text x="314" y="874">─</text>
<text x="324" y="874">─</text>
<text x="334" y="874">─</text>
<text x="344" y="874">─</text>
<text x="354" y="874">─</text>
<text x="364" y="874">─</text>
<text x="374" y="874">─</text>
<text x="384" y="874">─</text>
<text x="394" y="874">┬</text>
<text x="404" y="874">─</text>
<text x="414" y="874">─</text>
<text x="424" y="874">─</text>
<text x="434" y="874">─</text>
<text x="444" y="874">─</text>
<text x="454" y="874">─</text>
<text x="464" y="874">─</text>
<text x="474" y="874">─</text>
<text x="484" y="874">─</text>
<text x="494" y="874">─</text>
<text x="504" y="874">─</text>
<text x="514" y="874">─</text>
<text x="524" y="874">─</text>
<text x="534" y="874">─</text>
<text x="544" y="874">─</text>
<text x="554" y="874">─</text>
<text x="564" y="874">─</text>
<text x="574" y="874">─</text>
<text x="584" y="874">─</text>
<text x="594" y="874">─</text>
<text x="604" y="874">─</text>
<text x="614" y="874">─</text>
<text x="624" y="874">─</text>
<text x="634" y="874">┐</text>
<text x="664" y="874">│</text>
<text x="34" y="894">│</text>
<text x="64" y="894">│</text>
<text x="94" y="894">策</text>
<text x="114" y="894">略</text>
<text x="174" y="894">│</text>
<text x="204" y="894">超</text>
<text x="224" y="894">賣</text>
<text x="244" y="894">風</text>
<text x="264" y="894">險</text>
<text x="294" y="894">│</text>
<text x="324" y="894">持</text>
<text x="344" y="894">鎖</text>
<text x="364" y="894">時</text>
<text x="384" y="894">間</text>
<text x="414" y="894">│</text>
<text x="444" y="894">補</text>
<text x="464" y="894">償</text>
<text x="484" y="894">複</text>
<text x="504" y="894">雜</text>
<text x="524" y="894">度</text>
<text x="634" y="894">│</text>
<text x="664" y="894">│</text>
<text x="34" y="914">│</text>
<text x="64" y="914">├</text>
<text x="74" y="914">─</text>
<text x="84" y="914">─</text>
<text x="94" y="914">─</text>
<text x="104" y="914">─</text>
<text x="114" y="914">─</text>
<text x="124" y="914">─</text>
<text x="134" y="914">─</text>
<text x="144" y="914">─</text>
<text x="154" y="914">─</text>
<text x="164" y="914">─</text>
<text x="174" y="914">┼</text>
<text x="184" y="914">─</text>
<text x="194" y="914">─</text>
<text x="204" y="914">─</text>
<text x="214" y="914">─</text>
<text x="224" y="914">─</text>
<text x="234" y="914">─</text>
<text x="244" y="914">─</text>
<text x="254" y="914">─</text>
<text x="264" y="914">─</text>
<text x="274" y="914">─</text>
<text x="284" y="914">┼</text>
<text x="294" y="914">─</text>
<text x="304" y="914">─</text>
<text x="314" y="914">─</text>
<text x="324" y="914">─</text>
<text x="334" y="914">─</text>
<text x="344" y="914">─</text>
<text x="354" y="914">─</text>
<text x="364" y="914">─</text>
<text x="374" y="914">─</text>
<text x="384" y="914">─</text>
<text x="394" y="914">┼</text>
<text x="404" y="914">─</text>
<text x="414" y="914">─</text>
<text x="424" y="914">─</text>
<text x="434" y="914">─</text>
<text x="444" y="914">─</text>
<text x="454" y="914">─</text>
<text x="464" y="914">─</text>
<text x="474" y="914">─</text>
<text x="484" y="914">─</text>
<text x="494" y="914">─</text>
<text x="504" y="914">─</text>
<text x="514" y="914">─</text>
<text x="524" y="914">─</text>
<text x="534" y="914">─</text>
<text x="544" y="914">─</text>
<text x="554" y="914">─</text>
<text x="564" y="914">─</text>
<text x="574" y="914">─</text>
<text x="584" y="914">─</text>
<text x="594" y="914">─</text>
<text x="604" y="914">─</text>
<text x="614" y="914">─</text>
<text x="624" y="914">─</text>
<text x="634" y="914">┤</text>
<text x="664" y="914">│</text>
<text x="34" y="934">│</text>
<text x="64" y="934">│</text>
<text x="94" y="934">下</text>
<text x="114" y="934">單</text>
<text x="134" y="934">扣</text>
<text x="174" y="934">│</text>
<text x="204" y="934">低</text>
<text x="294" y="934">│</text>
<text x="324" y="934">長</text>
<text x="414" y="934">│</text>
<text x="444" y="934">定</text>
<text x="464" y="934">時</text>
<text x="484" y="934">任</text>
<text x="504" y="934">務</text>
<text x="524" y="934">歸</text>
<text x="544" y="934">還</text>
<text x="634" y="934">│</text>
<text x="664" y="934">│</text>
<text x="34" y="954">│</text>
<text x="64" y="954">│</text>
<text x="94" y="954">付</text>
<text x="114" y="954">款</text>
<text x="134" y="954">扣</text>
<text x="174" y="954">│</text>
<text x="204" y="954">高</text>
<text x="294" y="954">│</text>
<text x="324" y="954">短</text>
<text x="414" y="954">│</text>
<text x="444" y="954">超</text>
<text x="464" y="954">賣</text>
<text x="484" y="954">後</text>
<text x="504" y="954">補</text>
<text x="634" y="954">│</text>
<text x="664" y="954">│</text>
<text x="34" y="974">│</text>
<text x="64" y="974">│</text>
<text x="94" y="974">預</text>
<text x="114" y="974">扣</text>
<text x="134" y="974">+</text>
<text x="144" y="974">確</text>
<text x="164" y="974">認</text>
<text x="184" y="974">│</text>
<text x="204" y="974">極</text>
<text x="224" y="974">低</text>
<text x="294" y="974">│</text>
<text x="324" y="974">中</text>
<text x="414" y="974">│</text>
<text x="444" y="974">I</text>
<text x="454" y="974">N</text>
<text x="464" y="974">C</text>
<text x="474" y="974">R</text>
<text x="494" y="974">補</text>
<text x="514" y="974">償</text>
<text x="634" y="974">│</text>
<text x="664" y="974">│</text>
<text x="34" y="994">│</text>
<text x="64" y="994">└</text>
<text x="74" y="994">─</text>
<text x="84" y="994">─</text>
<text x="94" y="994">─</text>
<text x="104" y="994">─</text>
<text x="114" y="994">─</text>
<text x="124" y="994">─</text>
<text x="134" y="994">─</text>
<text x="144" y="994">─</text>
<text x="154" y="994">─</text>
<text x="164" y="994">─</text>
<text x="174" y="994">┴</text>
<text x="184" y="994">─</text>
<text x="194" y="994">─</text>
<text x="204" y="994">─</text>
<text x="214" y="994">─</text>
<text x="224" y="994">─</text>
<text x="234" y="994">─</text>
<text x="244" y="994">─</text>
<text x="254" y="994">─</text>
<text x="264" y="994">─</text>
<text x="274" y="994">─</text>
<text x="284" y="994">┴</text>
<text x="294" y="994">─</text>
<text x="304" y="994">─</text>
<text x="314" y="994">─</text>
<text x="324" y="994">─</text>
<text x="334" y="994">─</text>
<text x="344" y="994">─</text>
<text x="354" y="994">─</text>
<text x="364" y="994">─</text>
<text x="374" y="994">─</text>
<text x="384" y="994">─</text>
<text x="394" y="994">┴</text>
<text x="404" y="994">─</text>
<text x="414" y="994">─</text>
<text x="424" y="994">─</text>
<text x="434" y="994">─</text>
<text x="444" y="994">─</text>
<text x="454" y="994">─</text>
<text x="464" y="994">─</text>
<text x="474" y="994">─</text>
<text x="484" y="994">─</text>
<text x="494" y="994">─</text>
<text x="504" y="994">─</text>
<text x="514" y="994">─</text>
<text x="524" y="994">─</text>
<text x="534" y="994">─</text>
<text x="544" y="994">─</text>
<text x="554" y="994">─</text>
<text x="564" y="994">─</text>
<text x="574" y="994">─</text>
<text x="584" y="994">─</text>
<text x="594" y="994">─</text>
<text x="604" y="994">─</text>
<text x="614" y="994">─</text>
<text x="624" y="994">─</text>
<text x="634" y="994">┘</text>
<text x="664" y="994">│</text>
<text x="34" y="1014">└</text>
<text x="44" y="1014">─</text>
<text x="54" y="1014">─</text>
<text x="64" y="1014">─</text>
<text x="74" y="1014">─</text>
<text x="84" y="1014">─</text>
<text x="94" y="1014">─</text>
<text x="104" y="1014">─</text>
<text x="114" y="1014">─</text>
<text x="124" y="1014">─</text>
<text x="134" y="1014">─</text>
<text x="144" y="1014">─</text>
<text x="154" y="1014">─</text>
<text x="164" y="1014">─</text>
<text x="174" y="1014">─</text>
<text x="184" y="1014">─</text>
<text x="194" y="1014">─</text>
<text x="204" y="1014">─</text>
<text x="214" y="1014">─</text>
<text x="224" y="1014">─</text>
<text x="234" y="1014">─</text>
<text x="244" y="1014">─</text>
<text x="254" y="1014">─</text>
<text x="264" y="1014">─</text>
<text x="274" y="1014">─</text>
<text x="284" y="1014">─</text>
<text x="294" y="1014">─</text>
<text x="304" y="1014">─</text>
<text x="314" y="1014">─</text>
<text x="324" y="1014">─</text>
<text x="334" y="1014">─</text>
<text x="344" y="1014">─</text>
<text x="354" y="1014">─</text>
<text x="364" y="1014">─</text>
<text x="374" y="1014">─</text>
<text x="384" y="1014">─</text>
<text x="394" y="1014">─</text>
<text x="404" y="1014">─</text>
<text x="414" y="1014">─</text>
<text x="424" y="1014">─</text>
<text x="434" y="1014">─</text>
<text x="444" y="1014">─</text>
<text x="454" y="1014">─</text>
<text x="464" y="1014">─</text>
<text x="474" y="1014">─</text>
<text x="484" y="1014">─</text>
<text x="494" y="1014">─</text>
<text x="504" y="1014">─</text>
<text x="514" y="1014">─</text>
<text x="524" y="1014">─</text>
<text x="534" y="1014">─</text>
<text x="544" y="1014">─</text>
<text x="554" y="1014">─</text>
<text x="564" y="1014">─</text>
<text x="574" y="1014">─</text>
<text x="584" y="1014">─</text>
<text x="594" y="1014">─</text>
<text x="604" y="1014">─</text>
<text x="614" y="1014">─</text>
<text x="624" y="1014">─</text>
<text x="634" y="1014">─</text>
<text x="644" y="1014">─</text>
<text x="654" y="1014">─</text>
<text x="664" y="1014">┘</text>
</g>
</svg>
</div>
<p>下單扣、付款扣、預扣各有一致性風險。</p>
<h2 id="206-redis-庫存與防超賣對應-20612064"><a class="header" href="#206-redis-庫存與防超賣對應-20612064">20.6 Redis 庫存與防超賣（對應 20.6.1~20.6.4）</a></h2>
<!-- subsection-diagram -->
<h3 id="本小節示意圖-5"><a class="header" href="#本小節示意圖-5">本小節示意圖</a></h3>
<div class="ascii-svg-wrap">
<svg class="ascii-svg" xmlns="http://www.w3.org/2000/svg" width="628" height="1104" viewBox="0 0 628 1104" role="img" aria-label="ASCII diagram">
<g fill="currentColor" font-family="Noto Sans Mono CJK TC, Noto Sans Mono CJK SC, Noto Sans Mono CJK JP, Sarasa Mono TC, Cascadia Mono, JetBrains Mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace" font-size="16" text-rendering="geometricPrecision" xml:space="preserve">
<text x="14" y="14">R</text>
<text x="24" y="14">e</text>
<text x="34" y="14">d</text>
<text x="44" y="14">i</text>
<text x="54" y="14">s</text>
<text x="74" y="14">L</text>
<text x="84" y="14">u</text>
<text x="94" y="14">a</text>
<text x="114" y="14">原</text>
<text x="134" y="14">子</text>
<text x="154" y="14">扣</text>
<text x="174" y="14">減</text>
<text x="194" y="14">防</text>
<text x="214" y="14">超</text>
<text x="234" y="14">賣</text>
<text x="264" y="14">+</text>
<text x="284" y="14">S</text>
<text x="294" y="14">E</text>
<text x="304" y="14">T</text>
<text x="314" y="14">N</text>
<text x="324" y="14">X</text>
<text x="344" y="14">防</text>
<text x="364" y="14">重</text>
<text x="384" y="14">下</text>
<text x="404" y="14">單</text>
<text x="34" y="54">─</text>
<text x="44" y="54">─</text>
<text x="54" y="54">─</text>
<text x="74" y="54">L</text>
<text x="84" y="54">u</text>
<text x="94" y="54">a</text>
<text x="114" y="54">原</text>
<text x="134" y="54">子</text>
<text x="154" y="54">扣</text>
<text x="174" y="54">減</text>
<text x="194" y="54">流</text>
<text x="214" y="54">程</text>
<text x="244" y="54">─</text>
<text x="254" y="54">─</text>
<text x="264" y="54">─</text>
<text x="274" y="54">─</text>
<text x="284" y="54">─</text>
<text x="294" y="54">─</text>
<text x="304" y="54">─</text>
<text x="314" y="54">─</text>
<text x="324" y="54">─</text>
<text x="334" y="54">─</text>
<text x="344" y="54">─</text>
<text x="354" y="54">─</text>
<text x="364" y="54">─</text>
<text x="374" y="54">─</text>
<text x="384" y="54">─</text>
<text x="394" y="54">─</text>
<text x="404" y="54">─</text>
<text x="414" y="54">─</text>
<text x="424" y="54">─</text>
<text x="434" y="54">─</text>
<text x="444" y="54">─</text>
<text x="454" y="54">─</text>
<text x="464" y="54">─</text>
<text x="474" y="54">─</text>
<text x="484" y="54">─</text>
<text x="494" y="54">─</text>
<text x="504" y="54">─</text>
<text x="514" y="54">─</text>
<text x="524" y="54">─</text>
<text x="534" y="54">─</text>
<text x="544" y="54">─</text>
<text x="554" y="54">─</text>
<text x="564" y="54">─</text>
<text x="574" y="54">─</text>
<text x="584" y="54">─</text>
<text x="594" y="54">─</text>
<text x="604" y="54">─</text>
<text x="34" y="94">用</text>
<text x="54" y="94">戶</text>
<text x="74" y="94">請</text>
<text x="94" y="94">求</text>
<text x="604" y="114">│</text>
<text x="84" y="134">▼</text>
<text x="34" y="154">┌</text>
<text x="44" y="154">─</text>
<text x="54" y="154">─</text>
<text x="64" y="154">─</text>
<text x="74" y="154">─</text>
<text x="84" y="154">─</text>
<text x="94" y="154">─</text>
<text x="104" y="154">─</text>
<text x="114" y="154">─</text>
<text x="124" y="154">─</text>
<text x="134" y="154">─</text>
<text x="144" y="154">─</text>
<text x="154" y="154">─</text>
<text x="164" y="154">─</text>
<text x="174" y="154">─</text>
<text x="184" y="154">─</text>
<text x="194" y="154">─</text>
<text x="204" y="154">─</text>
<text x="214" y="154">─</text>
<text x="224" y="154">─</text>
<text x="234" y="154">─</text>
<text x="244" y="154">─</text>
<text x="254" y="154">─</text>
<text x="264" y="154">─</text>
<text x="274" y="154">─</text>
<text x="284" y="154">─</text>
<text x="294" y="154">─</text>
<text x="304" y="154">─</text>
<text x="314" y="154">─</text>
<text x="324" y="154">─</text>
<text x="334" y="154">─</text>
<text x="344" y="154">─</text>
<text x="354" y="154">─</text>
<text x="364" y="154">─</text>
<text x="374" y="154">─</text>
<text x="384" y="154">─</text>
<text x="394" y="154">─</text>
<text x="404" y="154">─</text>
<text x="414" y="154">─</text>
<text x="424" y="154">─</text>
<text x="434" y="154">─</text>
<text x="444" y="154">─</text>
<text x="454" y="154">─</text>
<text x="464" y="154">─</text>
<text x="474" y="154">─</text>
<text x="484" y="154">─</text>
<text x="494" y="154">─</text>
<text x="504" y="154">─</text>
<text x="514" y="154">─</text>
<text x="524" y="154">─</text>
<text x="534" y="154">─</text>
<text x="544" y="154">─</text>
<text x="554" y="154">─</text>
<text x="564" y="154">─</text>
<text x="574" y="154">─</text>
<text x="584" y="154">─</text>
<text x="594" y="154">─</text>
<text x="604" y="154">┐</text>
<text x="34" y="174">│</text>
<text x="64" y="174">L</text>
<text x="74" y="174">u</text>
<text x="84" y="174">a</text>
<text x="104" y="174">腳</text>
<text x="124" y="174">本</text>
<text x="144" y="174">（</text>
<text x="164" y="174">原</text>
<text x="184" y="174">子</text>
<text x="204" y="174">執</text>
<text x="224" y="174">行</text>
<text x="244" y="174">，</text>
<text x="264" y="174">不</text>
<text x="284" y="174">被</text>
<text x="304" y="174">中</text>
<text x="324" y="174">斷</text>
<text x="344" y="174">）</text>
<text x="604" y="174">│</text>
<text x="54" y="194">│</text>
<text x="604" y="194">│</text>
<text x="34" y="214">│</text>
<text x="64" y="214">l</text>
<text x="74" y="214">o</text>
<text x="84" y="214">c</text>
<text x="94" y="214">a</text>
<text x="104" y="214">l</text>
<text x="124" y="214">s</text>
<text x="134" y="214">t</text>
<text x="144" y="214">o</text>
<text x="154" y="214">c</text>
<text x="164" y="214">k</text>
<text x="184" y="214">=</text>
<text x="204" y="214">r</text>
<text x="214" y="214">e</text>
<text x="224" y="214">d</text>
<text x="234" y="214">i</text>
<text x="244" y="214">s</text>
<text x="254" y="214">.</text>
<text x="264" y="214">c</text>
<text x="274" y="214">a</text>
<text x="284" y="214">l</text>
<text x="294" y="214">l</text>
<text x="304" y="214">(</text>
<text x="314" y="214">&#x27;</text>
<text x="324" y="214">D</text>
<text x="334" y="214">E</text>
<text x="344" y="214">C</text>
<text x="354" y="214">R</text>
<text x="364" y="214">&#x27;</text>
<text x="374" y="214">,</text>
<text x="394" y="214">K</text>
<text x="404" y="214">E</text>
<text x="414" y="214">Y</text>
<text x="424" y="214">S</text>
<text x="434" y="214">[</text>
<text x="444" y="214">1</text>
<text x="454" y="214">]</text>
<text x="464" y="214">)</text>
<text x="604" y="214">│</text>
<text x="54" y="234">│</text>
<text x="604" y="234">│</text>
<text x="34" y="254">│</text>
<text x="64" y="254">i</text>
<text x="74" y="254">f</text>
<text x="94" y="254">s</text>
<text x="104" y="254">t</text>
<text x="114" y="254">o</text>
<text x="124" y="254">c</text>
<text x="134" y="254">k</text>
<text x="154" y="254">&gt;</text>
<text x="164" y="254">=</text>
<text x="184" y="254">0</text>
<text x="204" y="254">t</text>
<text x="214" y="254">h</text>
<text x="224" y="254">e</text>
<text x="234" y="254">n</text>
<text x="604" y="254">│</text>
<text x="34" y="274">│</text>
<text x="104" y="274">r</text>
<text x="114" y="274">e</text>
<text x="124" y="274">t</text>
<text x="134" y="274">u</text>
<text x="144" y="274">r</text>
<text x="154" y="274">n</text>
<text x="174" y="274">1</text>
<text x="204" y="274">-</text>
<text x="214" y="274">-</text>
<text x="234" y="274">扣</text>
<text x="254" y="274">減</text>
<text x="274" y="274">成</text>
<text x="294" y="274">功</text>
<text x="604" y="274">│</text>
<text x="34" y="294">│</text>
<text x="64" y="294">e</text>
<text x="74" y="294">l</text>
<text x="84" y="294">s</text>
<text x="94" y="294">e</text>
<text x="604" y="294">│</text>
<text x="34" y="314">│</text>
<text x="104" y="314">r</text>
<text x="114" y="314">e</text>
<text x="124" y="314">d</text>
<text x="134" y="314">i</text>
<text x="144" y="314">s</text>
<text x="154" y="314">.</text>
<text x="164" y="314">c</text>
<text x="174" y="314">a</text>
<text x="184" y="314">l</text>
<text x="194" y="314">l</text>
<text x="204" y="314">(</text>
<text x="214" y="314">&#x27;</text>
<text x="224" y="314">I</text>
<text x="234" y="314">N</text>
<text x="244" y="314">C</text>
<text x="254" y="314">R</text>
<text x="264" y="314">&#x27;</text>
<text x="274" y="314">,</text>
<text x="294" y="314">K</text>
<text x="304" y="314">E</text>
<text x="314" y="314">Y</text>
<text x="324" y="314">S</text>
<text x="334" y="314">[</text>
<text x="344" y="314">1</text>
<text x="354" y="314">]</text>
<text x="364" y="314">)</text>
<text x="394" y="314">-</text>
<text x="404" y="314">-</text>
<text x="424" y="314">回</text>
<text x="444" y="314">滾</text>
<text x="604" y="314">│</text>
<text x="34" y="334">│</text>
<text x="104" y="334">r</text>
<text x="114" y="334">e</text>
<text x="124" y="334">t</text>
<text x="134" y="334">u</text>
<text x="144" y="334">r</text>
<text x="154" y="334">n</text>
<text x="174" y="334">0</text>
<text x="204" y="334">-</text>
<text x="214" y="334">-</text>
<text x="234" y="334">售</text>
<text x="254" y="334">罄</text>
<text x="604" y="334">│</text>
<text x="34" y="354">│</text>
<text x="64" y="354">e</text>
<text x="74" y="354">n</text>
<text x="84" y="354">d</text>
<text x="604" y="354">│</text>
<text x="34" y="374">└</text>
<text x="44" y="374">─</text>
<text x="54" y="374">─</text>
<text x="64" y="374">─</text>
<text x="74" y="374">─</text>
<text x="84" y="374">─</text>
<text x="94" y="374">─</text>
<text x="104" y="374">─</text>
<text x="114" y="374">─</text>
<text x="124" y="374">─</text>
<text x="134" y="374">─</text>
<text x="144" y="374">─</text>
<text x="154" y="374">─</text>
<text x="164" y="374">─</text>
<text x="174" y="374">─</text>
<text x="184" y="374">─</text>
<text x="194" y="374">─</text>
<text x="204" y="374">─</text>
<text x="214" y="374">─</text>
<text x="224" y="374">─</text>
<text x="234" y="374">─</text>
<text x="244" y="374">─</text>
<text x="254" y="374">─</text>
<text x="264" y="374">─</text>
<text x="274" y="374">─</text>
<text x="284" y="374">─</text>
<text x="294" y="374">─</text>
<text x="304" y="374">─</text>
<text x="314" y="374">─</text>
<text x="324" y="374">─</text>
<text x="334" y="374">─</text>
<text x="344" y="374">─</text>
<text x="354" y="374">─</text>
<text x="364" y="374">─</text>
<text x="374" y="374">─</text>
<text x="384" y="374">─</text>
<text x="394" y="374">─</text>
<text x="404" y="374">─</text>
<text x="414" y="374">─</text>
<text x="424" y="374">─</text>
<text x="434" y="374">─</text>
<text x="444" y="374">─</text>
<text x="454" y="374">─</text>
<text x="464" y="374">─</text>
<text x="474" y="374">─</text>
<text x="484" y="374">─</text>
<text x="494" y="374">─</text>
<text x="504" y="374">─</text>
<text x="514" y="374">─</text>
<text x="524" y="374">─</text>
<text x="534" y="374">─</text>
<text x="544" y="374">─</text>
<text x="554" y="374">─</text>
<text x="564" y="374">─</text>
<text x="574" y="374">─</text>
<text x="584" y="374">─</text>
<text x="594" y="374">─</text>
<text x="604" y="374">┘</text>
<text x="84" y="394">│</text>
<text x="104" y="394">返</text>
<text x="124" y="394">回</text>
<text x="154" y="394">1</text>
<text x="174" y="394">o</text>
<text x="184" y="394">r</text>
<text x="204" y="394">0</text>
<text x="604" y="414">│</text>
<text x="84" y="434">├</text>
<text x="94" y="434">─</text>
<text x="104" y="434">─</text>
<text x="124" y="434">1</text>
<text x="134" y="434">（</text>
<text x="154" y="434">成</text>
<text x="174" y="434">功</text>
<text x="194" y="434">）</text>
<text x="214" y="434">─</text>
<text x="224" y="434">─</text>
<text x="234" y="434">►</text>
<text x="254" y="434">進</text>
<text x="274" y="434">入</text>
<text x="294" y="434">下</text>
<text x="314" y="434">單</text>
<text x="334" y="434">流</text>
<text x="354" y="434">程</text>
<text x="604" y="454">│</text>
<text x="84" y="474">└</text>
<text x="94" y="474">─</text>
<text x="104" y="474">─</text>
<text x="124" y="474">0</text>
<text x="134" y="474">（</text>
<text x="154" y="474">售</text>
<text x="174" y="474">罄</text>
<text x="194" y="474">）</text>
<text x="214" y="474">─</text>
<text x="224" y="474">─</text>
<text x="234" y="474">►</text>
<text x="254" y="474">返</text>
<text x="274" y="474">回</text>
<text x="294" y="474">「</text>
<text x="314" y="474">已</text>
<text x="334" y="474">售</text>
<text x="354" y="474">罄</text>
<text x="374" y="474">」</text>
<text x="394" y="474">頁</text>
<text x="414" y="474">面</text>
<text x="34" y="514">─</text>
<text x="44" y="514">─</text>
<text x="54" y="514">─</text>
<text x="74" y="514">S</text>
<text x="84" y="514">E</text>
<text x="94" y="514">T</text>
<text x="104" y="514">N</text>
<text x="114" y="514">X</text>
<text x="134" y="514">防</text>
<text x="154" y="514">重</text>
<text x="174" y="514">下</text>
<text x="194" y="514">單</text>
<text x="224" y="514">─</text>
<text x="234" y="514">─</text>
<text x="244" y="514">─</text>
<text x="254" y="514">─</text>
<text x="264" y="514">─</text>
<text x="274" y="514">─</text>
<text x="284" y="514">─</text>
<text x="294" y="514">─</text>
<text x="304" y="514">─</text>
<text x="314" y="514">─</text>
<text x="324" y="514">─</text>
<text x="334" y="514">─</text>
<text x="344" y="514">─</text>
<text x="354" y="514">─</text>
<text x="364" y="514">─</text>
<text x="374" y="514">─</text>
<text x="384" y="514">─</text>
<text x="394" y="514">─</text>
<text x="404" y="514">─</text>
<text x="414" y="514">─</text>
<text x="424" y="514">─</text>
<text x="434" y="514">─</text>
<text x="444" y="514">─</text>
<text x="454" y="514">─</text>
<text x="464" y="514">─</text>
<text x="474" y="514">─</text>
<text x="484" y="514">─</text>
<text x="494" y="514">─</text>
<text x="504" y="514">─</text>
<text x="514" y="514">─</text>
<text x="524" y="514">─</text>
<text x="534" y="514">─</text>
<text x="544" y="514">─</text>
<text x="554" y="514">─</text>
<text x="564" y="514">─</text>
<text x="574" y="514">─</text>
<text x="584" y="514">─</text>
<text x="594" y="514">─</text>
<text x="604" y="514">─</text>
<text x="34" y="554">用</text>
<text x="54" y="554">戶</text>
<text x="84" y="554">u</text>
<text x="94" y="554">i</text>
<text x="104" y="554">d</text>
<text x="114" y="554">=</text>
<text x="124" y="554">1</text>
<text x="134" y="554">0</text>
<text x="144" y="554">0</text>
<text x="154" y="554">1</text>
<text x="174" y="554">點</text>
<text x="194" y="554">擊</text>
<text x="214" y="554">搶</text>
<text x="234" y="554">購</text>
<text x="604" y="574">│</text>
<text x="84" y="594">▼</text>
<text x="34" y="614">S</text>
<text x="44" y="614">E</text>
<text x="54" y="614">T</text>
<text x="64" y="614">N</text>
<text x="74" y="614">X</text>
<text x="94" y="614">o</text>
<text x="104" y="614">r</text>
<text x="114" y="614">d</text>
<text x="124" y="614">e</text>
<text x="134" y="614">r</text>
<text x="144" y="614">:</text>
<text x="154" y="614">1</text>
<text x="164" y="614">0</text>
<text x="174" y="614">0</text>
<text x="184" y="614">1</text>
<text x="194" y="614">:</text>
<text x="204" y="614">s</text>
<text x="214" y="614">k</text>
<text x="224" y="614">u</text>
<text x="234" y="614">:</text>
<text x="244" y="614">0</text>
<text x="254" y="614">0</text>
<text x="264" y="614">1</text>
<text x="284" y="614">&quot;</text>
<text x="294" y="614">1</text>
<text x="304" y="614">&quot;</text>
<text x="334" y="614">E</text>
<text x="344" y="614">X</text>
<text x="364" y="614">3</text>
<text x="374" y="614">0</text>
<text x="384" y="614">0</text>
<text x="604" y="634">│</text>
<text x="84" y="654">├</text>
<text x="94" y="654">─</text>
<text x="104" y="654">─</text>
<text x="124" y="654">成</text>
<text x="144" y="654">功</text>
<text x="164" y="654">（</text>
<text x="184" y="654">首</text>
<text x="204" y="654">次</text>
<text x="224" y="654">）</text>
<text x="244" y="654">─</text>
<text x="254" y="654">─</text>
<text x="264" y="654">►</text>
<text x="284" y="654">允</text>
<text x="304" y="654">許</text>
<text x="324" y="654">下</text>
<text x="344" y="654">單</text>
<text x="604" y="674">│</text>
<text x="84" y="694">└</text>
<text x="94" y="694">─</text>
<text x="104" y="694">─</text>
<text x="124" y="694">失</text>
<text x="144" y="694">敗</text>
<text x="164" y="694">（</text>
<text x="184" y="694">已</text>
<text x="204" y="694">有</text>
<text x="224" y="694">）</text>
<text x="244" y="694">─</text>
<text x="254" y="694">─</text>
<text x="264" y="694">►</text>
<text x="284" y="694">返</text>
<text x="304" y="694">回</text>
<text x="324" y="694">「</text>
<text x="344" y="694">您</text>
<text x="364" y="694">已</text>
<text x="384" y="694">下</text>
<text x="404" y="694">單</text>
<text x="424" y="694">，</text>
<text x="444" y="694">請</text>
<text x="464" y="694">勿</text>
<text x="484" y="694">重</text>
<text x="504" y="694">複</text>
<text x="524" y="694">」</text>
<text x="34" y="734">─</text>
<text x="44" y="734">─</text>
<text x="54" y="734">─</text>
<text x="74" y="734">整</text>
<text x="94" y="734">體</text>
<text x="114" y="734">防</text>
<text x="134" y="734">超</text>
<text x="154" y="734">賣</text>
<text x="174" y="734">流</text>
<text x="194" y="734">程</text>
<text x="224" y="734">─</text>
<text x="234" y="734">─</text>
<text x="244" y="734">─</text>
<text x="254" y="734">─</text>
<text x="264" y="734">─</text>
<text x="274" y="734">─</text>
<text x="284" y="734">─</text>
<text x="294" y="734">─</text>
<text x="304" y="734">─</text>
<text x="314" y="734">─</text>
<text x="324" y="734">─</text>
<text x="334" y="734">─</text>
<text x="344" y="734">─</text>
<text x="354" y="734">─</text>
<text x="364" y="734">─</text>
<text x="374" y="734">─</text>
<text x="384" y="734">─</text>
<text x="394" y="734">─</text>
<text x="404" y="734">─</text>
<text x="414" y="734">─</text>
<text x="424" y="734">─</text>
<text x="434" y="734">─</text>
<text x="444" y="734">─</text>
<text x="454" y="734">─</text>
<text x="464" y="734">─</text>
<text x="474" y="734">─</text>
<text x="484" y="734">─</text>
<text x="494" y="734">─</text>
<text x="504" y="734">─</text>
<text x="514" y="734">─</text>
<text x="524" y="734">─</text>
<text x="534" y="734">─</text>
<text x="544" y="734">─</text>
<text x="554" y="734">─</text>
<text x="564" y="734">─</text>
<text x="574" y="734">─</text>
<text x="584" y="734">─</text>
<text x="594" y="734">─</text>
<text x="604" y="734">─</text>
<text x="34" y="774">請</text>
<text x="54" y="774">求</text>
<text x="74" y="774">進</text>
<text x="94" y="774">入</text>
<text x="604" y="794">│</text>
<text x="84" y="814">▼</text>
<text x="34" y="834">[</text>
<text x="44" y="834">限</text>
<text x="64" y="834">流</text>
<text x="84" y="834">檢</text>
<text x="104" y="834">查</text>
<text x="124" y="834">：</text>
<text x="144" y="834">令</text>
<text x="164" y="834">牌</text>
<text x="184" y="834">桶</text>
<text x="204" y="834">]</text>
<text x="84" y="854">│</text>
<text x="104" y="854">通</text>
<text x="124" y="854">過</text>
<text x="84" y="874">▼</text>
<text x="34" y="894">[</text>
<text x="44" y="894">防</text>
<text x="64" y="894">重</text>
<text x="84" y="894">檢</text>
<text x="104" y="894">查</text>
<text x="124" y="894">：</text>
<text x="144" y="894">S</text>
<text x="154" y="894">E</text>
<text x="164" y="894">T</text>
<text x="174" y="894">N</text>
<text x="184" y="894">X</text>
<text x="204" y="894">o</text>
<text x="214" y="894">r</text>
<text x="224" y="894">d</text>
<text x="234" y="894">e</text>
<text x="244" y="894">r</text>
<text x="254" y="894">:</text>
<text x="264" y="894">u</text>
<text x="274" y="894">i</text>
<text x="284" y="894">d</text>
<text x="294" y="894">:</text>
<text x="304" y="894">s</text>
<text x="314" y="894">k</text>
<text x="324" y="894">u</text>
<text x="334" y="894">]</text>
<text x="84" y="914">│</text>
<text x="104" y="914">非</text>
<text x="124" y="914">重</text>
<text x="144" y="914">複</text>
<text x="84" y="934">▼</text>
<text x="34" y="954">[</text>
<text x="44" y="954">L</text>
<text x="54" y="954">u</text>
<text x="64" y="954">a</text>
<text x="84" y="954">原</text>
<text x="104" y="954">子</text>
<text x="124" y="954">扣</text>
<text x="144" y="954">庫</text>
<text x="164" y="954">存</text>
<text x="184" y="954">：</text>
<text x="204" y="954">D</text>
<text x="214" y="954">E</text>
<text x="224" y="954">C</text>
<text x="234" y="954">R</text>
<text x="254" y="954">s</text>
<text x="264" y="954">t</text>
<text x="274" y="954">o</text>
<text x="284" y="954">c</text>
<text x="294" y="954">k</text>
<text x="304" y="954">:</text>
<text x="314" y="954">s</text>
<text x="324" y="954">k</text>
<text x="334" y="954">u</text>
<text x="344" y="954">]</text>
<text x="84" y="974">│</text>
<text x="104" y="974">s</text>
<text x="114" y="974">t</text>
<text x="124" y="974">o</text>
<text x="134" y="974">c</text>
<text x="144" y="974">k</text>
<text x="164" y="974">&gt;</text>
<text x="174" y="974">=</text>
<text x="194" y="974">0</text>
<text x="84" y="994">▼</text>
<text x="34" y="1014">[</text>
<text x="44" y="1014">入</text>
<text x="74" y="1014">M</text>
<text x="84" y="1014">Q</text>
<text x="104" y="1014">異</text>
<text x="124" y="1014">步</text>
<text x="144" y="1014">落</text>
<text x="164" y="1014">庫</text>
<text x="184" y="1014">]</text>
<text x="604" y="1034">│</text>
<text x="84" y="1054">▼</text>
<text x="34" y="1074">[</text>
<text x="44" y="1074">返</text>
<text x="64" y="1074">回</text>
<text x="84" y="1074">：</text>
<text x="104" y="1074">「</text>
<text x="124" y="1074">搶</text>
<text x="144" y="1074">購</text>
<text x="164" y="1074">成</text>
<text x="184" y="1074">功</text>
<text x="204" y="1074">」</text>
<text x="224" y="1074">]</text>
</g>
</svg>
</div>
<p>原子扣減 + 分段庫存 + 防重 + 風控。</p>
<h2 id="207-系統與網路優化對應-20712074"><a class="header" href="#207-系統與網路優化對應-20712074">20.7 系統與網路優化（對應 20.7.1~20.7.4）</a></h2>
<!-- subsection-diagram -->
<h3 id="本小節示意圖-6"><a class="header" href="#本小節示意圖-6">本小節示意圖</a></h3>
<div class="ascii-svg-wrap">
<svg class="ascii-svg" xmlns="http://www.w3.org/2000/svg" width="698" height="1184" viewBox="0 0 698 1184" role="img" aria-label="ASCII diagram">
<g fill="currentColor" font-family="Noto Sans Mono CJK TC, Noto Sans Mono CJK SC, Noto Sans Mono CJK JP, Sarasa Mono TC, Cascadia Mono, JetBrains Mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace" font-size="16" text-rendering="geometricPrecision" xml:space="preserve">
<text x="14" y="14">系</text>
<text x="34" y="14">統</text>
<text x="54" y="14">調</text>
<text x="74" y="14">優</text>
<text x="94" y="14">清</text>
<text x="114" y="14">單</text>
<text x="34" y="54">┌</text>
<text x="44" y="54">─</text>
<text x="54" y="54">─</text>
<text x="64" y="54">─</text>
<text x="74" y="54">─</text>
<text x="84" y="54">─</text>
<text x="94" y="54">─</text>
<text x="104" y="54">─</text>
<text x="114" y="54">─</text>
<text x="124" y="54">─</text>
<text x="134" y="54">─</text>
<text x="144" y="54">─</text>
<text x="154" y="54">─</text>
<text x="164" y="54">─</text>
<text x="174" y="54">─</text>
<text x="184" y="54">─</text>
<text x="194" y="54">─</text>
<text x="204" y="54">─</text>
<text x="214" y="54">─</text>
<text x="224" y="54">─</text>
<text x="234" y="54">─</text>
<text x="244" y="54">─</text>
<text x="254" y="54">─</text>
<text x="264" y="54">─</text>
<text x="274" y="54">─</text>
<text x="284" y="54">─</text>
<text x="294" y="54">─</text>
<text x="304" y="54">─</text>
<text x="314" y="54">─</text>
<text x="324" y="54">─</text>
<text x="334" y="54">─</text>
<text x="344" y="54">─</text>
<text x="354" y="54">─</text>
<text x="364" y="54">─</text>
<text x="374" y="54">─</text>
<text x="384" y="54">─</text>
<text x="394" y="54">─</text>
<text x="404" y="54">─</text>
<text x="414" y="54">─</text>
<text x="424" y="54">─</text>
<text x="434" y="54">─</text>
<text x="444" y="54">─</text>
<text x="454" y="54">─</text>
<text x="464" y="54">─</text>
<text x="474" y="54">─</text>
<text x="484" y="54">─</text>
<text x="494" y="54">─</text>
<text x="504" y="54">─</text>
<text x="514" y="54">─</text>
<text x="524" y="54">─</text>
<text x="534" y="54">─</text>
<text x="544" y="54">─</text>
<text x="554" y="54">─</text>
<text x="564" y="54">─</text>
<text x="574" y="54">─</text>
<text x="584" y="54">─</text>
<text x="594" y="54">─</text>
<text x="604" y="54">─</text>
<text x="614" y="54">─</text>
<text x="624" y="54">─</text>
<text x="634" y="54">─</text>
<text x="644" y="54">─</text>
<text x="654" y="54">─</text>
<text x="664" y="54">─</text>
<text x="674" y="54">┐</text>
<text x="34" y="74">│</text>
<text x="64" y="74">O</text>
<text x="74" y="74">S</text>
<text x="94" y="74">層</text>
<text x="114" y="74">優</text>
<text x="134" y="74">化</text>
<text x="674" y="74">│</text>
<text x="44" y="94">│</text>
<text x="674" y="94">│</text>
<text x="34" y="114">│</text>
<text x="64" y="114">・</text>
<text x="84" y="114">u</text>
<text x="94" y="114">l</text>
<text x="104" y="114">i</text>
<text x="114" y="114">m</text>
<text x="124" y="114">i</text>
<text x="134" y="114">t</text>
<text x="154" y="114">-</text>
<text x="164" y="114">n</text>
<text x="184" y="114">6</text>
<text x="194" y="114">5</text>
<text x="204" y="114">5</text>
<text x="214" y="114">3</text>
<text x="224" y="114">5</text>
<text x="264" y="114">→</text>
<text x="284" y="114">增</text>
<text x="304" y="114">大</text>
<text x="324" y="114">最</text>
<text x="344" y="114">大</text>
<text x="364" y="114">檔</text>
<text x="384" y="114">案</text>
<text x="404" y="114">/</text>
<text x="414" y="114">連</text>
<text x="434" y="114">線</text>
<text x="454" y="114">數</text>
<text x="674" y="114">│</text>
<text x="34" y="134">│</text>
<text x="64" y="134">・</text>
<text x="84" y="134">/</text>
<text x="94" y="134">p</text>
<text x="104" y="134">r</text>
<text x="114" y="134">o</text>
<text x="124" y="134">c</text>
<text x="134" y="134">/</text>
<text x="144" y="134">s</text>
<text x="154" y="134">y</text>
<text x="164" y="134">s</text>
<text x="174" y="134">/</text>
<text x="184" y="134">n</text>
<text x="194" y="134">e</text>
<text x="204" y="134">t</text>
<text x="214" y="134">/</text>
<text x="224" y="134">c</text>
<text x="234" y="134">o</text>
<text x="244" y="134">r</text>
<text x="254" y="134">e</text>
<text x="264" y="134">/</text>
<text x="274" y="134">s</text>
<text x="284" y="134">o</text>
<text x="294" y="134">m</text>
<text x="304" y="134">a</text>
<text x="314" y="134">x</text>
<text x="324" y="134">c</text>
<text x="334" y="134">o</text>
<text x="344" y="134">n</text>
<text x="354" y="134">n</text>
<text x="374" y="134">→</text>
<text x="394" y="134">增</text>
<text x="414" y="134">大</text>
<text x="444" y="134">l</text>
<text x="454" y="134">i</text>
<text x="464" y="134">s</text>
<text x="474" y="134">t</text>
<text x="484" y="134">e</text>
<text x="494" y="134">n</text>
<text x="514" y="134">b</text>
<text x="524" y="134">a</text>
<text x="534" y="134">c</text>
<text x="544" y="134">k</text>
<text x="554" y="134">l</text>
<text x="564" y="134">o</text>
<text x="574" y="134">g</text>
<text x="674" y="134">│</text>
<text x="34" y="154">│</text>
<text x="64" y="154">・</text>
<text x="84" y="154">T</text>
<text x="94" y="154">C</text>
<text x="104" y="154">P</text>
<text x="114" y="154">_</text>
<text x="124" y="154">N</text>
<text x="134" y="154">O</text>
<text x="144" y="154">D</text>
<text x="154" y="154">E</text>
<text x="164" y="154">L</text>
<text x="174" y="154">A</text>
<text x="184" y="154">Y</text>
<text x="204" y="154">→</text>
<text x="224" y="154">關</text>
<text x="244" y="154">閉</text>
<text x="274" y="154">N</text>
<text x="284" y="154">a</text>
<text x="294" y="154">g</text>
<text x="304" y="154">l</text>
<text x="314" y="154">e</text>
<text x="334" y="154">算</text>
<text x="354" y="154">法</text>
<text x="374" y="154">，</text>
<text x="394" y="154">降</text>
<text x="414" y="154">低</text>
<text x="434" y="154">延</text>
<text x="454" y="154">遲</text>
<text x="674" y="154">│</text>
<text x="34" y="174">│</text>
<text x="64" y="174">・</text>
<text x="84" y="174">v</text>
<text x="94" y="174">m</text>
<text x="104" y="174">.</text>
<text x="114" y="174">s</text>
<text x="124" y="174">w</text>
<text x="134" y="174">a</text>
<text x="144" y="174">p</text>
<text x="154" y="174">p</text>
<text x="164" y="174">i</text>
<text x="174" y="174">n</text>
<text x="184" y="174">e</text>
<text x="194" y="174">s</text>
<text x="204" y="174">s</text>
<text x="214" y="174">=</text>
<text x="224" y="174">1</text>
<text x="244" y="174">→</text>
<text x="264" y="174">減</text>
<text x="284" y="174">少</text>
<text x="314" y="174">s</text>
<text x="324" y="174">w</text>
<text x="334" y="174">a</text>
<text x="344" y="174">p</text>
<text x="354" y="174">，</text>
<text x="374" y="174">避</text>
<text x="394" y="174">免</text>
<text x="414" y="174">延</text>
<text x="434" y="174">遲</text>
<text x="454" y="174">尖</text>
<text x="474" y="174">刺</text>
<text x="674" y="174">│</text>
<text x="34" y="194">└</text>
<text x="44" y="194">─</text>
<text x="54" y="194">─</text>
<text x="64" y="194">─</text>
<text x="74" y="194">─</text>
<text x="84" y="194">─</text>
<text x="94" y="194">─</text>
<text x="104" y="194">─</text>
<text x="114" y="194">─</text>
<text x="124" y="194">─</text>
<text x="134" y="194">─</text>
<text x="144" y="194">─</text>
<text x="154" y="194">─</text>
<text x="164" y="194">─</text>
<text x="174" y="194">─</text>
<text x="184" y="194">─</text>
<text x="194" y="194">─</text>
<text x="204" y="194">─</text>
<text x="214" y="194">─</text>
<text x="224" y="194">─</text>
<text x="234" y="194">─</text>
<text x="244" y="194">─</text>
<text x="254" y="194">─</text>
<text x="264" y="194">─</text>
<text x="274" y="194">─</text>
<text x="284" y="194">─</text>
<text x="294" y="194">─</text>
<text x="304" y="194">─</text>
<text x="314" y="194">─</text>
<text x="324" y="194">─</text>
<text x="334" y="194">─</text>
<text x="344" y="194">─</text>
<text x="354" y="194">─</text>
<text x="364" y="194">─</text>
<text x="374" y="194">─</text>
<text x="384" y="194">─</text>
<text x="394" y="194">─</text>
<text x="404" y="194">─</text>
<text x="414" y="194">─</text>
<text x="424" y="194">─</text>
<text x="434" y="194">─</text>
<text x="444" y="194">─</text>
<text x="454" y="194">─</text>
<text x="464" y="194">─</text>
<text x="474" y="194">─</text>
<text x="484" y="194">─</text>
<text x="494" y="194">─</text>
<text x="504" y="194">─</text>
<text x="514" y="194">─</text>
<text x="524" y="194">─</text>
<text x="534" y="194">─</text>
<text x="544" y="194">─</text>
<text x="554" y="194">─</text>
<text x="564" y="194">─</text>
<text x="574" y="194">─</text>
<text x="584" y="194">─</text>
<text x="594" y="194">─</text>
<text x="604" y="194">─</text>
<text x="614" y="194">─</text>
<text x="624" y="194">─</text>
<text x="634" y="194">─</text>
<text x="644" y="194">─</text>
<text x="654" y="194">─</text>
<text x="664" y="194">─</text>
<text x="674" y="194">┘</text>
<text x="34" y="234">┌</text>
<text x="44" y="234">─</text>
<text x="54" y="234">─</text>
<text x="64" y="234">─</text>
<text x="74" y="234">─</text>
<text x="84" y="234">─</text>
<text x="94" y="234">─</text>
<text x="104" y="234">─</text>
<text x="114" y="234">─</text>
<text x="124" y="234">─</text>
<text x="134" y="234">─</text>
<text x="144" y="234">─</text>
<text x="154" y="234">─</text>
<text x="164" y="234">─</text>
<text x="174" y="234">─</text>
<text x="184" y="234">─</text>
<text x="194" y="234">─</text>
<text x="204" y="234">─</text>
<text x="214" y="234">─</text>
<text x="224" y="234">─</text>
<text x="234" y="234">─</text>
<text x="244" y="234">─</text>
<text x="254" y="234">─</text>
<text x="264" y="234">─</text>
<text x="274" y="234">─</text>
<text x="284" y="234">─</text>
<text x="294" y="234">─</text>
<text x="304" y="234">─</text>
<text x="314" y="234">─</text>
<text x="324" y="234">─</text>
<text x="334" y="234">─</text>
<text x="344" y="234">─</text>
<text x="354" y="234">─</text>
<text x="364" y="234">─</text>
<text x="374" y="234">─</text>
<text x="384" y="234">─</text>
<text x="394" y="234">─</text>
<text x="404" y="234">─</text>
<text x="414" y="234">─</text>
<text x="424" y="234">─</text>
<text x="434" y="234">─</text>
<text x="444" y="234">─</text>
<text x="454" y="234">─</text>
<text x="464" y="234">─</text>
<text x="474" y="234">─</text>
<text x="484" y="234">─</text>
<text x="494" y="234">─</text>
<text x="504" y="234">─</text>
<text x="514" y="234">─</text>
<text x="524" y="234">─</text>
<text x="534" y="234">─</text>
<text x="544" y="234">─</text>
<text x="554" y="234">─</text>
<text x="564" y="234">─</text>
<text x="574" y="234">─</text>
<text x="584" y="234">─</text>
<text x="594" y="234">─</text>
<text x="604" y="234">─</text>
<text x="614" y="234">─</text>
<text x="624" y="234">─</text>
<text x="634" y="234">─</text>
<text x="644" y="234">─</text>
<text x="654" y="234">─</text>
<text x="664" y="234">─</text>
<text x="674" y="234">┐</text>
<text x="34" y="254">│</text>
<text x="64" y="254">網</text>
<text x="84" y="254">路</text>
<text x="104" y="254">層</text>
<text x="124" y="254">優</text>
<text x="144" y="254">化</text>
<text x="674" y="254">│</text>
<text x="44" y="274">│</text>
<text x="674" y="274">│</text>
<text x="34" y="294">│</text>
<text x="64" y="294">・</text>
<text x="84" y="294">T</text>
<text x="94" y="294">C</text>
<text x="104" y="294">P</text>
<text x="124" y="294">k</text>
<text x="134" y="294">e</text>
<text x="144" y="294">e</text>
<text x="154" y="294">p</text>
<text x="164" y="294">a</text>
<text x="174" y="294">l</text>
<text x="184" y="294">i</text>
<text x="194" y="294">v</text>
<text x="204" y="294">e</text>
<text x="224" y="294">→</text>
<text x="244" y="294">複</text>
<text x="264" y="294">用</text>
<text x="284" y="294">連</text>
<text x="304" y="294">線</text>
<text x="324" y="294">，</text>
<text x="344" y="294">避</text>
<text x="364" y="294">免</text>
<text x="384" y="294">頻</text>
<text x="404" y="294">繁</text>
<text x="424" y="294">三</text>
<text x="444" y="294">次</text>
<text x="464" y="294">握</text>
<text x="484" y="294">手</text>
<text x="674" y="294">│</text>
<text x="34" y="314">│</text>
<text x="64" y="314">・</text>
<text x="84" y="314">S</text>
<text x="94" y="314">O</text>
<text x="104" y="314">_</text>
<text x="114" y="314">R</text>
<text x="124" y="314">E</text>
<text x="134" y="314">U</text>
<text x="144" y="314">S</text>
<text x="154" y="314">E</text>
<text x="164" y="314">P</text>
<text x="174" y="314">O</text>
<text x="184" y="314">R</text>
<text x="194" y="314">T</text>
<text x="214" y="314">→</text>
<text x="234" y="314">多</text>
<text x="254" y="314">個</text>
<text x="284" y="314">w</text>
<text x="294" y="314">o</text>
<text x="304" y="314">r</text>
<text x="314" y="314">k</text>
<text x="324" y="314">e</text>
<text x="334" y="314">r</text>
<text x="354" y="314">共</text>
<text x="374" y="314">用</text>
<text x="394" y="314">同</text>
<text x="414" y="314">一</text>
<text x="444" y="314">p</text>
<text x="454" y="314">o</text>
<text x="464" y="314">r</text>
<text x="474" y="314">t</text>
<text x="484" y="314">，</text>
<text x="504" y="314">核</text>
<text x="524" y="314">心</text>
<text x="544" y="314">分</text>
<text x="564" y="314">流</text>
<text x="674" y="314">│</text>
<text x="44" y="334">│</text>
<text x="674" y="334">│</text>
<text x="34" y="354">│</text>
<text x="84" y="354">┌</text>
<text x="94" y="354">─</text>
<text x="104" y="354">─</text>
<text x="114" y="354">─</text>
<text x="124" y="354">─</text>
<text x="134" y="354">─</text>
<text x="144" y="354">─</text>
<text x="154" y="354">─</text>
<text x="164" y="354">─</text>
<text x="174" y="354">─</text>
<text x="184" y="354">─</text>
<text x="194" y="354">┐</text>
<text x="224" y="354">┌</text>
<text x="234" y="354">─</text>
<text x="244" y="354">─</text>
<text x="254" y="354">─</text>
<text x="264" y="354">─</text>
<text x="274" y="354">─</text>
<text x="284" y="354">─</text>
<text x="294" y="354">─</text>
<text x="304" y="354">─</text>
<text x="314" y="354">─</text>
<text x="324" y="354">─</text>
<text x="334" y="354">┐</text>
<text x="364" y="354">┌</text>
<text x="374" y="354">─</text>
<text x="384" y="354">─</text>
<text x="394" y="354">─</text>
<text x="404" y="354">─</text>
<text x="414" y="354">─</text>
<text x="424" y="354">─</text>
<text x="434" y="354">─</text>
<text x="444" y="354">─</text>
<text x="454" y="354">─</text>
<text x="464" y="354">─</text>
<text x="474" y="354">─</text>
<text x="484" y="354">─</text>
<text x="494" y="354">┐</text>
<text x="674" y="354">│</text>
<text x="34" y="374">│</text>
<text x="84" y="374">│</text>
<text x="104" y="374">W</text>
<text x="114" y="374">o</text>
<text x="124" y="374">r</text>
<text x="134" y="374">k</text>
<text x="144" y="374">e</text>
<text x="154" y="374">r</text>
<text x="174" y="374">1</text>
<text x="194" y="374">│</text>
<text x="224" y="374">│</text>
<text x="244" y="374">W</text>
<text x="254" y="374">o</text>
<text x="264" y="374">r</text>
<text x="274" y="374">k</text>
<text x="284" y="374">e</text>
<text x="294" y="374">r</text>
<text x="314" y="374">2</text>
<text x="334" y="374">│</text>
<text x="364" y="374">│</text>
<text x="384" y="374">W</text>
<text x="394" y="374">o</text>
<text x="404" y="374">r</text>
<text x="414" y="374">k</text>
<text x="424" y="374">e</text>
<text x="434" y="374">r</text>
<text x="454" y="374">3</text>
<text x="494" y="374">│</text>
<text x="674" y="374">│</text>
<text x="34" y="394">│</text>
<text x="84" y="394">│</text>
<text x="114" y="394">:</text>
<text x="124" y="394">8</text>
<text x="134" y="394">0</text>
<text x="144" y="394">8</text>
<text x="154" y="394">0</text>
<text x="194" y="394">│</text>
<text x="224" y="394">│</text>
<text x="254" y="394">:</text>
<text x="264" y="394">8</text>
<text x="274" y="394">0</text>
<text x="284" y="394">8</text>
<text x="294" y="394">0</text>
<text x="334" y="394">│</text>
<text x="364" y="394">│</text>
<text x="394" y="394">:</text>
<text x="404" y="394">8</text>
<text x="414" y="394">0</text>
<text x="424" y="394">8</text>
<text x="434" y="394">0</text>
<text x="494" y="394">│</text>
<text x="674" y="394">│</text>
<text x="34" y="414">│</text>
<text x="84" y="414">└</text>
<text x="94" y="414">─</text>
<text x="104" y="414">─</text>
<text x="114" y="414">─</text>
<text x="124" y="414">─</text>
<text x="134" y="414">─</text>
<text x="144" y="414">─</text>
<text x="154" y="414">─</text>
<text x="164" y="414">─</text>
<text x="174" y="414">─</text>
<text x="184" y="414">─</text>
<text x="194" y="414">┘</text>
<text x="224" y="414">└</text>
<text x="234" y="414">─</text>
<text x="244" y="414">─</text>
<text x="254" y="414">─</text>
<text x="264" y="414">─</text>
<text x="274" y="414">─</text>
<text x="284" y="414">─</text>
<text x="294" y="414">─</text>
<text x="304" y="414">─</text>
<text x="314" y="414">─</text>
<text x="324" y="414">─</text>
<text x="334" y="414">┘</text>
<text x="364" y="414">└</text>
<text x="374" y="414">─</text>
<text x="384" y="414">─</text>
<text x="394" y="414">─</text>
<text x="404" y="414">─</text>
<text x="414" y="414">─</text>
<text x="424" y="414">─</text>
<text x="434" y="414">─</text>
<text x="444" y="414">─</text>
<text x="454" y="414">─</text>
<text x="464" y="414">─</text>
<text x="474" y="414">─</text>
<text x="484" y="414">─</text>
<text x="494" y="414">┘</text>
<text x="674" y="414">│</text>
<text x="34" y="434">│</text>
<text x="134" y="434">↑</text>
<text x="284" y="434">↑</text>
<text x="434" y="434">↑</text>
<text x="674" y="434">│</text>
<text x="34" y="454">│</text>
<text x="84" y="454">核</text>
<text x="104" y="454">心</text>
<text x="124" y="454">按</text>
<text x="154" y="454">C</text>
<text x="164" y="454">P</text>
<text x="174" y="454">U</text>
<text x="194" y="454">親</text>
<text x="214" y="454">和</text>
<text x="234" y="454">性</text>
<text x="254" y="454">分</text>
<text x="274" y="454">發</text>
<text x="294" y="454">連</text>
<text x="314" y="454">線</text>
<text x="334" y="454">（</text>
<text x="354" y="454">S</text>
<text x="364" y="454">O</text>
<text x="374" y="454">_</text>
<text x="384" y="454">R</text>
<text x="394" y="454">E</text>
<text x="404" y="454">U</text>
<text x="414" y="454">S</text>
<text x="424" y="454">E</text>
<text x="434" y="454">P</text>
<text x="444" y="454">O</text>
<text x="454" y="454">R</text>
<text x="464" y="454">T</text>
<text x="474" y="454">）</text>
<text x="674" y="454">│</text>
<text x="34" y="474">└</text>
<text x="44" y="474">─</text>
<text x="54" y="474">─</text>
<text x="64" y="474">─</text>
<text x="74" y="474">─</text>
<text x="84" y="474">─</text>
<text x="94" y="474">─</text>
<text x="104" y="474">─</text>
<text x="114" y="474">─</text>
<text x="124" y="474">─</text>
<text x="134" y="474">─</text>
<text x="144" y="474">─</text>
<text x="154" y="474">─</text>
<text x="164" y="474">─</text>
<text x="174" y="474">─</text>
<text x="184" y="474">─</text>
<text x="194" y="474">─</text>
<text x="204" y="474">─</text>
<text x="214" y="474">─</text>
<text x="224" y="474">─</text>
<text x="234" y="474">─</text>
<text x="244" y="474">─</text>
<text x="254" y="474">─</text>
<text x="264" y="474">─</text>
<text x="274" y="474">─</text>
<text x="284" y="474">─</text>
<text x="294" y="474">─</text>
<text x="304" y="474">─</text>
<text x="314" y="474">─</text>
<text x="324" y="474">─</text>
<text x="334" y="474">─</text>
<text x="344" y="474">─</text>
<text x="354" y="474">─</text>
<text x="364" y="474">─</text>
<text x="374" y="474">─</text>
<text x="384" y="474">─</text>
<text x="394" y="474">─</text>
<text x="404" y="474">─</text>
<text x="414" y="474">─</text>
<text x="424" y="474">─</text>
<text x="434" y="474">─</text>
<text x="444" y="474">─</text>
<text x="454" y="474">─</text>
<text x="464" y="474">─</text>
<text x="474" y="474">─</text>
<text x="484" y="474">─</text>
<text x="494" y="474">─</text>
<text x="504" y="474">─</text>
<text x="514" y="474">─</text>
<text x="524" y="474">─</text>
<text x="534" y="474">─</text>
<text x="544" y="474">─</text>
<text x="554" y="474">─</text>
<text x="564" y="474">─</text>
<text x="574" y="474">─</text>
<text x="584" y="474">─</text>
<text x="594" y="474">─</text>
<text x="604" y="474">─</text>
<text x="614" y="474">─</text>
<text x="624" y="474">─</text>
<text x="634" y="474">─</text>
<text x="644" y="474">─</text>
<text x="654" y="474">─</text>
<text x="664" y="474">─</text>
<text x="674" y="474">┘</text>
<text x="34" y="514">┌</text>
<text x="44" y="514">─</text>
<text x="54" y="514">─</text>
<text x="64" y="514">─</text>
<text x="74" y="514">─</text>
<text x="84" y="514">─</text>
<text x="94" y="514">─</text>
<text x="104" y="514">─</text>
<text x="114" y="514">─</text>
<text x="124" y="514">─</text>
<text x="134" y="514">─</text>
<text x="144" y="514">─</text>
<text x="154" y="514">─</text>
<text x="164" y="514">─</text>
<text x="174" y="514">─</text>
<text x="184" y="514">─</text>
<text x="194" y="514">─</text>
<text x="204" y="514">─</text>
<text x="214" y="514">─</text>
<text x="224" y="514">─</text>
<text x="234" y="514">─</text>
<text x="244" y="514">─</text>
<text x="254" y="514">─</text>
<text x="264" y="514">─</text>
<text x="274" y="514">─</text>
<text x="284" y="514">─</text>
<text x="294" y="514">─</text>
<text x="304" y="514">─</text>
<text x="314" y="514">─</text>
<text x="324" y="514">─</text>
<text x="334" y="514">─</text>
<text x="344" y="514">─</text>
<text x="354" y="514">─</text>
<text x="364" y="514">─</text>
<text x="374" y="514">─</text>
<text x="384" y="514">─</text>
<text x="394" y="514">─</text>
<text x="404" y="514">─</text>
<text x="414" y="514">─</text>
<text x="424" y="514">─</text>
<text x="434" y="514">─</text>
<text x="444" y="514">─</text>
<text x="454" y="514">─</text>
<text x="464" y="514">─</text>
<text x="474" y="514">─</text>
<text x="484" y="514">─</text>
<text x="494" y="514">─</text>
<text x="504" y="514">─</text>
<text x="514" y="514">─</text>
<text x="524" y="514">─</text>
<text x="534" y="514">─</text>
<text x="544" y="514">─</text>
<text x="554" y="514">─</text>
<text x="564" y="514">─</text>
<text x="574" y="514">─</text>
<text x="584" y="514">─</text>
<text x="594" y="514">─</text>
<text x="604" y="514">─</text>
<text x="614" y="514">─</text>
<text x="624" y="514">─</text>
<text x="634" y="514">─</text>
<text x="644" y="514">─</text>
<text x="654" y="514">─</text>
<text x="664" y="514">─</text>
<text x="674" y="514">┐</text>
<text x="34" y="534">│</text>
<text x="64" y="534">連</text>
<text x="84" y="534">線</text>
<text x="104" y="534">池</text>
<text x="124" y="534">優</text>
<text x="144" y="534">化</text>
<text x="674" y="534">│</text>
<text x="44" y="554">│</text>
<text x="674" y="554">│</text>
<text x="34" y="574">│</text>
<text x="64" y="574">D</text>
<text x="74" y="574">B</text>
<text x="94" y="574">連</text>
<text x="114" y="574">線</text>
<text x="134" y="574">池</text>
<text x="154" y="574">：</text>
<text x="674" y="574">│</text>
<text x="34" y="594">│</text>
<text x="64" y="594">・</text>
<text x="84" y="594">p</text>
<text x="94" y="594">o</text>
<text x="104" y="594">o</text>
<text x="114" y="594">l</text>
<text x="124" y="594">_</text>
<text x="134" y="594">s</text>
<text x="144" y="594">i</text>
<text x="154" y="594">z</text>
<text x="164" y="594">e</text>
<text x="184" y="594">=</text>
<text x="204" y="594">C</text>
<text x="214" y="594">P</text>
<text x="224" y="594">U</text>
<text x="234" y="594">核</text>
<text x="254" y="594">數</text>
<text x="284" y="594">×</text>
<text x="304" y="594">2</text>
<text x="314" y="594">（</text>
<text x="334" y="594">避</text>
<text x="354" y="594">免</text>
<text x="374" y="594">過</text>
<text x="394" y="594">多</text>
<text x="414" y="594">上</text>
<text x="434" y="594">下</text>
<text x="454" y="594">文</text>
<text x="474" y="594">切</text>
<text x="494" y="594">換</text>
<text x="514" y="594">）</text>
<text x="674" y="594">│</text>
<text x="34" y="614">│</text>
<text x="64" y="614">・</text>
<text x="84" y="614">m</text>
<text x="94" y="614">a</text>
<text x="104" y="614">x</text>
<text x="114" y="614">_</text>
<text x="124" y="614">o</text>
<text x="134" y="614">v</text>
<text x="144" y="614">e</text>
<text x="154" y="614">r</text>
<text x="164" y="614">f</text>
<text x="174" y="614">l</text>
<text x="184" y="614">o</text>
<text x="194" y="614">w</text>
<text x="214" y="614">=</text>
<text x="234" y="614">p</text>
<text x="244" y="614">o</text>
<text x="254" y="614">o</text>
<text x="264" y="614">l</text>
<text x="274" y="614">_</text>
<text x="284" y="614">s</text>
<text x="294" y="614">i</text>
<text x="304" y="614">z</text>
<text x="314" y="614">e</text>
<text x="334" y="614">×</text>
<text x="354" y="614">2</text>
<text x="674" y="614">│</text>
<text x="34" y="634">│</text>
<text x="64" y="634">・</text>
<text x="84" y="634">p</text>
<text x="94" y="634">o</text>
<text x="104" y="634">o</text>
<text x="114" y="634">l</text>
<text x="124" y="634">_</text>
<text x="134" y="634">t</text>
<text x="144" y="634">i</text>
<text x="154" y="634">m</text>
<text x="164" y="634">e</text>
<text x="174" y="634">o</text>
<text x="184" y="634">u</text>
<text x="194" y="634">t</text>
<text x="214" y="634">=</text>
<text x="234" y="634">3</text>
<text x="244" y="634">0</text>
<text x="254" y="634">s</text>
<text x="264" y="634">（</text>
<text x="284" y="634">避</text>
<text x="304" y="634">免</text>
<text x="324" y="634">無</text>
<text x="344" y="634">限</text>
<text x="364" y="634">等</text>
<text x="384" y="634">待</text>
<text x="404" y="634">）</text>
<text x="674" y="634">│</text>
<text x="44" y="654">│</text>
<text x="674" y="654">│</text>
<text x="34" y="674">│</text>
<text x="64" y="674">R</text>
<text x="74" y="674">e</text>
<text x="84" y="674">d</text>
<text x="94" y="674">i</text>
<text x="104" y="674">s</text>
<text x="124" y="674">連</text>
<text x="144" y="674">線</text>
<text x="164" y="674">池</text>
<text x="184" y="674">：</text>
<text x="674" y="674">│</text>
<text x="34" y="694">│</text>
<text x="64" y="694">・</text>
<text x="84" y="694">每</text>
<text x="104" y="694">個</text>
<text x="124" y="694">應</text>
<text x="144" y="694">用</text>
<text x="164" y="694">節</text>
<text x="184" y="694">點</text>
<text x="204" y="694">保</text>
<text x="224" y="694">持</text>
<text x="254" y="694">1</text>
<text x="264" y="694">0</text>
<text x="274" y="694">~</text>
<text x="284" y="694">5</text>
<text x="294" y="694">0</text>
<text x="314" y="694">個</text>
<text x="334" y="694">長</text>
<text x="354" y="694">連</text>
<text x="374" y="694">線</text>
<text x="674" y="694">│</text>
<text x="34" y="714">│</text>
<text x="64" y="714">・</text>
<text x="84" y="714">避</text>
<text x="104" y="714">免</text>
<text x="124" y="714">頻</text>
<text x="144" y="714">繁</text>
<text x="174" y="714">c</text>
<text x="184" y="714">o</text>
<text x="194" y="714">n</text>
<text x="204" y="714">n</text>
<text x="214" y="714">e</text>
<text x="224" y="714">c</text>
<text x="234" y="714">t</text>
<text x="244" y="714">/</text>
<text x="254" y="714">d</text>
<text x="264" y="714">i</text>
<text x="274" y="714">s</text>
<text x="284" y="714">c</text>
<text x="294" y="714">o</text>
<text x="304" y="714">n</text>
<text x="314" y="714">n</text>
<text x="324" y="714">e</text>
<text x="334" y="714">c</text>
<text x="344" y="714">t</text>
<text x="674" y="714">│</text>
<text x="34" y="734">└</text>
<text x="44" y="734">─</text>
<text x="54" y="734">─</text>
<text x="64" y="734">─</text>
<text x="74" y="734">─</text>
<text x="84" y="734">─</text>
<text x="94" y="734">─</text>
<text x="104" y="734">─</text>
<text x="114" y="734">─</text>
<text x="124" y="734">─</text>
<text x="134" y="734">─</text>
<text x="144" y="734">─</text>
<text x="154" y="734">─</text>
<text x="164" y="734">─</text>
<text x="174" y="734">─</text>
<text x="184" y="734">─</text>
<text x="194" y="734">─</text>
<text x="204" y="734">─</text>
<text x="214" y="734">─</text>
<text x="224" y="734">─</text>
<text x="234" y="734">─</text>
<text x="244" y="734">─</text>
<text x="254" y="734">─</text>
<text x="264" y="734">─</text>
<text x="274" y="734">─</text>
<text x="284" y="734">─</text>
<text x="294" y="734">─</text>
<text x="304" y="734">─</text>
<text x="314" y="734">─</text>
<text x="324" y="734">─</text>
<text x="334" y="734">─</text>
<text x="344" y="734">─</text>
<text x="354" y="734">─</text>
<text x="364" y="734">─</text>
<text x="374" y="734">─</text>
<text x="384" y="734">─</text>
<text x="394" y="734">─</text>
<text x="404" y="734">─</text>
<text x="414" y="734">─</text>
<text x="424" y="734">─</text>
<text x="434" y="734">─</text>
<text x="444" y="734">─</text>
<text x="454" y="734">─</text>
<text x="464" y="734">─</text>
<text x="474" y="734">─</text>
<text x="484" y="734">─</text>
<text x="494" y="734">─</text>
<text x="504" y="734">─</text>
<text x="514" y="734">─</text>
<text x="524" y="734">─</text>
<text x="534" y="734">─</text>
<text x="544" y="734">─</text>
<text x="554" y="734">─</text>
<text x="564" y="734">─</text>
<text x="574" y="734">─</text>
<text x="584" y="734">─</text>
<text x="594" y="734">─</text>
<text x="604" y="734">─</text>
<text x="614" y="734">─</text>
<text x="624" y="734">─</text>
<text x="634" y="734">─</text>
<text x="644" y="734">─</text>
<text x="654" y="734">─</text>
<text x="664" y="734">─</text>
<text x="674" y="734">┘</text>
<text x="34" y="774">┌</text>
<text x="44" y="774">─</text>
<text x="54" y="774">─</text>
<text x="64" y="774">─</text>
<text x="74" y="774">─</text>
<text x="84" y="774">─</text>
<text x="94" y="774">─</text>
<text x="104" y="774">─</text>
<text x="114" y="774">─</text>
<text x="124" y="774">─</text>
<text x="134" y="774">─</text>
<text x="144" y="774">─</text>
<text x="154" y="774">─</text>
<text x="164" y="774">─</text>
<text x="174" y="774">─</text>
<text x="184" y="774">─</text>
<text x="194" y="774">─</text>
<text x="204" y="774">─</text>
<text x="214" y="774">─</text>
<text x="224" y="774">─</text>
<text x="234" y="774">─</text>
<text x="244" y="774">─</text>
<text x="254" y="774">─</text>
<text x="264" y="774">─</text>
<text x="274" y="774">─</text>
<text x="284" y="774">─</text>
<text x="294" y="774">─</text>
<text x="304" y="774">─</text>
<text x="314" y="774">─</text>
<text x="324" y="774">─</text>
<text x="334" y="774">─</text>
<text x="344" y="774">─</text>
<text x="354" y="774">─</text>
<text x="364" y="774">─</text>
<text x="374" y="774">─</text>
<text x="384" y="774">─</text>
<text x="394" y="774">─</text>
<text x="404" y="774">─</text>
<text x="414" y="774">─</text>
<text x="424" y="774">─</text>
<text x="434" y="774">─</text>
<text x="444" y="774">─</text>
<text x="454" y="774">─</text>
<text x="464" y="774">─</text>
<text x="474" y="774">─</text>
<text x="484" y="774">─</text>
<text x="494" y="774">─</text>
<text x="504" y="774">─</text>
<text x="514" y="774">─</text>
<text x="524" y="774">─</text>
<text x="534" y="774">─</text>
<text x="544" y="774">─</text>
<text x="554" y="774">─</text>
<text x="564" y="774">─</text>
<text x="574" y="774">─</text>
<text x="584" y="774">─</text>
<text x="594" y="774">─</text>
<text x="604" y="774">─</text>
<text x="614" y="774">─</text>
<text x="624" y="774">─</text>
<text x="634" y="774">─</text>
<text x="644" y="774">─</text>
<text x="654" y="774">─</text>
<text x="664" y="774">─</text>
<text x="674" y="774">┐</text>
<text x="34" y="794">│</text>
<text x="64" y="794">C</text>
<text x="74" y="794">D</text>
<text x="84" y="794">N</text>
<text x="104" y="794">與</text>
<text x="124" y="794">靜</text>
<text x="144" y="794">態</text>
<text x="164" y="794">資</text>
<text x="184" y="794">源</text>
<text x="674" y="794">│</text>
<text x="44" y="814">│</text>
<text x="674" y="814">│</text>
<text x="34" y="834">│</text>
<text x="64" y="834">用</text>
<text x="84" y="834">戶</text>
<text x="114" y="834">─</text>
<text x="124" y="834">─</text>
<text x="134" y="834">►</text>
<text x="154" y="834">C</text>
<text x="164" y="834">D</text>
<text x="174" y="834">N</text>
<text x="184" y="834">（</text>
<text x="204" y="834">命</text>
<text x="224" y="834">中</text>
<text x="244" y="834">）</text>
<text x="274" y="834">─</text>
<text x="284" y="834">─</text>
<text x="294" y="834">►</text>
<text x="314" y="834">直</text>
<text x="334" y="834">接</text>
<text x="354" y="834">返</text>
<text x="374" y="834">回</text>
<text x="394" y="834">靜</text>
<text x="414" y="834">態</text>
<text x="434" y="834">頁</text>
<text x="454" y="834">（</text>
<text x="474" y="834">不</text>
<text x="494" y="834">過</text>
<text x="514" y="834">業</text>
<text x="534" y="834">務</text>
<text x="554" y="834">層</text>
<text x="574" y="834">）</text>
<text x="674" y="834">│</text>
<text x="34" y="854">│</text>
<text x="114" y="854">└</text>
<text x="124" y="854">─</text>
<text x="134" y="854">─</text>
<text x="154" y="854">C</text>
<text x="164" y="854">D</text>
<text x="174" y="854">N</text>
<text x="184" y="854">（</text>
<text x="204" y="854">未</text>
<text x="224" y="854">命</text>
<text x="244" y="854">中</text>
<text x="264" y="854">）</text>
<text x="284" y="854">─</text>
<text x="294" y="854">─</text>
<text x="304" y="854">►</text>
<text x="324" y="854">回</text>
<text x="344" y="854">源</text>
<text x="374" y="854">N</text>
<text x="384" y="854">g</text>
<text x="394" y="854">i</text>
<text x="404" y="854">n</text>
<text x="414" y="854">x</text>
<text x="434" y="854">─</text>
<text x="444" y="854">─</text>
<text x="454" y="854">►</text>
<text x="474" y="854">快</text>
<text x="494" y="854">取</text>
<text x="674" y="854">│</text>
<text x="44" y="874">│</text>
<text x="674" y="874">│</text>
<text x="34" y="894">│</text>
<text x="64" y="894">秒</text>
<text x="84" y="894">殺</text>
<text x="104" y="894">頁</text>
<text x="124" y="894">面</text>
<text x="144" y="894">應</text>
<text x="174" y="894">1</text>
<text x="184" y="894">0</text>
<text x="194" y="894">0</text>
<text x="204" y="894">%</text>
<text x="224" y="894">靜</text>
<text x="244" y="894">態</text>
<text x="264" y="894">化</text>
<text x="284" y="894">：</text>
<text x="674" y="894">│</text>
<text x="34" y="914">│</text>
<text x="64" y="914">・</text>
<text x="84" y="914">商</text>
<text x="104" y="914">品</text>
<text x="124" y="914">詳</text>
<text x="144" y="914">情</text>
<text x="164" y="914">頁</text>
<text x="184" y="914">：</text>
<text x="204" y="914">提</text>
<text x="224" y="914">前</text>
<text x="244" y="914">生</text>
<text x="264" y="914">成</text>
<text x="294" y="914">H</text>
<text x="304" y="914">T</text>
<text x="314" y="914">M</text>
<text x="324" y="914">L</text>
<text x="674" y="914">│</text>
<text x="34" y="934">│</text>
<text x="64" y="934">・</text>
<text x="84" y="934">圖</text>
<text x="104" y="934">片</text>
<text x="124" y="934">/</text>
<text x="134" y="934">J</text>
<text x="144" y="934">S</text>
<text x="154" y="934">/</text>
<text x="164" y="934">C</text>
<text x="174" y="934">S</text>
<text x="184" y="934">S</text>
<text x="194" y="934">：</text>
<text x="214" y="934">C</text>
<text x="224" y="934">D</text>
<text x="234" y="934">N</text>
<text x="254" y="934">邊</text>
<text x="274" y="934">緣</text>
<text x="294" y="934">節</text>
<text x="314" y="934">點</text>
<text x="334" y="934">快</text>
<text x="354" y="934">取</text>
<text x="674" y="934">│</text>
<text x="34" y="954">│</text>
<text x="64" y="954">・</text>
<text x="84" y="954">倒</text>
<text x="104" y="954">計</text>
<text x="124" y="954">時</text>
<text x="144" y="954">：</text>
<text x="164" y="954">前</text>
<text x="184" y="954">端</text>
<text x="214" y="954">J</text>
<text x="224" y="954">S</text>
<text x="244" y="954">本</text>
<text x="264" y="954">地</text>
<text x="284" y="954">計</text>
<text x="304" y="954">算</text>
<text x="324" y="954">，</text>
<text x="344" y="954">不</text>
<text x="364" y="954">請</text>
<text x="384" y="954">求</text>
<text x="404" y="954">後</text>
<text x="424" y="954">端</text>
<text x="674" y="954">│</text>
<text x="34" y="974">└</text>
<text x="44" y="974">─</text>
<text x="54" y="974">─</text>
<text x="64" y="974">─</text>
<text x="74" y="974">─</text>
<text x="84" y="974">─</text>
<text x="94" y="974">─</text>
<text x="104" y="974">─</text>
<text x="114" y="974">─</text>
<text x="124" y="974">─</text>
<text x="134" y="974">─</text>
<text x="144" y="974">─</text>
<text x="154" y="974">─</text>
<text x="164" y="974">─</text>
<text x="174" y="974">─</text>
<text x="184" y="974">─</text>
<text x="194" y="974">─</text>
<text x="204" y="974">─</text>
<text x="214" y="974">─</text>
<text x="224" y="974">─</text>
<text x="234" y="974">─</text>
<text x="244" y="974">─</text>
<text x="254" y="974">─</text>
<text x="264" y="974">─</text>
<text x="274" y="974">─</text>
<text x="284" y="974">─</text>
<text x="294" y="974">─</text>
<text x="304" y="974">─</text>
<text x="314" y="974">─</text>
<text x="324" y="974">─</text>
<text x="334" y="974">─</text>
<text x="344" y="974">─</text>
<text x="354" y="974">─</text>
<text x="364" y="974">─</text>
<text x="374" y="974">─</text>
<text x="384" y="974">─</text>
<text x="394" y="974">─</text>
<text x="404" y="974">─</text>
<text x="414" y="974">─</text>
<text x="424" y="974">─</text>
<text x="434" y="974">─</text>
<text x="444" y="974">─</text>
<text x="454" y="974">─</text>
<text x="464" y="974">─</text>
<text x="474" y="974">─</text>
<text x="484" y="974">─</text>
<text x="494" y="974">─</text>
<text x="504" y="974">─</text>
<text x="514" y="974">─</text>
<text x="524" y="974">─</text>
<text x="534" y="974">─</text>
<text x="544" y="974">─</text>
<text x="554" y="974">─</text>
<text x="564" y="974">─</text>
<text x="574" y="974">─</text>
<text x="584" y="974">─</text>
<text x="594" y="974">─</text>
<text x="604" y="974">─</text>
<text x="614" y="974">─</text>
<text x="624" y="974">─</text>
<text x="634" y="974">─</text>
<text x="644" y="974">─</text>
<text x="654" y="974">─</text>
<text x="664" y="974">─</text>
<text x="674" y="974">┘</text>
<text x="34" y="1014">整</text>
<text x="54" y="1014">體</text>
<text x="74" y="1014">優</text>
<text x="94" y="1014">化</text>
<text x="114" y="1014">效</text>
<text x="134" y="1014">益</text>
<text x="154" y="1014">：</text>
<text x="34" y="1054">項</text>
<text x="54" y="1054">目</text>
<text x="174" y="1054">優</text>
<text x="194" y="1054">化</text>
<text x="214" y="1054">前</text>
<text x="294" y="1054">優</text>
<text x="314" y="1054">化</text>
<text x="334" y="1054">後</text>
<text x="34" y="1074">─</text>
<text x="44" y="1074">─</text>
<text x="54" y="1074">─</text>
<text x="64" y="1074">─</text>
<text x="74" y="1074">─</text>
<text x="84" y="1074">─</text>
<text x="94" y="1074">─</text>
<text x="104" y="1074">─</text>
<text x="114" y="1074">─</text>
<text x="124" y="1074">─</text>
<text x="134" y="1074">─</text>
<text x="144" y="1074">─</text>
<text x="154" y="1074">─</text>
<text x="164" y="1074">─</text>
<text x="174" y="1074">─</text>
<text x="184" y="1074">─</text>
<text x="194" y="1074">─</text>
<text x="204" y="1074">─</text>
<text x="214" y="1074">─</text>
<text x="224" y="1074">─</text>
<text x="234" y="1074">─</text>
<text x="244" y="1074">─</text>
<text x="254" y="1074">─</text>
<text x="264" y="1074">─</text>
<text x="274" y="1074">─</text>
<text x="284" y="1074">─</text>
<text x="294" y="1074">─</text>
<text x="304" y="1074">─</text>
<text x="314" y="1074">─</text>
<text x="324" y="1074">─</text>
<text x="334" y="1074">─</text>
<text x="344" y="1074">─</text>
<text x="34" y="1094">最</text>
<text x="54" y="1094">大</text>
<text x="84" y="1094">Q</text>
<text x="94" y="1094">P</text>
<text x="104" y="1094">S</text>
<text x="174" y="1094">1</text>
<text x="184" y="1094">萬</text>
<text x="294" y="1094">2</text>
<text x="304" y="1094">0</text>
<text x="314" y="1094">萬</text>
<text x="34" y="1114">P</text>
<text x="44" y="1114">9</text>
<text x="54" y="1114">9</text>
<text x="74" y="1114">延</text>
<text x="94" y="1114">遲</text>
<text x="174" y="1114">5</text>
<text x="184" y="1114">0</text>
<text x="194" y="1114">0</text>
<text x="204" y="1114">m</text>
<text x="214" y="1114">s</text>
<text x="294" y="1114">2</text>
<text x="304" y="1114">0</text>
<text x="314" y="1114">m</text>
<text x="324" y="1114">s</text>
<text x="34" y="1134">D</text>
<text x="44" y="1134">B</text>
<text x="64" y="1134">壓</text>
<text x="84" y="1134">力</text>
<text x="174" y="1134">1</text>
<text x="184" y="1134">0</text>
<text x="194" y="1134">0</text>
<text x="204" y="1134">%</text>
<text x="294" y="1134">1</text>
<text x="304" y="1134">0</text>
<text x="314" y="1134">%</text>
<text x="324" y="1134">（</text>
<text x="344" y="1134">M</text>
<text x="354" y="1134">Q</text>
<text x="374" y="1134">削</text>
<text x="394" y="1134">峰</text>
<text x="414" y="1134">）</text>
<text x="34" y="1154">C</text>
<text x="44" y="1154">P</text>
<text x="54" y="1154">U</text>
<text x="74" y="1154">使</text>
<text x="94" y="1154">用</text>
<text x="114" y="1154">率</text>
<text x="174" y="1154">9</text>
<text x="184" y="1154">0</text>
<text x="194" y="1154">%</text>
<text x="204" y="1154">（</text>
<text x="224" y="1154">白</text>
<text x="244" y="1154">旋</text>
<text x="264" y="1154">）</text>
<text x="294" y="1154">6</text>
<text x="304" y="1154">0</text>
<text x="314" y="1154">%</text>
<text x="324" y="1154">（</text>
<text x="344" y="1154">有</text>
<text x="364" y="1154">效</text>
<text x="384" y="1154">計</text>
<text x="404" y="1154">算</text>
<text x="424" y="1154">）</text>
</g>
</svg>
</div>
<p>OS 參數、連線池、TCP 調優、機房拓樸都影響上限。</p>
<pre><code class="language-text">User -&gt; Gateway -&gt; RateLimit -&gt; MQ -&gt; OrderSvc -&gt; Stock(Redis/DB)
</code></pre>
<h2 id="示意圖"><a class="header" href="#示意圖">示意圖</a></h2>
<pre><code class="language-text">Client -&gt; Gateway -&gt; RateLimiter -&gt; MQ -&gt; OrderWorker -&gt; RedisStock -&gt; DB
高峰流量先削峰，再異步消化
</code></pre>
<h2 id="跨語言完整範例"><a class="header" href="#跨語言完整範例">跨語言完整範例</a></h2>
<h3 id="c--秒殺核心原子庫存扣減--防重--令牌桶限流"><a class="header" href="#c--秒殺核心原子庫存扣減--防重--令牌桶限流">C — 秒殺核心：原子庫存扣減 + 防重 + 令牌桶限流</a></h3>
<pre><code class="language-c">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
#include &lt;stdatomic.h&gt;
#include &lt;pthread.h&gt;
#include &lt;time.h&gt;

#define MAX_USERS   100
#define INIT_STOCK  5

/* ── 令牌桶限流 ── */
typedef struct {
    atomic_int tokens;
    int capacity;
    pthread_mutex_t mu;
} TokenBucket;

void bucket_init(TokenBucket *b, int cap) {
    atomic_init(&amp;b-&gt;tokens, cap);
    b-&gt;capacity = cap;
    pthread_mutex_init(&amp;b-&gt;mu, NULL);
}

int bucket_take(TokenBucket *b) {
    int t = atomic_fetch_sub(&amp;b-&gt;tokens, 1);
    return t &gt; 0;
}

/* ── 防重（冪等）表 ── */
static int order_submitted[MAX_USERS];
static pthread_mutex_t idem_mu = PTHREAD_MUTEX_INITIALIZER;

int check_and_mark(int uid) {
    pthread_mutex_lock(&amp;idem_mu);
    int dup = order_submitted[uid];
    if (!dup) order_submitted[uid] = 1;
    pthread_mutex_unlock(&amp;idem_mu);
    return !dup;  /* 1: 首次, 0: 重複 */
}

/* ── 庫存原子扣減 ── */
static atomic_int stock = ATOMIC_VAR_INIT(INIT_STOCK);

int deduct_stock(void) {
    int cur = atomic_fetch_sub(&amp;stock, 1);
    if (cur &gt; 0) return 1;
    atomic_fetch_add(&amp;stock, 1);  /* 回滾 */
    return 0;
}

/* ── 秒殺主流程 ── */
typedef struct { int uid; TokenBucket *bucket; int *results; } Task;

void *seckill(void *arg) {
    Task *t = (Task *)arg;
    int uid = t-&gt;uid;
    /* 限流 */
    if (!bucket_take(t-&gt;bucket)) { t-&gt;results[uid] = -1; return NULL; }
    /* 防重 */
    if (!check_and_mark(uid)) { t-&gt;results[uid] = -2; return NULL; }
    /* 扣庫存 */
    t-&gt;results[uid] = deduct_stock() ? 1 : 0;
    return NULL;
}

int main(void) {
    TokenBucket bucket;
    bucket_init(&amp;bucket, 20);  /* 限流：每批最多 20 個請求 */

    int results[MAX_USERS] = {0};
    pthread_t tids[MAX_USERS];
    Task tasks[MAX_USERS];

    for (int i = 0; i &lt; MAX_USERS; i++) {
        tasks[i] = (Task){i, &amp;bucket, results};
        pthread_create(&amp;tids[i], NULL, seckill, &amp;tasks[i]);
    }
    for (int i = 0; i &lt; MAX_USERS; i++) pthread_join(tids[i], NULL);

    int success = 0;
    for (int i = 0; i &lt; MAX_USERS; i++) if (results[i] == 1) success++;
    printf("成功購買人數: %d (初始庫存 %d)\n", success, INIT_STOCK);
    printf("剩餘庫存: %d (應為 0)\n", atomic_load(&amp;stock));
    return 0;
}
</code></pre>
<h3 id="c--秒殺核心原子庫存--防重--令牌桶"><a class="header" href="#c--秒殺核心原子庫存--防重--令牌桶">C++ — 秒殺核心：原子庫存 + 防重 + 令牌桶</a></h3>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;atomic&gt;
#include &lt;thread&gt;
#include &lt;mutex&gt;
#include &lt;unordered_set&gt;
#include &lt;vector&gt;

class TokenBucket {
    std::atomic&lt;int&gt; tokens_;
public:
    TokenBucket(int cap) : tokens_(cap) {}
    bool take() {
        int t = tokens_.fetch_sub(1, std::memory_order_acq_rel);
        return t &gt; 0;
    }
};

class IdempotentGuard {
    std::unordered_set&lt;int&gt; seen_;
    std::mutex mu_;
public:
    bool mark_first(int uid) {
        std::lock_guard&lt;std::mutex&gt; lk(mu_);
        return seen_.insert(uid).second;
    }
};

class StockManager {
    std::atomic&lt;int&gt; stock_;
public:
    StockManager(int init) : stock_(init) {}
    bool deduct() {
        int cur = stock_.fetch_sub(1, std::memory_order_acq_rel);
        if (cur &gt; 0) return true;
        stock_.fetch_add(1, std::memory_order_acq_rel);  /* 回滾 */
        return false;
    }
    int remaining() const { return stock_.load(); }
};

int main() {
    const int USER_COUNT = 100;
    const int INIT_STOCK = 5;

    TokenBucket bucket(20);
    IdempotentGuard idem;
    StockManager stock(INIT_STOCK);
    std::atomic&lt;int&gt; success_count{0};

    auto seckill = [&amp;](int uid) {
        if (!bucket.take()) return;          /* 限流 */
        if (!idem.mark_first(uid)) return;   /* 防重 */
        if (stock.deduct()) {
            success_count.fetch_add(1, std::memory_order_relaxed);
        }
    };

    std::vector&lt;std::thread&gt; threads;
    for (int i = 0; i &lt; USER_COUNT; i++)
        threads.emplace_back(seckill, i);
    for (auto &amp;t : threads) t.join();

    std::cout &lt;&lt; "成功購買人數: " &lt;&lt; success_count.load()
              &lt;&lt; " (初始庫存 " &lt;&lt; INIT_STOCK &lt;&lt; ")\n";
    std::cout &lt;&lt; "剩餘庫存: " &lt;&lt; stock.remaining() &lt;&lt; " (應為 0)\n";
}
</code></pre>
<h3 id="rust--秒殺核心atomici32-原子庫存--hashset-防重"><a class="header" href="#rust--秒殺核心atomici32-原子庫存--hashset-防重">Rust — 秒殺核心：AtomicI32 原子庫存 + HashSet 防重</a></h3>
<pre><pre class="playground"><code class="language-rust">use std::collections::HashSet;
use std::sync::{Arc, Mutex, atomic::{AtomicI32, Ordering}};
use std::thread;

struct Seckill {
    stock: AtomicI32,
    seen: Mutex&lt;HashSet&lt;u32&gt;&gt;,
    tokens: AtomicI32,
}

impl Seckill {
    fn new(init_stock: i32, rate_limit: i32) -&gt; Self {
        Seckill {
            stock: AtomicI32::new(init_stock),
            seen: Mutex::new(HashSet::new()),
            tokens: AtomicI32::new(rate_limit),
        }
    }
    fn try_buy(&amp;self, uid: u32) -&gt; &amp;'static str {
        if self.tokens.fetch_sub(1, Ordering::AcqRel) &lt;= 0 {
            self.tokens.fetch_add(1, Ordering::AcqRel);
            return "限流拒絕";
        }
        {
            let mut seen = self.seen.lock().unwrap();
            if !seen.insert(uid) { return "重複下單"; }
        }
        let cur = self.stock.fetch_sub(1, Ordering::AcqRel);
        if cur &gt; 0 { "購買成功" } else {
            self.stock.fetch_add(1, Ordering::AcqRel);
            "售罄"
        }
    }
}

fn main() {
    let sk = Arc::new(Seckill::new(5, 20));
    let mut handles = vec![];
    for uid in 0..100u32 {
        let sk = Arc::clone(&amp;sk);
        handles.push(thread::spawn(move || {
            let result = sk.try_buy(uid);
            if result == "購買成功" {
                println!("uid={} 購買成功", uid);
            }
        }));
    }
    for h in handles { h.join().unwrap(); }
    println!("剩餘庫存: {} (應為 0)", sk.stock.load(Ordering::SeqCst));
}</code></pre></pre>
<h3 id="go--秒殺核心syncatomic-庫存--syncmap-防重"><a class="header" href="#go--秒殺核心syncatomic-庫存--syncmap-防重">Go — 秒殺核心：sync/atomic 庫存 + sync.Map 防重</a></h3>
<pre><code class="language-go">package main

import (
    "fmt"
    "sync"
    "sync/atomic"
)

var (
    stock      int64 = 5
    tokens     int64 = 20
    orderSeen  sync.Map
    successCnt int64
)

func rateLimitPass() bool {
    t := atomic.AddInt64(&amp;tokens, -1)
    return t &gt;= 0
}

func markFirst(uid int) bool {
    _, loaded := orderSeen.LoadOrStore(uid, struct{}{})
    return !loaded
}

func deductStock() bool {
    cur := atomic.AddInt64(&amp;stock, -1)
    if cur &gt;= 0 {
        return true
    }
    atomic.AddInt64(&amp;stock, 1) // 回滾
    return false
}

func seckill(uid int, wg *sync.WaitGroup) {
    defer wg.Done()
    if !rateLimitPass() {
        return
    }
    if !markFirst(uid) {
        return
    }
    if deductStock() {
        atomic.AddInt64(&amp;successCnt, 1)
    }
}

func main() {
    var wg sync.WaitGroup
    for i := 0; i &lt; 100; i++ {
        wg.Add(1)
        go seckill(i, &amp;wg)
    }
    wg.Wait()
    fmt.Printf("成功購買人數: %d (初始庫存 5)\n", atomic.LoadInt64(&amp;successCnt))
    fmt.Printf("剩餘庫存: %d (應為 0)\n", atomic.LoadInt64(&amp;stock))
}
</code></pre>
<h3 id="python--秒殺核心mockredis-lua-原子扣減--setnx-防重--限流"><a class="header" href="#python--秒殺核心mockredis-lua-原子扣減--setnx-防重--限流">Python — 秒殺核心：MockRedis Lua 原子扣減 + SETNX 防重 + 限流</a></h3>
<pre><code class="language-python">"""Chapter 20: seckill core — atomic stock deduct + idempotent + rate limit."""
import threading
import time


class MockRedis:
    """模擬 Redis 的原子操作：DECR（Lua）與 SETNX。"""

    def __init__(self):
        self._data = {}
        self._mu = threading.Lock()

    def set(self, key: str, value):
        with self._mu:
            self._data[key] = value

    def setnx(self, key: str, value) -&gt; bool:
        """SET key value NX → True: 首次設置成功"""
        with self._mu:
            if key in self._data:
                return False
            self._data[key] = value
            return True

    def lua_deduct_stock(self, key: str) -&gt; bool:
        """原子：DECR key → if &lt; 0: INCR (回滾) return False"""
        with self._mu:
            cur = self._data.get(key, 0)
            if cur &lt;= 0:
                return False
            self._data[key] = cur - 1
            return True

    def get(self, key: str):
        with self._mu:
            return self._data.get(key)


class TokenBucket:
    def __init__(self, capacity: int, refill_per_sec: int):
        self._tokens = capacity
        self._capacity = capacity
        self._refill_rate = refill_per_sec
        self._last_refill = time.monotonic()
        self._mu = threading.Lock()

    def take(self) -&gt; bool:
        with self._mu:
            now = time.monotonic()
            elapsed = now - self._last_refill
            self._tokens = min(
                self._capacity,
                self._tokens + int(elapsed * self._refill_rate)
            )
            self._last_refill = now
            if self._tokens &gt; 0:
                self._tokens -= 1
                return True
            return False


def run_seckill(user_count: int = 100, init_stock: int = 5):
    redis = MockRedis()
    bucket = TokenBucket(capacity=20, refill_per_sec=10)

    redis.set("stock:sku:001", init_stock)

    results = {"success": 0, "sold_out": 0, "limited": 0, "dup": 0}
    results_lock = threading.Lock()

    def buyer(uid: int):
        # 步驟 1：限流
        if not bucket.take():
            with results_lock:
                results["limited"] += 1
            return

        # 步驟 2：防重下單（SETNX）
        order_key = f"order:{uid}:sku:001"
        if not redis.setnx(order_key, "1"):
            with results_lock:
                results["dup"] += 1
            return

        # 步驟 3：Lua 原子扣庫存
        if redis.lua_deduct_stock("stock:sku:001"):
            with results_lock:
                results["success"] += 1
        else:
            with results_lock:
                results["sold_out"] += 1

    threads = [threading.Thread(target=buyer, args=(uid,)) for uid in range(user_count)]
    for t in threads:
        t.start()
    for t in threads:
        t.join()

    remaining = redis.get("stock:sku:001")
    print(f"初始庫存: {init_stock}")
    print(f"成功購買: {results['success']} (應 &lt;= {init_stock})")
    print(f"售罄拒絕: {results['sold_out']}")
    print(f"限流拒絕: {results['limited']}")
    print(f"重複下單: {results['dup']}")
    print(f"剩餘庫存: {remaining} (應為 0 或正數，不能為負)")
    assert results["success"] &lt;= init_stock, "超賣！"
    assert remaining &gt;= 0, "庫存為負數！"
    print("通過：原子扣減防止超賣，SETNX 防止重複下單")


if __name__ == "__main__":
    run_seckill(user_count=100, init_stock=5)
</code></pre>
<h2 id="完整專案級範例python"><a class="header" href="#完整專案級範例python">完整專案級範例（Python）</a></h2>
<p>檔案：<code>examples/python/ch20.py</code></p>
<pre><code class="language-bash">python3 examples/python/ch20.py
</code></pre>
<pre><code class="language-python">"""Chapter 20: seckill pipeline demo."""
import queue
import threading

stock = 5
q: queue.Queue[str] = queue.Queue()
mu = threading.Lock()


def worker():
    global stock
    while True:
        user = q.get()
        if user == "STOP":
            return
        with mu:
            if stock &gt; 0:
                stock -= 1
                print(user, "success, left", stock)
            else:
                print(user, "sold out")


if __name__ == "__main__":
    t = threading.Thread(target=worker)
    t.start()
    for i in range(10):
        q.put(f"u{i}")
    q.put("STOP")
    t.join()
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="ch19-distributed-lock.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="appendix-language-map.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="ch19-distributed-lock.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="appendix-language-map.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
