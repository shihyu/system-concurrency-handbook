<!DOCTYPE HTML>
<html lang="zh-TW" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>第8章 AQS 佇列同步器 - 高並發編程通用概念（跨 Java/C++/Rust/Go）</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/ascii-diagram.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">高並發編程通用概念（跨 Java/C++/Rust/Go）</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="第8章-aqs-佇列同步器"><a class="header" href="#第8章-aqs-佇列同步器">第8章 AQS 佇列同步器</a></h1>
<h2 id="81-aqs-核心對應-811812"><a class="header" href="#81-aqs-核心對應-811812">8.1 AQS 核心（對應 8.1.1~8.1.2）</a></h2>
<!-- subsection-diagram -->
<h3 id="本小節示意圖"><a class="header" href="#本小節示意圖">本小節示意圖</a></h3>
<div class="ascii-svg-wrap">
<svg class="ascii-svg" xmlns="http://www.w3.org/2000/svg" width="628" height="1044" viewBox="0 0 628 1044" role="img" aria-label="ASCII diagram">
<g fill="currentColor" font-family="Noto Sans Mono CJK TC, Noto Sans Mono CJK SC, Noto Sans Mono CJK JP, Sarasa Mono TC, Cascadia Mono, JetBrains Mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace" font-size="16" text-rendering="geometricPrecision" xml:space="preserve">
<text x="34" y="14">A</text>
<text x="44" y="14">Q</text>
<text x="54" y="14">S</text>
<text x="64" y="14">（</text>
<text x="84" y="14">A</text>
<text x="94" y="14">b</text>
<text x="104" y="14">s</text>
<text x="114" y="14">t</text>
<text x="124" y="14">r</text>
<text x="134" y="14">a</text>
<text x="144" y="14">c</text>
<text x="154" y="14">t</text>
<text x="164" y="14">Q</text>
<text x="174" y="14">u</text>
<text x="184" y="14">e</text>
<text x="194" y="14">u</text>
<text x="204" y="14">e</text>
<text x="214" y="14">d</text>
<text x="224" y="14">S</text>
<text x="234" y="14">y</text>
<text x="244" y="14">n</text>
<text x="254" y="14">c</text>
<text x="264" y="14">h</text>
<text x="274" y="14">r</text>
<text x="284" y="14">o</text>
<text x="294" y="14">n</text>
<text x="304" y="14">i</text>
<text x="314" y="14">z</text>
<text x="324" y="14">e</text>
<text x="334" y="14">r</text>
<text x="344" y="14">）</text>
<text x="364" y="14">核</text>
<text x="384" y="14">心</text>
<text x="404" y="14">結</text>
<text x="424" y="14">構</text>
<text x="34" y="34">═</text>
<text x="44" y="34">═</text>
<text x="54" y="34">═</text>
<text x="64" y="34">═</text>
<text x="74" y="34">═</text>
<text x="84" y="34">═</text>
<text x="94" y="34">═</text>
<text x="104" y="34">═</text>
<text x="114" y="34">═</text>
<text x="124" y="34">═</text>
<text x="134" y="34">═</text>
<text x="144" y="34">═</text>
<text x="154" y="34">═</text>
<text x="164" y="34">═</text>
<text x="174" y="34">═</text>
<text x="184" y="34">═</text>
<text x="194" y="34">═</text>
<text x="204" y="34">═</text>
<text x="214" y="34">═</text>
<text x="224" y="34">═</text>
<text x="234" y="34">═</text>
<text x="244" y="34">═</text>
<text x="254" y="34">═</text>
<text x="264" y="34">═</text>
<text x="274" y="34">═</text>
<text x="284" y="34">═</text>
<text x="294" y="34">═</text>
<text x="304" y="34">═</text>
<text x="314" y="34">═</text>
<text x="324" y="34">═</text>
<text x="334" y="34">═</text>
<text x="344" y="34">═</text>
<text x="354" y="34">═</text>
<text x="364" y="34">═</text>
<text x="374" y="34">═</text>
<text x="384" y="34">═</text>
<text x="394" y="34">═</text>
<text x="404" y="34">═</text>
<text x="414" y="34">═</text>
<text x="424" y="34">═</text>
<text x="434" y="34">═</text>
<text x="444" y="34">═</text>
<text x="454" y="34">═</text>
<text x="464" y="34">═</text>
<text x="474" y="34">═</text>
<text x="484" y="34">═</text>
<text x="494" y="34">═</text>
<text x="504" y="34">═</text>
<text x="514" y="34">═</text>
<text x="524" y="34">═</text>
<text x="534" y="34">═</text>
<text x="544" y="34">═</text>
<text x="554" y="34">═</text>
<text x="564" y="34">═</text>
<text x="574" y="34">═</text>
<text x="584" y="34">═</text>
<text x="34" y="74">A</text>
<text x="44" y="74">Q</text>
<text x="54" y="74">S</text>
<text x="74" y="74">由</text>
<text x="94" y="74">兩</text>
<text x="114" y="74">個</text>
<text x="134" y="74">核</text>
<text x="154" y="74">心</text>
<text x="174" y="74">元</text>
<text x="194" y="74">件</text>
<text x="214" y="74">組</text>
<text x="234" y="74">成</text>
<text x="254" y="74">：</text>
<text x="34" y="114">┌</text>
<text x="44" y="114">─</text>
<text x="54" y="114">─</text>
<text x="64" y="114">─</text>
<text x="74" y="114">─</text>
<text x="84" y="114">─</text>
<text x="94" y="114">─</text>
<text x="104" y="114">─</text>
<text x="114" y="114">─</text>
<text x="124" y="114">─</text>
<text x="134" y="114">─</text>
<text x="144" y="114">─</text>
<text x="154" y="114">─</text>
<text x="164" y="114">─</text>
<text x="174" y="114">─</text>
<text x="184" y="114">─</text>
<text x="194" y="114">─</text>
<text x="204" y="114">─</text>
<text x="214" y="114">─</text>
<text x="224" y="114">─</text>
<text x="234" y="114">─</text>
<text x="244" y="114">─</text>
<text x="254" y="114">─</text>
<text x="264" y="114">─</text>
<text x="274" y="114">─</text>
<text x="284" y="114">─</text>
<text x="294" y="114">─</text>
<text x="304" y="114">─</text>
<text x="314" y="114">─</text>
<text x="324" y="114">─</text>
<text x="334" y="114">─</text>
<text x="344" y="114">─</text>
<text x="354" y="114">─</text>
<text x="364" y="114">─</text>
<text x="374" y="114">─</text>
<text x="384" y="114">─</text>
<text x="394" y="114">─</text>
<text x="404" y="114">─</text>
<text x="414" y="114">─</text>
<text x="424" y="114">─</text>
<text x="434" y="114">─</text>
<text x="444" y="114">─</text>
<text x="454" y="114">─</text>
<text x="464" y="114">─</text>
<text x="474" y="114">─</text>
<text x="484" y="114">─</text>
<text x="494" y="114">─</text>
<text x="504" y="114">─</text>
<text x="514" y="114">─</text>
<text x="524" y="114">─</text>
<text x="534" y="114">─</text>
<text x="544" y="114">─</text>
<text x="554" y="114">─</text>
<text x="564" y="114">─</text>
<text x="574" y="114">─</text>
<text x="584" y="114">─</text>
<text x="594" y="114">─</text>
<text x="604" y="114">┐</text>
<text x="34" y="134">│</text>
<text x="244" y="134">A</text>
<text x="254" y="134">Q</text>
<text x="264" y="134">S</text>
<text x="284" y="134">物</text>
<text x="304" y="134">件</text>
<text x="604" y="134">│</text>
<text x="64" y="154">│</text>
<text x="604" y="154">│</text>
<text x="34" y="174">│</text>
<text x="64" y="174">s</text>
<text x="74" y="174">t</text>
<text x="84" y="174">a</text>
<text x="94" y="174">t</text>
<text x="104" y="174">e</text>
<text x="114" y="174">:</text>
<text x="134" y="174">i</text>
<text x="144" y="174">n</text>
<text x="154" y="174">t</text>
<text x="174" y="174">=</text>
<text x="194" y="174">0</text>
<text x="234" y="174">←</text>
<text x="254" y="174">核</text>
<text x="274" y="174">心</text>
<text x="294" y="174">同</text>
<text x="314" y="174">步</text>
<text x="334" y="174">狀</text>
<text x="354" y="174">態</text>
<text x="374" y="174">（</text>
<text x="394" y="174">C</text>
<text x="404" y="174">A</text>
<text x="414" y="174">S</text>
<text x="434" y="174">競</text>
<text x="454" y="174">爭</text>
<text x="474" y="174">）</text>
<text x="604" y="174">│</text>
<text x="34" y="194">│</text>
<text x="64" y="194">h</text>
<text x="74" y="194">e</text>
<text x="84" y="194">a</text>
<text x="94" y="194">d</text>
<text x="104" y="194">:</text>
<text x="124" y="194">N</text>
<text x="134" y="194">o</text>
<text x="144" y="194">d</text>
<text x="154" y="194">e</text>
<text x="164" y="194">*</text>
<text x="194" y="194">─</text>
<text x="204" y="194">─</text>
<text x="214" y="194">─</text>
<text x="224" y="194">─</text>
<text x="234" y="194">─</text>
<text x="244" y="194">─</text>
<text x="254" y="194">─</text>
<text x="264" y="194">─</text>
<text x="274" y="194">─</text>
<text x="284" y="194">─</text>
<text x="294" y="194">─</text>
<text x="304" y="194">─</text>
<text x="314" y="194">─</text>
<text x="324" y="194">─</text>
<text x="334" y="194">─</text>
<text x="344" y="194">─</text>
<text x="354" y="194">─</text>
<text x="364" y="194">─</text>
<text x="374" y="194">─</text>
<text x="384" y="194">─</text>
<text x="394" y="194">─</text>
<text x="404" y="194">─</text>
<text x="414" y="194">─</text>
<text x="424" y="194">─</text>
<text x="434" y="194">─</text>
<text x="444" y="194">─</text>
<text x="454" y="194">─</text>
<text x="464" y="194">─</text>
<text x="474" y="194">─</text>
<text x="484" y="194">─</text>
<text x="494" y="194">─</text>
<text x="504" y="194">─</text>
<text x="514" y="194">─</text>
<text x="524" y="194">─</text>
<text x="534" y="194">─</text>
<text x="544" y="194">─</text>
<text x="554" y="194">─</text>
<text x="564" y="194">┐</text>
<text x="604" y="194">│</text>
<text x="34" y="214">│</text>
<text x="64" y="214">t</text>
<text x="74" y="214">a</text>
<text x="84" y="214">i</text>
<text x="94" y="214">l</text>
<text x="104" y="214">:</text>
<text x="124" y="214">N</text>
<text x="134" y="214">o</text>
<text x="144" y="214">d</text>
<text x="154" y="214">e</text>
<text x="164" y="214">*</text>
<text x="194" y="214">─</text>
<text x="204" y="214">─</text>
<text x="214" y="214">─</text>
<text x="224" y="214">─</text>
<text x="234" y="214">─</text>
<text x="244" y="214">─</text>
<text x="254" y="214">─</text>
<text x="264" y="214">─</text>
<text x="274" y="214">─</text>
<text x="284" y="214">─</text>
<text x="294" y="214">─</text>
<text x="304" y="214">─</text>
<text x="314" y="214">─</text>
<text x="324" y="214">─</text>
<text x="334" y="214">─</text>
<text x="344" y="214">─</text>
<text x="354" y="214">─</text>
<text x="364" y="214">─</text>
<text x="374" y="214">─</text>
<text x="384" y="214">─</text>
<text x="394" y="214">─</text>
<text x="404" y="214">─</text>
<text x="414" y="214">─</text>
<text x="424" y="214">─</text>
<text x="434" y="214">─</text>
<text x="444" y="214">─</text>
<text x="454" y="214">─</text>
<text x="464" y="214">─</text>
<text x="474" y="214">─</text>
<text x="484" y="214">─</text>
<text x="494" y="214">─</text>
<text x="504" y="214">─</text>
<text x="514" y="214">─</text>
<text x="524" y="214">─</text>
<text x="534" y="214">┼</text>
<text x="544" y="214">─</text>
<text x="554" y="214">─</text>
<text x="564" y="214">─</text>
<text x="574" y="214">─</text>
<text x="584" y="214">┐</text>
<text x="604" y="214">│</text>
<text x="34" y="234">└</text>
<text x="44" y="234">─</text>
<text x="54" y="234">─</text>
<text x="64" y="234">─</text>
<text x="74" y="234">─</text>
<text x="84" y="234">─</text>
<text x="94" y="234">─</text>
<text x="104" y="234">─</text>
<text x="114" y="234">─</text>
<text x="124" y="234">─</text>
<text x="134" y="234">─</text>
<text x="144" y="234">─</text>
<text x="154" y="234">─</text>
<text x="164" y="234">─</text>
<text x="174" y="234">─</text>
<text x="184" y="234">─</text>
<text x="194" y="234">─</text>
<text x="204" y="234">─</text>
<text x="214" y="234">─</text>
<text x="224" y="234">─</text>
<text x="234" y="234">─</text>
<text x="244" y="234">─</text>
<text x="254" y="234">─</text>
<text x="264" y="234">─</text>
<text x="274" y="234">─</text>
<text x="284" y="234">─</text>
<text x="294" y="234">─</text>
<text x="304" y="234">─</text>
<text x="314" y="234">─</text>
<text x="324" y="234">─</text>
<text x="334" y="234">─</text>
<text x="344" y="234">─</text>
<text x="354" y="234">─</text>
<text x="364" y="234">─</text>
<text x="374" y="234">─</text>
<text x="384" y="234">─</text>
<text x="394" y="234">─</text>
<text x="404" y="234">─</text>
<text x="414" y="234">─</text>
<text x="424" y="234">─</text>
<text x="434" y="234">─</text>
<text x="444" y="234">─</text>
<text x="454" y="234">─</text>
<text x="464" y="234">─</text>
<text x="474" y="234">─</text>
<text x="484" y="234">─</text>
<text x="494" y="234">─</text>
<text x="504" y="234">─</text>
<text x="514" y="234">─</text>
<text x="524" y="234">─</text>
<text x="534" y="234">─</text>
<text x="544" y="234">┼</text>
<text x="554" y="234">─</text>
<text x="564" y="234">┼</text>
<text x="574" y="234">─</text>
<text x="584" y="234">─</text>
<text x="594" y="234">─</text>
<text x="604" y="234">┘</text>
<text x="584" y="254">│</text>
<text x="604" y="254">│</text>
<text x="34" y="274">C</text>
<text x="44" y="274">L</text>
<text x="54" y="274">H</text>
<text x="74" y="274">雙</text>
<text x="94" y="274">向</text>
<text x="114" y="274">等</text>
<text x="134" y="274">待</text>
<text x="154" y="274">佇</text>
<text x="174" y="274">列</text>
<text x="194" y="274">：</text>
<text x="584" y="274">│</text>
<text x="604" y="274">│</text>
<text x="34" y="294">┌</text>
<text x="44" y="294">─</text>
<text x="54" y="294">─</text>
<text x="64" y="294">─</text>
<text x="74" y="294">─</text>
<text x="84" y="294">─</text>
<text x="94" y="294">─</text>
<text x="104" y="294">─</text>
<text x="114" y="294">─</text>
<text x="124" y="294">─</text>
<text x="134" y="294">─</text>
<text x="144" y="294">┐</text>
<text x="194" y="294">┌</text>
<text x="204" y="294">─</text>
<text x="214" y="294">─</text>
<text x="224" y="294">─</text>
<text x="234" y="294">─</text>
<text x="244" y="294">─</text>
<text x="254" y="294">─</text>
<text x="264" y="294">─</text>
<text x="274" y="294">─</text>
<text x="284" y="294">─</text>
<text x="294" y="294">─</text>
<text x="304" y="294">─</text>
<text x="314" y="294">─</text>
<text x="324" y="294">─</text>
<text x="334" y="294">─</text>
<text x="344" y="294">┐</text>
<text x="394" y="294">┌</text>
<text x="404" y="294">─</text>
<text x="414" y="294">─</text>
<text x="424" y="294">─</text>
<text x="434" y="294">─</text>
<text x="444" y="294">─</text>
<text x="454" y="294">─</text>
<text x="464" y="294">─</text>
<text x="474" y="294">─</text>
<text x="484" y="294">─</text>
<text x="494" y="294">─</text>
<text x="504" y="294">─</text>
<text x="514" y="294">─</text>
<text x="524" y="294">─</text>
<text x="534" y="294">─</text>
<text x="544" y="294">─</text>
<text x="554" y="294">─</text>
<text x="564" y="294">─</text>
<text x="574" y="294">─</text>
<text x="584" y="294">┐</text>
<text x="604" y="294">│</text>
<text x="34" y="314">│</text>
<text x="64" y="314">h</text>
<text x="74" y="314">e</text>
<text x="84" y="314">a</text>
<text x="94" y="314">d</text>
<text x="144" y="314">│</text>
<text x="194" y="314">│</text>
<text x="234" y="314">N</text>
<text x="244" y="314">o</text>
<text x="254" y="314">d</text>
<text x="264" y="314">e</text>
<text x="274" y="314">(</text>
<text x="284" y="314">T</text>
<text x="294" y="314">2</text>
<text x="304" y="314">)</text>
<text x="344" y="314">│</text>
<text x="394" y="314">│</text>
<text x="434" y="314">N</text>
<text x="444" y="314">o</text>
<text x="454" y="314">d</text>
<text x="464" y="314">e</text>
<text x="474" y="314">(</text>
<text x="484" y="314">T</text>
<text x="494" y="314">3</text>
<text x="504" y="314">)</text>
<text x="584" y="314">│</text>
<text x="604" y="314">│</text>
<text x="34" y="334">│</text>
<text x="54" y="334">(</text>
<text x="64" y="334">d</text>
<text x="74" y="334">u</text>
<text x="84" y="334">m</text>
<text x="94" y="334">m</text>
<text x="104" y="334">y</text>
<text x="114" y="334">)</text>
<text x="144" y="334">│</text>
<text x="154" y="334">◄</text>
<text x="164" y="334">─</text>
<text x="174" y="334">─</text>
<text x="184" y="334">►</text>
<text x="194" y="334">│</text>
<text x="224" y="334">w</text>
<text x="234" y="334">a</text>
<text x="244" y="334">i</text>
<text x="254" y="334">t</text>
<text x="264" y="334">S</text>
<text x="274" y="334">t</text>
<text x="284" y="334">a</text>
<text x="294" y="334">t</text>
<text x="304" y="334">u</text>
<text x="314" y="334">s</text>
<text x="344" y="334">│</text>
<text x="354" y="334">◄</text>
<text x="364" y="334">─</text>
<text x="374" y="334">─</text>
<text x="384" y="334">►</text>
<text x="394" y="334">│</text>
<text x="424" y="334">w</text>
<text x="434" y="334">a</text>
<text x="444" y="334">i</text>
<text x="454" y="334">t</text>
<text x="464" y="334">S</text>
<text x="474" y="334">t</text>
<text x="484" y="334">a</text>
<text x="494" y="334">t</text>
<text x="504" y="334">u</text>
<text x="514" y="334">s</text>
<text x="544" y="334">│</text>
<text x="554" y="334">◄</text>
<text x="604" y="334">┘</text>
<text x="34" y="354">│</text>
<text x="64" y="354">N</text>
<text x="74" y="354">o</text>
<text x="84" y="354">d</text>
<text x="94" y="354">e</text>
<text x="144" y="354">│</text>
<text x="194" y="354">│</text>
<text x="224" y="354">=</text>
<text x="244" y="354">S</text>
<text x="254" y="354">I</text>
<text x="264" y="354">G</text>
<text x="274" y="354">N</text>
<text x="284" y="354">A</text>
<text x="294" y="354">L</text>
<text x="344" y="354">│</text>
<text x="394" y="354">│</text>
<text x="424" y="354">=</text>
<text x="444" y="354">S</text>
<text x="454" y="354">I</text>
<text x="464" y="354">G</text>
<text x="474" y="354">N</text>
<text x="484" y="354">A</text>
<text x="494" y="354">L</text>
<text x="604" y="354">│</text>
<text x="34" y="374">│</text>
<text x="144" y="374">│</text>
<text x="194" y="374">│</text>
<text x="224" y="374">t</text>
<text x="234" y="374">h</text>
<text x="244" y="374">r</text>
<text x="254" y="374">e</text>
<text x="264" y="374">a</text>
<text x="274" y="374">d</text>
<text x="284" y="374">=</text>
<text x="294" y="374">T</text>
<text x="304" y="374">2</text>
<text x="344" y="374">│</text>
<text x="394" y="374">│</text>
<text x="424" y="374">t</text>
<text x="434" y="374">h</text>
<text x="444" y="374">r</text>
<text x="454" y="374">e</text>
<text x="464" y="374">a</text>
<text x="474" y="374">d</text>
<text x="484" y="374">=</text>
<text x="494" y="374">T</text>
<text x="504" y="374">3</text>
<text x="604" y="374">│</text>
<text x="34" y="394">└</text>
<text x="44" y="394">─</text>
<text x="54" y="394">─</text>
<text x="64" y="394">─</text>
<text x="74" y="394">─</text>
<text x="84" y="394">─</text>
<text x="94" y="394">─</text>
<text x="104" y="394">─</text>
<text x="114" y="394">─</text>
<text x="124" y="394">─</text>
<text x="134" y="394">─</text>
<text x="144" y="394">┘</text>
<text x="194" y="394">└</text>
<text x="204" y="394">─</text>
<text x="214" y="394">─</text>
<text x="224" y="394">─</text>
<text x="234" y="394">─</text>
<text x="244" y="394">─</text>
<text x="254" y="394">─</text>
<text x="264" y="394">─</text>
<text x="274" y="394">─</text>
<text x="284" y="394">─</text>
<text x="294" y="394">─</text>
<text x="304" y="394">─</text>
<text x="314" y="394">─</text>
<text x="324" y="394">─</text>
<text x="334" y="394">─</text>
<text x="344" y="394">┘</text>
<text x="394" y="394">└</text>
<text x="404" y="394">─</text>
<text x="414" y="394">─</text>
<text x="424" y="394">─</text>
<text x="434" y="394">─</text>
<text x="444" y="394">─</text>
<text x="454" y="394">─</text>
<text x="464" y="394">┬</text>
<text x="474" y="394">─</text>
<text x="484" y="394">─</text>
<text x="494" y="394">─</text>
<text x="504" y="394">─</text>
<text x="514" y="394">─</text>
<text x="524" y="394">─</text>
<text x="534" y="394">─</text>
<text x="544" y="394">─</text>
<text x="554" y="394">─</text>
<text x="564" y="394">─</text>
<text x="574" y="394">─</text>
<text x="584" y="394">─</text>
<text x="594" y="394">─</text>
<text x="604" y="394">┘</text>
<text x="604" y="414">│</text>
<text x="444" y="434">t</text>
<text x="454" y="434">a</text>
<text x="464" y="434">i</text>
<text x="474" y="434">l</text>
<text x="494" y="434">◄</text>
<text x="504" y="434">─</text>
<text x="514" y="434">─</text>
<text x="534" y="434">最</text>
<text x="554" y="434">後</text>
<text x="574" y="434">入</text>
<text x="594" y="434">隊</text>
<text x="34" y="474">獨</text>
<text x="54" y="474">占</text>
<text x="74" y="474">模</text>
<text x="94" y="474">式</text>
<text x="124" y="474">a</text>
<text x="134" y="474">c</text>
<text x="144" y="474">q</text>
<text x="154" y="474">u</text>
<text x="164" y="474">i</text>
<text x="174" y="474">r</text>
<text x="184" y="474">e</text>
<text x="204" y="474">流</text>
<text x="224" y="474">程</text>
<text x="244" y="474">（</text>
<text x="264" y="474">以</text>
<text x="294" y="474">R</text>
<text x="304" y="474">e</text>
<text x="314" y="474">e</text>
<text x="324" y="474">n</text>
<text x="334" y="474">t</text>
<text x="344" y="474">r</text>
<text x="354" y="474">a</text>
<text x="364" y="474">n</text>
<text x="374" y="474">t</text>
<text x="384" y="474">L</text>
<text x="394" y="474">o</text>
<text x="404" y="474">c</text>
<text x="414" y="474">k</text>
<text x="424" y="474">.</text>
<text x="434" y="474">l</text>
<text x="444" y="474">o</text>
<text x="454" y="474">c</text>
<text x="464" y="474">k</text>
<text x="484" y="474">為</text>
<text x="504" y="474">例</text>
<text x="524" y="474">）</text>
<text x="544" y="474">：</text>
<text x="34" y="494">┌</text>
<text x="44" y="494">─</text>
<text x="54" y="494">─</text>
<text x="64" y="494">─</text>
<text x="74" y="494">─</text>
<text x="84" y="494">─</text>
<text x="94" y="494">─</text>
<text x="104" y="494">─</text>
<text x="114" y="494">─</text>
<text x="124" y="494">─</text>
<text x="134" y="494">─</text>
<text x="144" y="494">─</text>
<text x="154" y="494">─</text>
<text x="164" y="494">─</text>
<text x="174" y="494">─</text>
<text x="184" y="494">─</text>
<text x="194" y="494">─</text>
<text x="204" y="494">─</text>
<text x="214" y="494">─</text>
<text x="224" y="494">─</text>
<text x="234" y="494">─</text>
<text x="244" y="494">─</text>
<text x="254" y="494">─</text>
<text x="264" y="494">─</text>
<text x="274" y="494">─</text>
<text x="284" y="494">─</text>
<text x="294" y="494">─</text>
<text x="304" y="494">─</text>
<text x="314" y="494">─</text>
<text x="324" y="494">─</text>
<text x="334" y="494">─</text>
<text x="344" y="494">─</text>
<text x="354" y="494">─</text>
<text x="364" y="494">─</text>
<text x="374" y="494">─</text>
<text x="384" y="494">─</text>
<text x="394" y="494">─</text>
<text x="404" y="494">─</text>
<text x="414" y="494">─</text>
<text x="424" y="494">─</text>
<text x="434" y="494">─</text>
<text x="444" y="494">─</text>
<text x="454" y="494">─</text>
<text x="464" y="494">─</text>
<text x="474" y="494">─</text>
<text x="484" y="494">─</text>
<text x="494" y="494">─</text>
<text x="504" y="494">─</text>
<text x="514" y="494">─</text>
<text x="524" y="494">─</text>
<text x="534" y="494">─</text>
<text x="544" y="494">─</text>
<text x="554" y="494">─</text>
<text x="564" y="494">─</text>
<text x="574" y="494">─</text>
<text x="584" y="494">─</text>
<text x="594" y="494">─</text>
<text x="604" y="494">┐</text>
<text x="64" y="514">│</text>
<text x="604" y="514">│</text>
<text x="34" y="534">│</text>
<text x="64" y="534">T</text>
<text x="74" y="534">h</text>
<text x="84" y="534">r</text>
<text x="94" y="534">e</text>
<text x="104" y="534">a</text>
<text x="114" y="534">d</text>
<text x="134" y="534">呼</text>
<text x="154" y="534">叫</text>
<text x="184" y="534">a</text>
<text x="194" y="534">c</text>
<text x="204" y="534">q</text>
<text x="214" y="534">u</text>
<text x="224" y="534">i</text>
<text x="234" y="534">r</text>
<text x="244" y="534">e</text>
<text x="254" y="534">(</text>
<text x="264" y="534">1</text>
<text x="274" y="534">)</text>
<text x="604" y="534">│</text>
<text x="64" y="554">│</text>
<text x="144" y="554">│</text>
<text x="604" y="554">│</text>
<text x="34" y="574">│</text>
<text x="114" y="574">▼</text>
<text x="604" y="574">│</text>
<text x="34" y="594">│</text>
<text x="64" y="594">t</text>
<text x="74" y="594">r</text>
<text x="84" y="594">y</text>
<text x="94" y="594">A</text>
<text x="104" y="594">c</text>
<text x="114" y="594">q</text>
<text x="124" y="594">u</text>
<text x="134" y="594">i</text>
<text x="144" y="594">r</text>
<text x="154" y="594">e</text>
<text x="164" y="594">(</text>
<text x="174" y="594">)</text>
<text x="204" y="594">─</text>
<text x="214" y="594">─</text>
<text x="224" y="594">─</text>
<text x="244" y="594">成</text>
<text x="264" y="594">功</text>
<text x="284" y="594">（</text>
<text x="304" y="594">C</text>
<text x="314" y="594">A</text>
<text x="324" y="594">S</text>
<text x="344" y="594">s</text>
<text x="354" y="594">t</text>
<text x="364" y="594">a</text>
<text x="374" y="594">t</text>
<text x="384" y="594">e</text>
<text x="394" y="594">:</text>
<text x="414" y="594">0</text>
<text x="424" y="594">→</text>
<text x="434" y="594">1</text>
<text x="444" y="594">）</text>
<text x="464" y="594">─</text>
<text x="474" y="594">─</text>
<text x="484" y="594">►</text>
<text x="504" y="594">持</text>
<text x="524" y="594">有</text>
<text x="544" y="594">鎖</text>
<text x="604" y="594">│</text>
<text x="64" y="614">│</text>
<text x="144" y="614">│</text>
<text x="604" y="614">│</text>
<text x="34" y="634">│</text>
<text x="114" y="634">│</text>
<text x="134" y="634">失</text>
<text x="154" y="634">敗</text>
<text x="174" y="634">（</text>
<text x="194" y="634">s</text>
<text x="204" y="634">t</text>
<text x="214" y="634">a</text>
<text x="224" y="634">t</text>
<text x="234" y="634">e</text>
<text x="254" y="634">!</text>
<text x="264" y="634">=</text>
<text x="284" y="634">0</text>
<text x="294" y="634">，</text>
<text x="314" y="634">鎖</text>
<text x="334" y="634">被</text>
<text x="354" y="634">佔</text>
<text x="374" y="634">用</text>
<text x="394" y="634">）</text>
<text x="604" y="634">│</text>
<text x="34" y="654">│</text>
<text x="114" y="654">▼</text>
<text x="604" y="654">│</text>
<text x="34" y="674">│</text>
<text x="64" y="674">a</text>
<text x="74" y="674">d</text>
<text x="84" y="674">d</text>
<text x="94" y="674">W</text>
<text x="104" y="674">a</text>
<text x="114" y="674">i</text>
<text x="124" y="674">t</text>
<text x="134" y="674">e</text>
<text x="144" y="674">r</text>
<text x="154" y="674">(</text>
<text x="164" y="674">E</text>
<text x="174" y="674">X</text>
<text x="184" y="674">C</text>
<text x="194" y="674">L</text>
<text x="204" y="674">U</text>
<text x="214" y="674">S</text>
<text x="224" y="674">I</text>
<text x="234" y="674">V</text>
<text x="244" y="674">E</text>
<text x="254" y="674">)</text>
<text x="604" y="674">│</text>
<text x="34" y="694">│</text>
<text x="64" y="694">建</text>
<text x="84" y="694">立</text>
<text x="114" y="694">N</text>
<text x="124" y="694">o</text>
<text x="134" y="694">d</text>
<text x="144" y="694">e</text>
<text x="154" y="694">(</text>
<text x="164" y="694">t</text>
<text x="174" y="694">h</text>
<text x="184" y="694">r</text>
<text x="194" y="694">e</text>
<text x="204" y="694">a</text>
<text x="214" y="694">d</text>
<text x="224" y="694">=</text>
<text x="234" y="694">自</text>
<text x="254" y="694">己</text>
<text x="274" y="694">)</text>
<text x="284" y="694">，</text>
<text x="304" y="694">C</text>
<text x="314" y="694">A</text>
<text x="324" y="694">S</text>
<text x="344" y="694">加</text>
<text x="364" y="694">入</text>
<text x="384" y="694">佇</text>
<text x="404" y="694">列</text>
<text x="424" y="694">尾</text>
<text x="444" y="694">部</text>
<text x="604" y="694">│</text>
<text x="64" y="714">│</text>
<text x="144" y="714">│</text>
<text x="604" y="714">│</text>
<text x="34" y="734">│</text>
<text x="114" y="734">▼</text>
<text x="604" y="734">│</text>
<text x="34" y="754">│</text>
<text x="64" y="754">a</text>
<text x="74" y="754">c</text>
<text x="84" y="754">q</text>
<text x="94" y="754">u</text>
<text x="104" y="754">i</text>
<text x="114" y="754">r</text>
<text x="124" y="754">e</text>
<text x="134" y="754">Q</text>
<text x="144" y="754">u</text>
<text x="154" y="754">e</text>
<text x="164" y="754">u</text>
<text x="174" y="754">e</text>
<text x="184" y="754">d</text>
<text x="194" y="754">(</text>
<text x="204" y="754">)</text>
<text x="604" y="754">│</text>
<text x="34" y="774">│</text>
<text x="64" y="774">┌</text>
<text x="74" y="774">─</text>
<text x="84" y="774">─</text>
<text x="94" y="774">─</text>
<text x="104" y="774">─</text>
<text x="114" y="774">─</text>
<text x="124" y="774">─</text>
<text x="134" y="774">─</text>
<text x="144" y="774">─</text>
<text x="154" y="774">─</text>
<text x="164" y="774">─</text>
<text x="174" y="774">─</text>
<text x="184" y="774">─</text>
<text x="194" y="774">─</text>
<text x="204" y="774">─</text>
<text x="214" y="774">─</text>
<text x="224" y="774">─</text>
<text x="234" y="774">─</text>
<text x="244" y="774">─</text>
<text x="254" y="774">─</text>
<text x="264" y="774">─</text>
<text x="274" y="774">─</text>
<text x="284" y="774">─</text>
<text x="294" y="774">─</text>
<text x="304" y="774">─</text>
<text x="314" y="774">─</text>
<text x="324" y="774">─</text>
<text x="334" y="774">─</text>
<text x="344" y="774">─</text>
<text x="354" y="774">─</text>
<text x="364" y="774">─</text>
<text x="374" y="774">─</text>
<text x="384" y="774">─</text>
<text x="394" y="774">─</text>
<text x="404" y="774">─</text>
<text x="414" y="774">─</text>
<text x="424" y="774">─</text>
<text x="434" y="774">─</text>
<text x="444" y="774">─</text>
<text x="454" y="774">─</text>
<text x="464" y="774">─</text>
<text x="474" y="774">─</text>
<text x="484" y="774">─</text>
<text x="494" y="774">─</text>
<text x="504" y="774">─</text>
<text x="514" y="774">─</text>
<text x="524" y="774">─</text>
<text x="534" y="774">┐</text>
<text x="604" y="774">│</text>
<text x="34" y="794">│</text>
<text x="64" y="794">│</text>
<text x="94" y="794">f</text>
<text x="104" y="794">o</text>
<text x="114" y="794">r</text>
<text x="124" y="794">(</text>
<text x="134" y="794">;</text>
<text x="144" y="794">;</text>
<text x="154" y="794">)</text>
<text x="174" y="794">{</text>
<text x="534" y="794">│</text>
<text x="604" y="794">│</text>
<text x="34" y="814">│</text>
<text x="64" y="814">│</text>
<text x="114" y="814">若</text>
<text x="134" y="814">前</text>
<text x="154" y="814">驅</text>
<text x="174" y="814">是</text>
<text x="204" y="814">h</text>
<text x="214" y="814">e</text>
<text x="224" y="814">a</text>
<text x="234" y="814">d</text>
<text x="254" y="814">→</text>
<text x="274" y="814">再</text>
<text x="294" y="814">嘗</text>
<text x="314" y="814">試</text>
<text x="344" y="814">t</text>
<text x="354" y="814">r</text>
<text x="364" y="814">y</text>
<text x="374" y="814">A</text>
<text x="384" y="814">c</text>
<text x="394" y="814">q</text>
<text x="404" y="814">u</text>
<text x="414" y="814">i</text>
<text x="424" y="814">r</text>
<text x="434" y="814">e</text>
<text x="444" y="814">(</text>
<text x="454" y="814">)</text>
<text x="534" y="814">│</text>
<text x="604" y="814">│</text>
<text x="34" y="834">│</text>
<text x="64" y="834">│</text>
<text x="114" y="834">若</text>
<text x="134" y="834">成</text>
<text x="154" y="834">功</text>
<text x="184" y="834">→</text>
<text x="204" y="834">自</text>
<text x="224" y="834">己</text>
<text x="244" y="834">成</text>
<text x="264" y="834">為</text>
<text x="284" y="834">新</text>
<text x="314" y="834">h</text>
<text x="324" y="834">e</text>
<text x="334" y="834">a</text>
<text x="344" y="834">d</text>
<text x="354" y="834">，</text>
<text x="374" y="834">退</text>
<text x="394" y="834">出</text>
<text x="414" y="834">迴</text>
<text x="434" y="834">圈</text>
<text x="534" y="834">│</text>
<text x="604" y="834">│</text>
<text x="34" y="854">│</text>
<text x="64" y="854">│</text>
<text x="114" y="854">若</text>
<text x="134" y="854">失</text>
<text x="154" y="854">敗</text>
<text x="184" y="854">→</text>
<text x="204" y="854">前</text>
<text x="224" y="854">驅</text>
<text x="244" y="854">設</text>
<text x="264" y="854">為</text>
<text x="294" y="854">S</text>
<text x="304" y="854">I</text>
<text x="314" y="854">G</text>
<text x="324" y="854">N</text>
<text x="334" y="854">A</text>
<text x="344" y="854">L</text>
<text x="534" y="854">│</text>
<text x="604" y="854">│</text>
<text x="34" y="874">│</text>
<text x="64" y="874">│</text>
<text x="114" y="874">L</text>
<text x="124" y="874">o</text>
<text x="134" y="874">c</text>
<text x="144" y="874">k</text>
<text x="154" y="874">S</text>
<text x="164" y="874">u</text>
<text x="174" y="874">p</text>
<text x="184" y="874">p</text>
<text x="194" y="874">o</text>
<text x="204" y="874">r</text>
<text x="214" y="874">t</text>
<text x="224" y="874">.</text>
<text x="234" y="874">p</text>
<text x="244" y="874">a</text>
<text x="254" y="874">r</text>
<text x="264" y="874">k</text>
<text x="274" y="874">(</text>
<text x="284" y="874">)</text>
<text x="294" y="874">（</text>
<text x="314" y="874">掛</text>
<text x="334" y="874">起</text>
<text x="354" y="874">執</text>
<text x="374" y="874">行</text>
<text x="394" y="874">緒</text>
<text x="414" y="874">）</text>
<text x="534" y="874">│</text>
<text x="604" y="874">│</text>
<text x="34" y="894">│</text>
<text x="64" y="894">│</text>
<text x="114" y="894">等</text>
<text x="134" y="894">待</text>
<text x="164" y="894">u</text>
<text x="174" y="894">n</text>
<text x="184" y="894">p</text>
<text x="194" y="894">a</text>
<text x="204" y="894">r</text>
<text x="214" y="894">k</text>
<text x="224" y="894">(</text>
<text x="234" y="894">)</text>
<text x="254" y="894">喚</text>
<text x="274" y="894">醒</text>
<text x="294" y="894">後</text>
<text x="314" y="894">繼</text>
<text x="334" y="894">續</text>
<text x="354" y="894">迴</text>
<text x="374" y="894">圈</text>
<text x="534" y="894">│</text>
<text x="604" y="894">│</text>
<text x="34" y="914">│</text>
<text x="64" y="914">│</text>
<text x="94" y="914">}</text>
<text x="534" y="914">│</text>
<text x="604" y="914">│</text>
<text x="34" y="934">│</text>
<text x="64" y="934">└</text>
<text x="74" y="934">─</text>
<text x="84" y="934">─</text>
<text x="94" y="934">─</text>
<text x="104" y="934">─</text>
<text x="114" y="934">─</text>
<text x="124" y="934">─</text>
<text x="134" y="934">─</text>
<text x="144" y="934">─</text>
<text x="154" y="934">─</text>
<text x="164" y="934">─</text>
<text x="174" y="934">─</text>
<text x="184" y="934">─</text>
<text x="194" y="934">─</text>
<text x="204" y="934">─</text>
<text x="214" y="934">─</text>
<text x="224" y="934">─</text>
<text x="234" y="934">─</text>
<text x="244" y="934">─</text>
<text x="254" y="934">─</text>
<text x="264" y="934">─</text>
<text x="274" y="934">─</text>
<text x="284" y="934">─</text>
<text x="294" y="934">─</text>
<text x="304" y="934">─</text>
<text x="314" y="934">─</text>
<text x="324" y="934">─</text>
<text x="334" y="934">─</text>
<text x="344" y="934">─</text>
<text x="354" y="934">─</text>
<text x="364" y="934">─</text>
<text x="374" y="934">─</text>
<text x="384" y="934">─</text>
<text x="394" y="934">─</text>
<text x="404" y="934">─</text>
<text x="414" y="934">─</text>
<text x="424" y="934">─</text>
<text x="434" y="934">─</text>
<text x="444" y="934">─</text>
<text x="454" y="934">─</text>
<text x="464" y="934">─</text>
<text x="474" y="934">─</text>
<text x="484" y="934">─</text>
<text x="494" y="934">─</text>
<text x="504" y="934">─</text>
<text x="514" y="934">─</text>
<text x="524" y="934">─</text>
<text x="534" y="934">┘</text>
<text x="604" y="934">│</text>
<text x="64" y="954">│</text>
<text x="144" y="954">│</text>
<text x="604" y="954">│</text>
<text x="34" y="974">│</text>
<text x="64" y="974">r</text>
<text x="74" y="974">e</text>
<text x="84" y="974">l</text>
<text x="94" y="974">e</text>
<text x="104" y="974">a</text>
<text x="114" y="974">s</text>
<text x="124" y="974">e</text>
<text x="134" y="974">(</text>
<text x="144" y="974">1</text>
<text x="154" y="974">)</text>
<text x="174" y="974">時</text>
<text x="194" y="974">：</text>
<text x="604" y="974">│</text>
<text x="34" y="994">│</text>
<text x="64" y="994">t</text>
<text x="74" y="994">r</text>
<text x="84" y="994">y</text>
<text x="94" y="994">R</text>
<text x="104" y="994">e</text>
<text x="114" y="994">l</text>
<text x="124" y="994">e</text>
<text x="134" y="994">a</text>
<text x="144" y="994">s</text>
<text x="154" y="994">e</text>
<text x="164" y="994">(</text>
<text x="174" y="994">)</text>
<text x="194" y="994">→</text>
<text x="214" y="994">s</text>
<text x="224" y="994">t</text>
<text x="234" y="994">a</text>
<text x="244" y="994">t</text>
<text x="254" y="994">e</text>
<text x="274" y="994">0</text>
<text x="294" y="994">→</text>
<text x="314" y="994">u</text>
<text x="324" y="994">n</text>
<text x="334" y="994">p</text>
<text x="344" y="994">a</text>
<text x="354" y="994">r</text>
<text x="364" y="994">k</text>
<text x="374" y="994">(</text>
<text x="384" y="994">h</text>
<text x="394" y="994">e</text>
<text x="404" y="994">a</text>
<text x="414" y="994">d</text>
<text x="424" y="994">.</text>
<text x="434" y="994">n</text>
<text x="444" y="994">e</text>
<text x="454" y="994">x</text>
<text x="464" y="994">t</text>
<text x="474" y="994">.</text>
<text x="484" y="994">t</text>
<text x="494" y="994">h</text>
<text x="504" y="994">r</text>
<text x="514" y="994">e</text>
<text x="524" y="994">a</text>
<text x="534" y="994">d</text>
<text x="544" y="994">)</text>
<text x="604" y="994">│</text>
<text x="34" y="1014">└</text>
<text x="44" y="1014">─</text>
<text x="54" y="1014">─</text>
<text x="64" y="1014">─</text>
<text x="74" y="1014">─</text>
<text x="84" y="1014">─</text>
<text x="94" y="1014">─</text>
<text x="104" y="1014">─</text>
<text x="114" y="1014">─</text>
<text x="124" y="1014">─</text>
<text x="134" y="1014">─</text>
<text x="144" y="1014">─</text>
<text x="154" y="1014">─</text>
<text x="164" y="1014">─</text>
<text x="174" y="1014">─</text>
<text x="184" y="1014">─</text>
<text x="194" y="1014">─</text>
<text x="204" y="1014">─</text>
<text x="214" y="1014">─</text>
<text x="224" y="1014">─</text>
<text x="234" y="1014">─</text>
<text x="244" y="1014">─</text>
<text x="254" y="1014">─</text>
<text x="264" y="1014">─</text>
<text x="274" y="1014">─</text>
<text x="284" y="1014">─</text>
<text x="294" y="1014">─</text>
<text x="304" y="1014">─</text>
<text x="314" y="1014">─</text>
<text x="324" y="1014">─</text>
<text x="334" y="1014">─</text>
<text x="344" y="1014">─</text>
<text x="354" y="1014">─</text>
<text x="364" y="1014">─</text>
<text x="374" y="1014">─</text>
<text x="384" y="1014">─</text>
<text x="394" y="1014">─</text>
<text x="404" y="1014">─</text>
<text x="414" y="1014">─</text>
<text x="424" y="1014">─</text>
<text x="434" y="1014">─</text>
<text x="444" y="1014">─</text>
<text x="454" y="1014">─</text>
<text x="464" y="1014">─</text>
<text x="474" y="1014">─</text>
<text x="484" y="1014">─</text>
<text x="494" y="1014">─</text>
<text x="504" y="1014">─</text>
<text x="514" y="1014">─</text>
<text x="524" y="1014">─</text>
<text x="534" y="1014">─</text>
<text x="544" y="1014">─</text>
<text x="554" y="1014">─</text>
<text x="564" y="1014">─</text>
<text x="574" y="1014">─</text>
<text x="584" y="1014">─</text>
<text x="594" y="1014">─</text>
<text x="604" y="1014">┘</text>
</g>
</svg>
</div>
<p>AQS = <code>state</code>（整數狀態）+ FIFO 等待佇列。</p>
<h2 id="82-獨占與共享對應-821824"><a class="header" href="#82-獨占與共享對應-821824">8.2 獨占與共享（對應 8.2.1~8.2.4）</a></h2>
<!-- subsection-diagram -->
<h3 id="本小節示意圖-1"><a class="header" href="#本小節示意圖-1">本小節示意圖</a></h3>
<div class="ascii-svg-wrap">
<svg class="ascii-svg" xmlns="http://www.w3.org/2000/svg" width="608" height="1024" viewBox="0 0 608 1024" role="img" aria-label="ASCII diagram">
<g fill="currentColor" font-family="Noto Sans Mono CJK TC, Noto Sans Mono CJK SC, Noto Sans Mono CJK JP, Sarasa Mono TC, Cascadia Mono, JetBrains Mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace" font-size="16" text-rendering="geometricPrecision" xml:space="preserve">
<text x="34" y="14">獨</text>
<text x="54" y="14">占</text>
<text x="74" y="14">模</text>
<text x="94" y="14">式</text>
<text x="124" y="14">v</text>
<text x="134" y="14">s</text>
<text x="154" y="14">共</text>
<text x="174" y="14">享</text>
<text x="194" y="14">模</text>
<text x="214" y="14">式</text>
<text x="234" y="14">對</text>
<text x="254" y="14">比</text>
<text x="34" y="34">═</text>
<text x="44" y="34">═</text>
<text x="54" y="34">═</text>
<text x="64" y="34">═</text>
<text x="74" y="34">═</text>
<text x="84" y="34">═</text>
<text x="94" y="34">═</text>
<text x="104" y="34">═</text>
<text x="114" y="34">═</text>
<text x="124" y="34">═</text>
<text x="134" y="34">═</text>
<text x="144" y="34">═</text>
<text x="154" y="34">═</text>
<text x="164" y="34">═</text>
<text x="174" y="34">═</text>
<text x="184" y="34">═</text>
<text x="194" y="34">═</text>
<text x="204" y="34">═</text>
<text x="214" y="34">═</text>
<text x="224" y="34">═</text>
<text x="234" y="34">═</text>
<text x="244" y="34">═</text>
<text x="254" y="34">═</text>
<text x="264" y="34">═</text>
<text x="274" y="34">═</text>
<text x="284" y="34">═</text>
<text x="294" y="34">═</text>
<text x="304" y="34">═</text>
<text x="314" y="34">═</text>
<text x="324" y="34">═</text>
<text x="334" y="34">═</text>
<text x="344" y="34">═</text>
<text x="354" y="34">═</text>
<text x="364" y="34">═</text>
<text x="374" y="34">═</text>
<text x="384" y="34">═</text>
<text x="394" y="34">═</text>
<text x="404" y="34">═</text>
<text x="414" y="34">═</text>
<text x="424" y="34">═</text>
<text x="434" y="34">═</text>
<text x="444" y="34">═</text>
<text x="454" y="34">═</text>
<text x="464" y="34">═</text>
<text x="474" y="34">═</text>
<text x="484" y="34">═</text>
<text x="494" y="34">═</text>
<text x="504" y="34">═</text>
<text x="514" y="34">═</text>
<text x="524" y="34">═</text>
<text x="534" y="34">═</text>
<text x="544" y="34">═</text>
<text x="554" y="34">═</text>
<text x="564" y="34">═</text>
<text x="574" y="34">═</text>
<text x="584" y="34">═</text>
<text x="34" y="74">獨</text>
<text x="54" y="74">占</text>
<text x="74" y="74">模</text>
<text x="94" y="74">式</text>
<text x="114" y="74">（</text>
<text x="134" y="74">E</text>
<text x="144" y="74">x</text>
<text x="154" y="74">c</text>
<text x="164" y="74">l</text>
<text x="174" y="74">u</text>
<text x="184" y="74">s</text>
<text x="194" y="74">i</text>
<text x="204" y="74">v</text>
<text x="214" y="74">e</text>
<text x="224" y="74">）</text>
<text x="244" y="74">—</text>
<text x="264" y="74">R</text>
<text x="274" y="74">e</text>
<text x="284" y="74">e</text>
<text x="294" y="74">n</text>
<text x="304" y="74">t</text>
<text x="314" y="74">r</text>
<text x="324" y="74">a</text>
<text x="334" y="74">n</text>
<text x="344" y="74">t</text>
<text x="354" y="74">L</text>
<text x="364" y="74">o</text>
<text x="374" y="74">c</text>
<text x="384" y="74">k</text>
<text x="34" y="94">┌</text>
<text x="44" y="94">─</text>
<text x="54" y="94">─</text>
<text x="64" y="94">─</text>
<text x="74" y="94">─</text>
<text x="84" y="94">─</text>
<text x="94" y="94">─</text>
<text x="104" y="94">─</text>
<text x="114" y="94">─</text>
<text x="124" y="94">─</text>
<text x="134" y="94">─</text>
<text x="144" y="94">─</text>
<text x="154" y="94">─</text>
<text x="164" y="94">─</text>
<text x="174" y="94">─</text>
<text x="184" y="94">─</text>
<text x="194" y="94">─</text>
<text x="204" y="94">─</text>
<text x="214" y="94">─</text>
<text x="224" y="94">─</text>
<text x="234" y="94">─</text>
<text x="244" y="94">─</text>
<text x="254" y="94">─</text>
<text x="264" y="94">─</text>
<text x="274" y="94">─</text>
<text x="284" y="94">─</text>
<text x="294" y="94">─</text>
<text x="304" y="94">─</text>
<text x="314" y="94">─</text>
<text x="324" y="94">─</text>
<text x="334" y="94">─</text>
<text x="344" y="94">─</text>
<text x="354" y="94">─</text>
<text x="364" y="94">─</text>
<text x="374" y="94">─</text>
<text x="384" y="94">─</text>
<text x="394" y="94">─</text>
<text x="404" y="94">─</text>
<text x="414" y="94">─</text>
<text x="424" y="94">─</text>
<text x="434" y="94">─</text>
<text x="444" y="94">─</text>
<text x="454" y="94">─</text>
<text x="464" y="94">─</text>
<text x="474" y="94">─</text>
<text x="484" y="94">─</text>
<text x="494" y="94">─</text>
<text x="504" y="94">─</text>
<text x="514" y="94">─</text>
<text x="524" y="94">─</text>
<text x="534" y="94">─</text>
<text x="544" y="94">─</text>
<text x="554" y="94">─</text>
<text x="564" y="94">─</text>
<text x="574" y="94">─</text>
<text x="584" y="94">┐</text>
<text x="34" y="114">│</text>
<text x="64" y="114">s</text>
<text x="74" y="114">t</text>
<text x="84" y="114">a</text>
<text x="94" y="114">t</text>
<text x="104" y="114">e</text>
<text x="114" y="114">:</text>
<text x="134" y="114">0</text>
<text x="154" y="114">→</text>
<text x="174" y="114">1</text>
<text x="184" y="114">（</text>
<text x="204" y="114">被</text>
<text x="224" y="114">獲</text>
<text x="244" y="114">取</text>
<text x="264" y="114">）</text>
<text x="294" y="114">→</text>
<text x="314" y="114">0</text>
<text x="324" y="114">（</text>
<text x="344" y="114">釋</text>
<text x="364" y="114">放</text>
<text x="384" y="114">）</text>
<text x="584" y="114">│</text>
<text x="44" y="134">│</text>
<text x="584" y="134">│</text>
<text x="34" y="154">│</text>
<text x="64" y="154">時</text>
<text x="84" y="154">間</text>
<text x="104" y="154">軸</text>
<text x="124" y="154">：</text>
<text x="584" y="154">│</text>
<text x="34" y="174">│</text>
<text x="64" y="174">─</text>
<text x="74" y="174">─</text>
<text x="84" y="174">─</text>
<text x="94" y="174">─</text>
<text x="104" y="174">─</text>
<text x="114" y="174">─</text>
<text x="124" y="174">─</text>
<text x="134" y="174">─</text>
<text x="144" y="174">─</text>
<text x="154" y="174">─</text>
<text x="164" y="174">─</text>
<text x="174" y="174">─</text>
<text x="184" y="174">─</text>
<text x="194" y="174">─</text>
<text x="204" y="174">─</text>
<text x="214" y="174">─</text>
<text x="224" y="174">─</text>
<text x="234" y="174">─</text>
<text x="244" y="174">─</text>
<text x="254" y="174">─</text>
<text x="264" y="174">─</text>
<text x="274" y="174">─</text>
<text x="284" y="174">─</text>
<text x="294" y="174">─</text>
<text x="304" y="174">─</text>
<text x="314" y="174">─</text>
<text x="324" y="174">─</text>
<text x="334" y="174">─</text>
<text x="344" y="174">─</text>
<text x="354" y="174">─</text>
<text x="364" y="174">─</text>
<text x="374" y="174">─</text>
<text x="384" y="174">─</text>
<text x="394" y="174">─</text>
<text x="404" y="174">─</text>
<text x="414" y="174">─</text>
<text x="424" y="174">─</text>
<text x="434" y="174">─</text>
<text x="444" y="174">─</text>
<text x="454" y="174">─</text>
<text x="464" y="174">─</text>
<text x="474" y="174">─</text>
<text x="484" y="174">─</text>
<text x="494" y="174">─</text>
<text x="504" y="174">─</text>
<text x="514" y="174">►</text>
<text x="584" y="174">│</text>
<text x="34" y="194">│</text>
<text x="64" y="194">T</text>
<text x="74" y="194">1</text>
<text x="94" y="194">獲</text>
<text x="114" y="194">取</text>
<text x="144" y="194">█</text>
<text x="154" y="194">█</text>
<text x="164" y="194">█</text>
<text x="174" y="194">█</text>
<text x="184" y="194">█</text>
<text x="194" y="194">█</text>
<text x="204" y="194">█</text>
<text x="214" y="194">█</text>
<text x="224" y="194">█</text>
<text x="234" y="194">█</text>
<text x="244" y="194">█</text>
<text x="254" y="194">█</text>
<text x="264" y="194">█</text>
<text x="274" y="194">█</text>
<text x="284" y="194">█</text>
<text x="294" y="194">█</text>
<text x="304" y="194">█</text>
<text x="314" y="194">█</text>
<text x="324" y="194">█</text>
<text x="334" y="194">█</text>
<text x="354" y="194">T</text>
<text x="364" y="194">1</text>
<text x="384" y="194">釋</text>
<text x="404" y="194">放</text>
<text x="584" y="194">│</text>
<text x="34" y="214">│</text>
<text x="64" y="214">T</text>
<text x="74" y="214">2</text>
<text x="94" y="214">等</text>
<text x="114" y="214">待</text>
<text x="144" y="214">░</text>
<text x="154" y="214">░</text>
<text x="164" y="214">░</text>
<text x="174" y="214">░</text>
<text x="184" y="214">░</text>
<text x="194" y="214">░</text>
<text x="204" y="214">░</text>
<text x="214" y="214">░</text>
<text x="224" y="214">░</text>
<text x="234" y="214">░</text>
<text x="244" y="214">░</text>
<text x="254" y="214">░</text>
<text x="264" y="214">░</text>
<text x="274" y="214">░</text>
<text x="284" y="214">░</text>
<text x="294" y="214">░</text>
<text x="304" y="214">░</text>
<text x="314" y="214">░</text>
<text x="324" y="214">░</text>
<text x="334" y="214">░</text>
<text x="354" y="214">T</text>
<text x="364" y="214">2</text>
<text x="384" y="214">獲</text>
<text x="404" y="214">取</text>
<text x="434" y="214">█</text>
<text x="444" y="214">█</text>
<text x="454" y="214">█</text>
<text x="464" y="214">█</text>
<text x="474" y="214">█</text>
<text x="484" y="214">█</text>
<text x="494" y="214">█</text>
<text x="504" y="214">█</text>
<text x="584" y="214">│</text>
<text x="34" y="234">│</text>
<text x="64" y="234">T</text>
<text x="74" y="234">3</text>
<text x="94" y="234">等</text>
<text x="114" y="234">待</text>
<text x="144" y="234">░</text>
<text x="154" y="234">░</text>
<text x="164" y="234">░</text>
<text x="174" y="234">░</text>
<text x="184" y="234">░</text>
<text x="194" y="234">░</text>
<text x="204" y="234">░</text>
<text x="214" y="234">░</text>
<text x="224" y="234">░</text>
<text x="234" y="234">░</text>
<text x="244" y="234">░</text>
<text x="254" y="234">░</text>
<text x="264" y="234">░</text>
<text x="274" y="234">░</text>
<text x="284" y="234">░</text>
<text x="294" y="234">░</text>
<text x="304" y="234">░</text>
<text x="314" y="234">░</text>
<text x="324" y="234">░</text>
<text x="334" y="234">░</text>
<text x="344" y="234">░</text>
<text x="354" y="234">░</text>
<text x="364" y="234">░</text>
<text x="374" y="234">░</text>
<text x="384" y="234">░</text>
<text x="394" y="234">░</text>
<text x="404" y="234">░</text>
<text x="414" y="234">░</text>
<text x="424" y="234">░</text>
<text x="434" y="234">░</text>
<text x="444" y="234">░</text>
<text x="454" y="234">░</text>
<text x="474" y="234">T</text>
<text x="484" y="234">3</text>
<text x="504" y="234">獲</text>
<text x="524" y="234">取</text>
<text x="584" y="234">│</text>
<text x="44" y="254">│</text>
<text x="584" y="254">│</text>
<text x="34" y="274">│</text>
<text x="64" y="274">s</text>
<text x="74" y="274">t</text>
<text x="84" y="274">a</text>
<text x="94" y="274">t</text>
<text x="104" y="274">e</text>
<text x="124" y="274">只</text>
<text x="144" y="274">有</text>
<text x="174" y="274">0</text>
<text x="194" y="274">和</text>
<text x="224" y="274">1</text>
<text x="234" y="274">，</text>
<text x="254" y="274">一</text>
<text x="274" y="274">次</text>
<text x="294" y="274">只</text>
<text x="314" y="274">有</text>
<text x="334" y="274">一</text>
<text x="354" y="274">個</text>
<text x="374" y="274">執</text>
<text x="394" y="274">行</text>
<text x="414" y="274">緒</text>
<text x="434" y="274">在</text>
<text x="454" y="274">臨</text>
<text x="474" y="274">界</text>
<text x="494" y="274">區</text>
<text x="584" y="274">│</text>
<text x="34" y="294">│</text>
<text x="64" y="294">t</text>
<text x="74" y="294">r</text>
<text x="84" y="294">y</text>
<text x="94" y="294">A</text>
<text x="104" y="294">c</text>
<text x="114" y="294">q</text>
<text x="124" y="294">u</text>
<text x="134" y="294">i</text>
<text x="144" y="294">r</text>
<text x="154" y="294">e</text>
<text x="164" y="294">：</text>
<text x="184" y="294">C</text>
<text x="194" y="294">A</text>
<text x="204" y="294">S</text>
<text x="214" y="294">(</text>
<text x="224" y="294">s</text>
<text x="234" y="294">t</text>
<text x="244" y="294">a</text>
<text x="254" y="294">t</text>
<text x="264" y="294">e</text>
<text x="274" y="294">,</text>
<text x="294" y="294">0</text>
<text x="304" y="294">,</text>
<text x="324" y="294">1</text>
<text x="334" y="294">)</text>
<text x="354" y="294">成</text>
<text x="374" y="294">功</text>
<text x="394" y="294">才</text>
<text x="414" y="294">獲</text>
<text x="434" y="294">取</text>
<text x="584" y="294">│</text>
<text x="34" y="314">│</text>
<text x="64" y="314">t</text>
<text x="74" y="314">r</text>
<text x="84" y="314">y</text>
<text x="94" y="314">R</text>
<text x="104" y="314">e</text>
<text x="114" y="314">l</text>
<text x="124" y="314">e</text>
<text x="134" y="314">a</text>
<text x="144" y="314">s</text>
<text x="154" y="314">e</text>
<text x="164" y="314">：</text>
<text x="184" y="314">s</text>
<text x="194" y="314">t</text>
<text x="204" y="314">a</text>
<text x="214" y="314">t</text>
<text x="224" y="314">e</text>
<text x="244" y="314">=</text>
<text x="264" y="314">0</text>
<text x="274" y="314">，</text>
<text x="294" y="314">u</text>
<text x="304" y="314">n</text>
<text x="314" y="314">p</text>
<text x="324" y="314">a</text>
<text x="334" y="314">r</text>
<text x="344" y="314">k</text>
<text x="364" y="314">下</text>
<text x="384" y="314">一</text>
<text x="404" y="314">個</text>
<text x="424" y="314">等</text>
<text x="444" y="314">待</text>
<text x="464" y="314">者</text>
<text x="584" y="314">│</text>
<text x="34" y="334">└</text>
<text x="44" y="334">─</text>
<text x="54" y="334">─</text>
<text x="64" y="334">─</text>
<text x="74" y="334">─</text>
<text x="84" y="334">─</text>
<text x="94" y="334">─</text>
<text x="104" y="334">─</text>
<text x="114" y="334">─</text>
<text x="124" y="334">─</text>
<text x="134" y="334">─</text>
<text x="144" y="334">─</text>
<text x="154" y="334">─</text>
<text x="164" y="334">─</text>
<text x="174" y="334">─</text>
<text x="184" y="334">─</text>
<text x="194" y="334">─</text>
<text x="204" y="334">─</text>
<text x="214" y="334">─</text>
<text x="224" y="334">─</text>
<text x="234" y="334">─</text>
<text x="244" y="334">─</text>
<text x="254" y="334">─</text>
<text x="264" y="334">─</text>
<text x="274" y="334">─</text>
<text x="284" y="334">─</text>
<text x="294" y="334">─</text>
<text x="304" y="334">─</text>
<text x="314" y="334">─</text>
<text x="324" y="334">─</text>
<text x="334" y="334">─</text>
<text x="344" y="334">─</text>
<text x="354" y="334">─</text>
<text x="364" y="334">─</text>
<text x="374" y="334">─</text>
<text x="384" y="334">─</text>
<text x="394" y="334">─</text>
<text x="404" y="334">─</text>
<text x="414" y="334">─</text>
<text x="424" y="334">─</text>
<text x="434" y="334">─</text>
<text x="444" y="334">─</text>
<text x="454" y="334">─</text>
<text x="464" y="334">─</text>
<text x="474" y="334">─</text>
<text x="484" y="334">─</text>
<text x="494" y="334">─</text>
<text x="504" y="334">─</text>
<text x="514" y="334">─</text>
<text x="524" y="334">─</text>
<text x="534" y="334">─</text>
<text x="544" y="334">─</text>
<text x="554" y="334">─</text>
<text x="564" y="334">─</text>
<text x="574" y="334">─</text>
<text x="584" y="334">┘</text>
<text x="34" y="374">共</text>
<text x="54" y="374">享</text>
<text x="74" y="374">模</text>
<text x="94" y="374">式</text>
<text x="114" y="374">（</text>
<text x="134" y="374">S</text>
<text x="144" y="374">h</text>
<text x="154" y="374">a</text>
<text x="164" y="374">r</text>
<text x="174" y="374">e</text>
<text x="184" y="374">d</text>
<text x="194" y="374">）</text>
<text x="214" y="374">—</text>
<text x="234" y="374">S</text>
<text x="244" y="374">e</text>
<text x="254" y="374">m</text>
<text x="264" y="374">a</text>
<text x="274" y="374">p</text>
<text x="284" y="374">h</text>
<text x="294" y="374">o</text>
<text x="304" y="374">r</text>
<text x="314" y="374">e</text>
<text x="324" y="374">(</text>
<text x="334" y="374">p</text>
<text x="344" y="374">e</text>
<text x="354" y="374">r</text>
<text x="364" y="374">m</text>
<text x="374" y="374">i</text>
<text x="384" y="374">t</text>
<text x="394" y="374">s</text>
<text x="404" y="374">=</text>
<text x="414" y="374">2</text>
<text x="424" y="374">)</text>
<text x="34" y="394">┌</text>
<text x="44" y="394">─</text>
<text x="54" y="394">─</text>
<text x="64" y="394">─</text>
<text x="74" y="394">─</text>
<text x="84" y="394">─</text>
<text x="94" y="394">─</text>
<text x="104" y="394">─</text>
<text x="114" y="394">─</text>
<text x="124" y="394">─</text>
<text x="134" y="394">─</text>
<text x="144" y="394">─</text>
<text x="154" y="394">─</text>
<text x="164" y="394">─</text>
<text x="174" y="394">─</text>
<text x="184" y="394">─</text>
<text x="194" y="394">─</text>
<text x="204" y="394">─</text>
<text x="214" y="394">─</text>
<text x="224" y="394">─</text>
<text x="234" y="394">─</text>
<text x="244" y="394">─</text>
<text x="254" y="394">─</text>
<text x="264" y="394">─</text>
<text x="274" y="394">─</text>
<text x="284" y="394">─</text>
<text x="294" y="394">─</text>
<text x="304" y="394">─</text>
<text x="314" y="394">─</text>
<text x="324" y="394">─</text>
<text x="334" y="394">─</text>
<text x="344" y="394">─</text>
<text x="354" y="394">─</text>
<text x="364" y="394">─</text>
<text x="374" y="394">─</text>
<text x="384" y="394">─</text>
<text x="394" y="394">─</text>
<text x="404" y="394">─</text>
<text x="414" y="394">─</text>
<text x="424" y="394">─</text>
<text x="434" y="394">─</text>
<text x="444" y="394">─</text>
<text x="454" y="394">─</text>
<text x="464" y="394">─</text>
<text x="474" y="394">─</text>
<text x="484" y="394">─</text>
<text x="494" y="394">─</text>
<text x="504" y="394">─</text>
<text x="514" y="394">─</text>
<text x="524" y="394">─</text>
<text x="534" y="394">─</text>
<text x="544" y="394">─</text>
<text x="554" y="394">─</text>
<text x="564" y="394">─</text>
<text x="574" y="394">─</text>
<text x="584" y="394">┐</text>
<text x="34" y="414">│</text>
<text x="64" y="414">s</text>
<text x="74" y="414">t</text>
<text x="84" y="414">a</text>
<text x="94" y="414">t</text>
<text x="104" y="414">e</text>
<text x="114" y="414">:</text>
<text x="134" y="414">2</text>
<text x="144" y="414">（</text>
<text x="164" y="414">可</text>
<text x="184" y="414">用</text>
<text x="204" y="414">名</text>
<text x="224" y="414">額</text>
<text x="244" y="414">）</text>
<text x="274" y="414">→</text>
<text x="294" y="414">1</text>
<text x="314" y="414">→</text>
<text x="334" y="414">0</text>
<text x="344" y="414">（</text>
<text x="364" y="414">滿</text>
<text x="384" y="414">）</text>
<text x="414" y="414">→</text>
<text x="434" y="414">1</text>
<text x="454" y="414">→</text>
<text x="474" y="414">2</text>
<text x="584" y="414">│</text>
<text x="44" y="434">│</text>
<text x="584" y="434">│</text>
<text x="34" y="454">│</text>
<text x="64" y="454">時</text>
<text x="84" y="454">間</text>
<text x="104" y="454">軸</text>
<text x="124" y="454">：</text>
<text x="584" y="454">│</text>
<text x="34" y="474">│</text>
<text x="64" y="474">─</text>
<text x="74" y="474">─</text>
<text x="84" y="474">─</text>
<text x="94" y="474">─</text>
<text x="104" y="474">─</text>
<text x="114" y="474">─</text>
<text x="124" y="474">─</text>
<text x="134" y="474">─</text>
<text x="144" y="474">─</text>
<text x="154" y="474">─</text>
<text x="164" y="474">─</text>
<text x="174" y="474">─</text>
<text x="184" y="474">─</text>
<text x="194" y="474">─</text>
<text x="204" y="474">─</text>
<text x="214" y="474">─</text>
<text x="224" y="474">─</text>
<text x="234" y="474">─</text>
<text x="244" y="474">─</text>
<text x="254" y="474">─</text>
<text x="264" y="474">─</text>
<text x="274" y="474">─</text>
<text x="284" y="474">─</text>
<text x="294" y="474">─</text>
<text x="304" y="474">─</text>
<text x="314" y="474">─</text>
<text x="324" y="474">─</text>
<text x="334" y="474">─</text>
<text x="344" y="474">─</text>
<text x="354" y="474">─</text>
<text x="364" y="474">─</text>
<text x="374" y="474">─</text>
<text x="384" y="474">─</text>
<text x="394" y="474">─</text>
<text x="404" y="474">─</text>
<text x="414" y="474">─</text>
<text x="424" y="474">─</text>
<text x="434" y="474">─</text>
<text x="444" y="474">─</text>
<text x="454" y="474">─</text>
<text x="464" y="474">─</text>
<text x="474" y="474">─</text>
<text x="484" y="474">─</text>
<text x="494" y="474">─</text>
<text x="504" y="474">─</text>
<text x="514" y="474">►</text>
<text x="584" y="474">│</text>
<text x="34" y="494">│</text>
<text x="64" y="494">T</text>
<text x="74" y="494">1</text>
<text x="94" y="494">獲</text>
<text x="114" y="494">取</text>
<text x="134" y="494">(</text>
<text x="144" y="494">s</text>
<text x="154" y="494">t</text>
<text x="164" y="494">a</text>
<text x="174" y="494">t</text>
<text x="184" y="494">e</text>
<text x="194" y="494">:</text>
<text x="204" y="494">2</text>
<text x="214" y="494">→</text>
<text x="224" y="494">1</text>
<text x="234" y="494">)</text>
<text x="244" y="494">█</text>
<text x="254" y="494">█</text>
<text x="264" y="494">█</text>
<text x="274" y="494">█</text>
<text x="284" y="494">█</text>
<text x="294" y="494">█</text>
<text x="304" y="494">█</text>
<text x="314" y="494">█</text>
<text x="324" y="494">█</text>
<text x="334" y="494">█</text>
<text x="344" y="494">█</text>
<text x="354" y="494">█</text>
<text x="364" y="494">█</text>
<text x="374" y="494">█</text>
<text x="384" y="494">█</text>
<text x="394" y="494">█</text>
<text x="414" y="494">T</text>
<text x="424" y="494">1</text>
<text x="444" y="494">釋</text>
<text x="464" y="494">放</text>
<text x="484" y="494">(</text>
<text x="494" y="494">→</text>
<text x="504" y="494">2</text>
<text x="514" y="494">)</text>
<text x="584" y="494">│</text>
<text x="34" y="514">│</text>
<text x="64" y="514">T</text>
<text x="74" y="514">2</text>
<text x="94" y="514">獲</text>
<text x="114" y="514">取</text>
<text x="134" y="514">(</text>
<text x="144" y="514">s</text>
<text x="154" y="514">t</text>
<text x="164" y="514">a</text>
<text x="174" y="514">t</text>
<text x="184" y="514">e</text>
<text x="194" y="514">:</text>
<text x="204" y="514">1</text>
<text x="214" y="514">→</text>
<text x="224" y="514">0</text>
<text x="234" y="514">)</text>
<text x="244" y="514">█</text>
<text x="254" y="514">█</text>
<text x="264" y="514">█</text>
<text x="274" y="514">█</text>
<text x="284" y="514">█</text>
<text x="294" y="514">█</text>
<text x="304" y="514">█</text>
<text x="314" y="514">█</text>
<text x="324" y="514">█</text>
<text x="334" y="514">█</text>
<text x="344" y="514">█</text>
<text x="354" y="514">█</text>
<text x="364" y="514">█</text>
<text x="374" y="514">█</text>
<text x="384" y="514">█</text>
<text x="394" y="514">█</text>
<text x="414" y="514">T</text>
<text x="424" y="514">2</text>
<text x="444" y="514">釋</text>
<text x="464" y="514">放</text>
<text x="484" y="514">(</text>
<text x="494" y="514">→</text>
<text x="504" y="514">1</text>
<text x="514" y="514">)</text>
<text x="584" y="514">│</text>
<text x="34" y="534">│</text>
<text x="64" y="534">T</text>
<text x="74" y="534">3</text>
<text x="94" y="534">等</text>
<text x="114" y="534">待</text>
<text x="134" y="534">(</text>
<text x="144" y="534">s</text>
<text x="154" y="534">t</text>
<text x="164" y="534">a</text>
<text x="174" y="534">t</text>
<text x="184" y="534">e</text>
<text x="194" y="534">=</text>
<text x="204" y="534">0</text>
<text x="214" y="534">)</text>
<text x="234" y="534">░</text>
<text x="244" y="534">░</text>
<text x="254" y="534">░</text>
<text x="264" y="534">░</text>
<text x="274" y="534">░</text>
<text x="284" y="534">░</text>
<text x="294" y="534">░</text>
<text x="304" y="534">░</text>
<text x="314" y="534">░</text>
<text x="324" y="534">░</text>
<text x="334" y="534">░</text>
<text x="344" y="534">░</text>
<text x="354" y="534">░</text>
<text x="364" y="534">░</text>
<text x="374" y="534">░</text>
<text x="384" y="534">░</text>
<text x="404" y="534">T</text>
<text x="414" y="534">3</text>
<text x="434" y="534">獲</text>
<text x="454" y="534">取</text>
<text x="474" y="534">(</text>
<text x="484" y="534">1</text>
<text x="494" y="534">→</text>
<text x="504" y="534">0</text>
<text x="514" y="534">)</text>
<text x="524" y="534">█</text>
<text x="534" y="534">█</text>
<text x="584" y="534">│</text>
<text x="34" y="554">│</text>
<text x="64" y="554">T</text>
<text x="74" y="554">4</text>
<text x="94" y="554">等</text>
<text x="114" y="554">待</text>
<text x="134" y="554">(</text>
<text x="144" y="554">s</text>
<text x="154" y="554">t</text>
<text x="164" y="554">a</text>
<text x="174" y="554">t</text>
<text x="184" y="554">e</text>
<text x="194" y="554">=</text>
<text x="204" y="554">0</text>
<text x="214" y="554">)</text>
<text x="234" y="554">░</text>
<text x="244" y="554">░</text>
<text x="254" y="554">░</text>
<text x="264" y="554">░</text>
<text x="274" y="554">░</text>
<text x="284" y="554">░</text>
<text x="294" y="554">░</text>
<text x="304" y="554">░</text>
<text x="314" y="554">░</text>
<text x="324" y="554">░</text>
<text x="334" y="554">░</text>
<text x="344" y="554">░</text>
<text x="354" y="554">░</text>
<text x="364" y="554">░</text>
<text x="374" y="554">░</text>
<text x="384" y="554">░</text>
<text x="404" y="554">T</text>
<text x="414" y="554">4</text>
<text x="434" y="554">等</text>
<text x="454" y="554">待</text>
<text x="474" y="554">.</text>
<text x="484" y="554">.</text>
<text x="494" y="554">.</text>
<text x="584" y="554">│</text>
<text x="44" y="574">│</text>
<text x="584" y="574">│</text>
<text x="34" y="594">│</text>
<text x="64" y="594">t</text>
<text x="74" y="594">r</text>
<text x="84" y="594">y</text>
<text x="94" y="594">A</text>
<text x="104" y="594">c</text>
<text x="114" y="594">q</text>
<text x="124" y="594">u</text>
<text x="134" y="594">i</text>
<text x="144" y="594">r</text>
<text x="154" y="594">e</text>
<text x="164" y="594">S</text>
<text x="174" y="594">h</text>
<text x="184" y="594">a</text>
<text x="194" y="594">r</text>
<text x="204" y="594">e</text>
<text x="214" y="594">d</text>
<text x="224" y="594">：</text>
<text x="244" y="594">s</text>
<text x="254" y="594">t</text>
<text x="264" y="594">a</text>
<text x="274" y="594">t</text>
<text x="284" y="594">e</text>
<text x="304" y="594">&gt;</text>
<text x="324" y="594">0</text>
<text x="344" y="594">→</text>
<text x="364" y="594">C</text>
<text x="374" y="594">A</text>
<text x="384" y="594">S</text>
<text x="394" y="594">(</text>
<text x="404" y="594">s</text>
<text x="414" y="594">t</text>
<text x="424" y="594">a</text>
<text x="434" y="594">t</text>
<text x="444" y="594">e</text>
<text x="454" y="594">,</text>
<text x="474" y="594">s</text>
<text x="484" y="594">,</text>
<text x="504" y="594">s</text>
<text x="514" y="594">-</text>
<text x="524" y="594">1</text>
<text x="534" y="594">)</text>
<text x="584" y="594">│</text>
<text x="34" y="614">│</text>
<text x="64" y="614">t</text>
<text x="74" y="614">r</text>
<text x="84" y="614">y</text>
<text x="94" y="614">R</text>
<text x="104" y="614">e</text>
<text x="114" y="614">l</text>
<text x="124" y="614">e</text>
<text x="134" y="614">a</text>
<text x="144" y="614">s</text>
<text x="154" y="614">e</text>
<text x="164" y="614">S</text>
<text x="174" y="614">h</text>
<text x="184" y="614">a</text>
<text x="194" y="614">r</text>
<text x="204" y="614">e</text>
<text x="214" y="614">d</text>
<text x="224" y="614">：</text>
<text x="244" y="614">C</text>
<text x="254" y="614">A</text>
<text x="264" y="614">S</text>
<text x="274" y="614">(</text>
<text x="284" y="614">s</text>
<text x="294" y="614">t</text>
<text x="304" y="614">a</text>
<text x="314" y="614">t</text>
<text x="324" y="614">e</text>
<text x="334" y="614">,</text>
<text x="354" y="614">s</text>
<text x="364" y="614">,</text>
<text x="384" y="614">s</text>
<text x="394" y="614">+</text>
<text x="404" y="614">1</text>
<text x="414" y="614">)</text>
<text x="584" y="614">│</text>
<text x="44" y="634">│</text>
<text x="584" y="634">│</text>
<text x="34" y="654">│</text>
<text x="64" y="654">s</text>
<text x="74" y="654">e</text>
<text x="84" y="654">t</text>
<text x="94" y="654">H</text>
<text x="104" y="654">e</text>
<text x="114" y="654">a</text>
<text x="124" y="654">d</text>
<text x="134" y="654">A</text>
<text x="144" y="654">n</text>
<text x="154" y="654">d</text>
<text x="164" y="654">P</text>
<text x="174" y="654">r</text>
<text x="184" y="654">o</text>
<text x="194" y="654">p</text>
<text x="204" y="654">a</text>
<text x="214" y="654">g</text>
<text x="224" y="654">a</text>
<text x="234" y="654">t</text>
<text x="244" y="654">e</text>
<text x="254" y="654">：</text>
<text x="274" y="654">獲</text>
<text x="294" y="654">取</text>
<text x="314" y="654">成</text>
<text x="334" y="654">功</text>
<text x="354" y="654">後</text>
<text x="584" y="654">│</text>
<text x="34" y="674">│</text>
<text x="64" y="674">如</text>
<text x="84" y="674">果</text>
<text x="104" y="674">還</text>
<text x="124" y="674">有</text>
<text x="144" y="674">名</text>
<text x="164" y="674">額</text>
<text x="184" y="674">（</text>
<text x="204" y="674">s</text>
<text x="214" y="674">t</text>
<text x="224" y="674">a</text>
<text x="234" y="674">t</text>
<text x="244" y="674">e</text>
<text x="264" y="674">&gt;</text>
<text x="284" y="674">0</text>
<text x="294" y="674">）</text>
<text x="314" y="674">，</text>
<text x="334" y="674">傳</text>
<text x="354" y="674">播</text>
<text x="374" y="674">喚</text>
<text x="394" y="674">醒</text>
<text x="414" y="674">後</text>
<text x="434" y="674">續</text>
<text x="454" y="674">等</text>
<text x="474" y="674">待</text>
<text x="494" y="674">者</text>
<text x="584" y="674">│</text>
<text x="34" y="694">│</text>
<text x="64" y="694">┌</text>
<text x="74" y="694">─</text>
<text x="84" y="694">─</text>
<text x="94" y="694">─</text>
<text x="104" y="694">─</text>
<text x="114" y="694">─</text>
<text x="124" y="694">─</text>
<text x="134" y="694">─</text>
<text x="144" y="694">─</text>
<text x="154" y="694">─</text>
<text x="164" y="694">─</text>
<text x="174" y="694">─</text>
<text x="184" y="694">─</text>
<text x="194" y="694">─</text>
<text x="204" y="694">─</text>
<text x="214" y="694">─</text>
<text x="224" y="694">─</text>
<text x="234" y="694">─</text>
<text x="244" y="694">─</text>
<text x="254" y="694">─</text>
<text x="264" y="694">─</text>
<text x="274" y="694">─</text>
<text x="284" y="694">─</text>
<text x="294" y="694">─</text>
<text x="304" y="694">─</text>
<text x="314" y="694">─</text>
<text x="324" y="694">─</text>
<text x="334" y="694">─</text>
<text x="344" y="694">─</text>
<text x="354" y="694">─</text>
<text x="364" y="694">─</text>
<text x="374" y="694">─</text>
<text x="384" y="694">─</text>
<text x="394" y="694">─</text>
<text x="404" y="694">─</text>
<text x="414" y="694">─</text>
<text x="424" y="694">─</text>
<text x="434" y="694">─</text>
<text x="444" y="694">─</text>
<text x="454" y="694">─</text>
<text x="464" y="694">─</text>
<text x="474" y="694">─</text>
<text x="484" y="694">─</text>
<text x="494" y="694">─</text>
<text x="504" y="694">─</text>
<text x="514" y="694">─</text>
<text x="524" y="694">─</text>
<text x="534" y="694">┐</text>
<text x="584" y="694">│</text>
<text x="34" y="714">│</text>
<text x="64" y="714">│</text>
<text x="94" y="714">T</text>
<text x="104" y="714">2</text>
<text x="124" y="714">獲</text>
<text x="144" y="714">取</text>
<text x="164" y="714">成</text>
<text x="184" y="714">功</text>
<text x="204" y="714">後</text>
<text x="224" y="714">：</text>
<text x="534" y="714">│</text>
<text x="584" y="714">│</text>
<text x="34" y="734">│</text>
<text x="64" y="734">│</text>
<text x="94" y="734">s</text>
<text x="104" y="734">t</text>
<text x="114" y="734">a</text>
<text x="124" y="734">t</text>
<text x="134" y="734">e</text>
<text x="154" y="734">=</text>
<text x="174" y="734">1</text>
<text x="194" y="734">&gt;</text>
<text x="214" y="734">0</text>
<text x="234" y="734">→</text>
<text x="254" y="734">u</text>
<text x="264" y="734">n</text>
<text x="274" y="734">p</text>
<text x="284" y="734">a</text>
<text x="294" y="734">r</text>
<text x="304" y="734">k</text>
<text x="314" y="734">(</text>
<text x="324" y="734">T</text>
<text x="334" y="734">3</text>
<text x="344" y="734">)</text>
<text x="364" y="734">傳</text>
<text x="384" y="734">播</text>
<text x="534" y="734">│</text>
<text x="584" y="734">│</text>
<text x="34" y="754">│</text>
<text x="64" y="754">└</text>
<text x="74" y="754">─</text>
<text x="84" y="754">─</text>
<text x="94" y="754">─</text>
<text x="104" y="754">─</text>
<text x="114" y="754">─</text>
<text x="124" y="754">─</text>
<text x="134" y="754">─</text>
<text x="144" y="754">─</text>
<text x="154" y="754">─</text>
<text x="164" y="754">─</text>
<text x="174" y="754">─</text>
<text x="184" y="754">─</text>
<text x="194" y="754">─</text>
<text x="204" y="754">─</text>
<text x="214" y="754">─</text>
<text x="224" y="754">─</text>
<text x="234" y="754">─</text>
<text x="244" y="754">─</text>
<text x="254" y="754">─</text>
<text x="264" y="754">─</text>
<text x="274" y="754">─</text>
<text x="284" y="754">─</text>
<text x="294" y="754">─</text>
<text x="304" y="754">─</text>
<text x="314" y="754">─</text>
<text x="324" y="754">─</text>
<text x="334" y="754">─</text>
<text x="344" y="754">─</text>
<text x="354" y="754">─</text>
<text x="364" y="754">─</text>
<text x="374" y="754">─</text>
<text x="384" y="754">─</text>
<text x="394" y="754">─</text>
<text x="404" y="754">─</text>
<text x="414" y="754">─</text>
<text x="424" y="754">─</text>
<text x="434" y="754">─</text>
<text x="444" y="754">─</text>
<text x="454" y="754">─</text>
<text x="464" y="754">─</text>
<text x="474" y="754">─</text>
<text x="484" y="754">─</text>
<text x="494" y="754">─</text>
<text x="504" y="754">─</text>
<text x="514" y="754">─</text>
<text x="524" y="754">─</text>
<text x="534" y="754">┘</text>
<text x="584" y="754">│</text>
<text x="34" y="774">└</text>
<text x="44" y="774">─</text>
<text x="54" y="774">─</text>
<text x="64" y="774">─</text>
<text x="74" y="774">─</text>
<text x="84" y="774">─</text>
<text x="94" y="774">─</text>
<text x="104" y="774">─</text>
<text x="114" y="774">─</text>
<text x="124" y="774">─</text>
<text x="134" y="774">─</text>
<text x="144" y="774">─</text>
<text x="154" y="774">─</text>
<text x="164" y="774">─</text>
<text x="174" y="774">─</text>
<text x="184" y="774">─</text>
<text x="194" y="774">─</text>
<text x="204" y="774">─</text>
<text x="214" y="774">─</text>
<text x="224" y="774">─</text>
<text x="234" y="774">─</text>
<text x="244" y="774">─</text>
<text x="254" y="774">─</text>
<text x="264" y="774">─</text>
<text x="274" y="774">─</text>
<text x="284" y="774">─</text>
<text x="294" y="774">─</text>
<text x="304" y="774">─</text>
<text x="314" y="774">─</text>
<text x="324" y="774">─</text>
<text x="334" y="774">─</text>
<text x="344" y="774">─</text>
<text x="354" y="774">─</text>
<text x="364" y="774">─</text>
<text x="374" y="774">─</text>
<text x="384" y="774">─</text>
<text x="394" y="774">─</text>
<text x="404" y="774">─</text>
<text x="414" y="774">─</text>
<text x="424" y="774">─</text>
<text x="434" y="774">─</text>
<text x="444" y="774">─</text>
<text x="454" y="774">─</text>
<text x="464" y="774">─</text>
<text x="474" y="774">─</text>
<text x="484" y="774">─</text>
<text x="494" y="774">─</text>
<text x="504" y="774">─</text>
<text x="514" y="774">─</text>
<text x="524" y="774">─</text>
<text x="534" y="774">─</text>
<text x="544" y="774">─</text>
<text x="554" y="774">─</text>
<text x="564" y="774">─</text>
<text x="574" y="774">─</text>
<text x="584" y="774">┘</text>
<text x="34" y="814">獨</text>
<text x="54" y="814">占</text>
<text x="84" y="814">v</text>
<text x="94" y="814">s</text>
<text x="114" y="814">共</text>
<text x="134" y="814">享</text>
<text x="164" y="814">A</text>
<text x="174" y="814">P</text>
<text x="184" y="814">I</text>
<text x="204" y="814">對</text>
<text x="224" y="814">比</text>
<text x="244" y="814">：</text>
<text x="34" y="834">┌</text>
<text x="44" y="834">─</text>
<text x="54" y="834">─</text>
<text x="64" y="834">─</text>
<text x="74" y="834">─</text>
<text x="84" y="834">─</text>
<text x="94" y="834">─</text>
<text x="104" y="834">─</text>
<text x="114" y="834">─</text>
<text x="124" y="834">─</text>
<text x="134" y="834">─</text>
<text x="144" y="834">─</text>
<text x="154" y="834">─</text>
<text x="164" y="834">─</text>
<text x="174" y="834">─</text>
<text x="184" y="834">─</text>
<text x="194" y="834">─</text>
<text x="204" y="834">─</text>
<text x="214" y="834">─</text>
<text x="224" y="834">─</text>
<text x="234" y="834">─</text>
<text x="244" y="834">─</text>
<text x="254" y="834">─</text>
<text x="264" y="834">─</text>
<text x="274" y="834">─</text>
<text x="284" y="834">┬</text>
<text x="294" y="834">─</text>
<text x="304" y="834">─</text>
<text x="314" y="834">─</text>
<text x="324" y="834">─</text>
<text x="334" y="834">─</text>
<text x="344" y="834">─</text>
<text x="354" y="834">─</text>
<text x="364" y="834">─</text>
<text x="374" y="834">─</text>
<text x="384" y="834">─</text>
<text x="394" y="834">─</text>
<text x="404" y="834">─</text>
<text x="414" y="834">─</text>
<text x="424" y="834">─</text>
<text x="434" y="834">─</text>
<text x="444" y="834">─</text>
<text x="454" y="834">─</text>
<text x="464" y="834">─</text>
<text x="474" y="834">─</text>
<text x="484" y="834">─</text>
<text x="494" y="834">─</text>
<text x="504" y="834">─</text>
<text x="514" y="834">─</text>
<text x="524" y="834">─</text>
<text x="534" y="834">─</text>
<text x="544" y="834">─</text>
<text x="554" y="834">─</text>
<text x="564" y="834">─</text>
<text x="574" y="834">─</text>
<text x="584" y="834">┐</text>
<text x="34" y="854">│</text>
<text x="54" y="854">獨</text>
<text x="74" y="854">占</text>
<text x="94" y="854">（</text>
<text x="114" y="854">E</text>
<text x="124" y="854">x</text>
<text x="134" y="854">c</text>
<text x="144" y="854">l</text>
<text x="154" y="854">u</text>
<text x="164" y="854">s</text>
<text x="174" y="854">i</text>
<text x="184" y="854">v</text>
<text x="194" y="854">e</text>
<text x="204" y="854">）</text>
<text x="284" y="854">│</text>
<text x="304" y="854">共</text>
<text x="324" y="854">享</text>
<text x="344" y="854">（</text>
<text x="364" y="854">S</text>
<text x="374" y="854">h</text>
<text x="384" y="854">a</text>
<text x="394" y="854">r</text>
<text x="404" y="854">e</text>
<text x="414" y="854">d</text>
<text x="424" y="854">）</text>
<text x="584" y="854">│</text>
<text x="34" y="874">├</text>
<text x="44" y="874">─</text>
<text x="54" y="874">─</text>
<text x="64" y="874">─</text>
<text x="74" y="874">─</text>
<text x="84" y="874">─</text>
<text x="94" y="874">─</text>
<text x="104" y="874">─</text>
<text x="114" y="874">─</text>
<text x="124" y="874">─</text>
<text x="134" y="874">─</text>
<text x="144" y="874">─</text>
<text x="154" y="874">─</text>
<text x="164" y="874">─</text>
<text x="174" y="874">─</text>
<text x="184" y="874">─</text>
<text x="194" y="874">─</text>
<text x="204" y="874">─</text>
<text x="214" y="874">─</text>
<text x="224" y="874">─</text>
<text x="234" y="874">─</text>
<text x="244" y="874">─</text>
<text x="254" y="874">─</text>
<text x="264" y="874">─</text>
<text x="274" y="874">─</text>
<text x="284" y="874">┼</text>
<text x="294" y="874">─</text>
<text x="304" y="874">─</text>
<text x="314" y="874">─</text>
<text x="324" y="874">─</text>
<text x="334" y="874">─</text>
<text x="344" y="874">─</text>
<text x="354" y="874">─</text>
<text x="364" y="874">─</text>
<text x="374" y="874">─</text>
<text x="384" y="874">─</text>
<text x="394" y="874">─</text>
<text x="404" y="874">─</text>
<text x="414" y="874">─</text>
<text x="424" y="874">─</text>
<text x="434" y="874">─</text>
<text x="444" y="874">─</text>
<text x="454" y="874">─</text>
<text x="464" y="874">─</text>
<text x="474" y="874">─</text>
<text x="484" y="874">─</text>
<text x="494" y="874">─</text>
<text x="504" y="874">─</text>
<text x="514" y="874">─</text>
<text x="524" y="874">─</text>
<text x="534" y="874">─</text>
<text x="544" y="874">─</text>
<text x="554" y="874">─</text>
<text x="564" y="874">─</text>
<text x="574" y="874">─</text>
<text x="584" y="874">┤</text>
<text x="34" y="894">│</text>
<text x="54" y="894">t</text>
<text x="64" y="894">r</text>
<text x="74" y="894">y</text>
<text x="84" y="894">A</text>
<text x="94" y="894">c</text>
<text x="104" y="894">q</text>
<text x="114" y="894">u</text>
<text x="124" y="894">i</text>
<text x="134" y="894">r</text>
<text x="144" y="894">e</text>
<text x="154" y="894">(</text>
<text x="164" y="894">a</text>
<text x="174" y="894">r</text>
<text x="184" y="894">g</text>
<text x="194" y="894">)</text>
<text x="284" y="894">│</text>
<text x="304" y="894">t</text>
<text x="314" y="894">r</text>
<text x="324" y="894">y</text>
<text x="334" y="894">A</text>
<text x="344" y="894">c</text>
<text x="354" y="894">q</text>
<text x="364" y="894">u</text>
<text x="374" y="894">i</text>
<text x="384" y="894">r</text>
<text x="394" y="894">e</text>
<text x="404" y="894">S</text>
<text x="414" y="894">h</text>
<text x="424" y="894">a</text>
<text x="434" y="894">r</text>
<text x="444" y="894">e</text>
<text x="454" y="894">d</text>
<text x="464" y="894">(</text>
<text x="474" y="894">a</text>
<text x="484" y="894">r</text>
<text x="494" y="894">g</text>
<text x="504" y="894">)</text>
<text x="584" y="894">│</text>
<text x="34" y="914">│</text>
<text x="54" y="914">t</text>
<text x="64" y="914">r</text>
<text x="74" y="914">y</text>
<text x="84" y="914">R</text>
<text x="94" y="914">e</text>
<text x="104" y="914">l</text>
<text x="114" y="914">e</text>
<text x="124" y="914">a</text>
<text x="134" y="914">s</text>
<text x="144" y="914">e</text>
<text x="154" y="914">(</text>
<text x="164" y="914">a</text>
<text x="174" y="914">r</text>
<text x="184" y="914">g</text>
<text x="194" y="914">)</text>
<text x="284" y="914">│</text>
<text x="304" y="914">t</text>
<text x="314" y="914">r</text>
<text x="324" y="914">y</text>
<text x="334" y="914">R</text>
<text x="344" y="914">e</text>
<text x="354" y="914">l</text>
<text x="364" y="914">e</text>
<text x="374" y="914">a</text>
<text x="384" y="914">s</text>
<text x="394" y="914">e</text>
<text x="404" y="914">S</text>
<text x="414" y="914">h</text>
<text x="424" y="914">a</text>
<text x="434" y="914">r</text>
<text x="444" y="914">e</text>
<text x="454" y="914">d</text>
<text x="464" y="914">(</text>
<text x="474" y="914">a</text>
<text x="484" y="914">r</text>
<text x="494" y="914">g</text>
<text x="504" y="914">)</text>
<text x="584" y="914">│</text>
<text x="34" y="934">│</text>
<text x="54" y="934">a</text>
<text x="64" y="934">c</text>
<text x="74" y="934">q</text>
<text x="84" y="934">u</text>
<text x="94" y="934">i</text>
<text x="104" y="934">r</text>
<text x="114" y="934">e</text>
<text x="124" y="934">(</text>
<text x="134" y="934">a</text>
<text x="144" y="934">r</text>
<text x="154" y="934">g</text>
<text x="164" y="934">)</text>
<text x="284" y="934">│</text>
<text x="304" y="934">a</text>
<text x="314" y="934">c</text>
<text x="324" y="934">q</text>
<text x="334" y="934">u</text>
<text x="344" y="934">i</text>
<text x="354" y="934">r</text>
<text x="364" y="934">e</text>
<text x="374" y="934">S</text>
<text x="384" y="934">h</text>
<text x="394" y="934">a</text>
<text x="404" y="934">r</text>
<text x="414" y="934">e</text>
<text x="424" y="934">d</text>
<text x="434" y="934">(</text>
<text x="444" y="934">a</text>
<text x="454" y="934">r</text>
<text x="464" y="934">g</text>
<text x="474" y="934">)</text>
<text x="584" y="934">│</text>
<text x="34" y="954">│</text>
<text x="54" y="954">r</text>
<text x="64" y="954">e</text>
<text x="74" y="954">l</text>
<text x="84" y="954">e</text>
<text x="94" y="954">a</text>
<text x="104" y="954">s</text>
<text x="114" y="954">e</text>
<text x="124" y="954">(</text>
<text x="134" y="954">a</text>
<text x="144" y="954">r</text>
<text x="154" y="954">g</text>
<text x="164" y="954">)</text>
<text x="284" y="954">│</text>
<text x="304" y="954">r</text>
<text x="314" y="954">e</text>
<text x="324" y="954">l</text>
<text x="334" y="954">e</text>
<text x="344" y="954">a</text>
<text x="354" y="954">s</text>
<text x="364" y="954">e</text>
<text x="374" y="954">S</text>
<text x="384" y="954">h</text>
<text x="394" y="954">a</text>
<text x="404" y="954">r</text>
<text x="414" y="954">e</text>
<text x="424" y="954">d</text>
<text x="434" y="954">(</text>
<text x="444" y="954">a</text>
<text x="454" y="954">r</text>
<text x="464" y="954">g</text>
<text x="474" y="954">)</text>
<text x="584" y="954">│</text>
<text x="34" y="974">│</text>
<text x="54" y="974">R</text>
<text x="64" y="974">e</text>
<text x="74" y="974">e</text>
<text x="84" y="974">n</text>
<text x="94" y="974">t</text>
<text x="104" y="974">r</text>
<text x="114" y="974">a</text>
<text x="124" y="974">n</text>
<text x="134" y="974">t</text>
<text x="144" y="974">L</text>
<text x="154" y="974">o</text>
<text x="164" y="974">c</text>
<text x="174" y="974">k</text>
<text x="284" y="974">│</text>
<text x="304" y="974">S</text>
<text x="314" y="974">e</text>
<text x="324" y="974">m</text>
<text x="334" y="974">a</text>
<text x="344" y="974">p</text>
<text x="354" y="974">h</text>
<text x="364" y="974">o</text>
<text x="374" y="974">r</text>
<text x="384" y="974">e</text>
<text x="394" y="974">,</text>
<text x="414" y="974">R</text>
<text x="424" y="974">e</text>
<text x="434" y="974">a</text>
<text x="444" y="974">d</text>
<text x="454" y="974">L</text>
<text x="464" y="974">o</text>
<text x="474" y="974">c</text>
<text x="484" y="974">k</text>
<text x="584" y="974">│</text>
<text x="34" y="994">└</text>
<text x="44" y="994">─</text>
<text x="54" y="994">─</text>
<text x="64" y="994">─</text>
<text x="74" y="994">─</text>
<text x="84" y="994">─</text>
<text x="94" y="994">─</text>
<text x="104" y="994">─</text>
<text x="114" y="994">─</text>
<text x="124" y="994">─</text>
<text x="134" y="994">─</text>
<text x="144" y="994">─</text>
<text x="154" y="994">─</text>
<text x="164" y="994">─</text>
<text x="174" y="994">─</text>
<text x="184" y="994">─</text>
<text x="194" y="994">─</text>
<text x="204" y="994">─</text>
<text x="214" y="994">─</text>
<text x="224" y="994">─</text>
<text x="234" y="994">─</text>
<text x="244" y="994">─</text>
<text x="254" y="994">─</text>
<text x="264" y="994">─</text>
<text x="274" y="994">─</text>
<text x="284" y="994">┴</text>
<text x="294" y="994">─</text>
<text x="304" y="994">─</text>
<text x="314" y="994">─</text>
<text x="324" y="994">─</text>
<text x="334" y="994">─</text>
<text x="344" y="994">─</text>
<text x="354" y="994">─</text>
<text x="364" y="994">─</text>
<text x="374" y="994">─</text>
<text x="384" y="994">─</text>
<text x="394" y="994">─</text>
<text x="404" y="994">─</text>
<text x="414" y="994">─</text>
<text x="424" y="994">─</text>
<text x="434" y="994">─</text>
<text x="444" y="994">─</text>
<text x="454" y="994">─</text>
<text x="464" y="994">─</text>
<text x="474" y="994">─</text>
<text x="484" y="994">─</text>
<text x="494" y="994">─</text>
<text x="504" y="994">─</text>
<text x="514" y="994">─</text>
<text x="524" y="994">─</text>
<text x="534" y="994">─</text>
<text x="544" y="994">─</text>
<text x="554" y="994">─</text>
<text x="564" y="994">─</text>
<text x="574" y="994">─</text>
<text x="584" y="994">┘</text>
</g>
</svg>
</div>
<ul>
<li>獨占：一次一個（ReentrantLock）</li>
<li>共享：可多個（Semaphore/Read lock）</li>
</ul>
<pre><code class="language-text">state=0 -&gt; acquire 成功 -&gt; state=1
        -&gt; 失敗 -&gt; 入隊等待
</code></pre>
<p>白話例子：一個收銀櫃台（獨占） vs 多個自助結帳機（共享）。</p>
<h2 id="示意圖"><a class="header" href="#示意圖">示意圖</a></h2>
<pre><code class="language-text">state=1 (held)
wait queue: N1 -&gt; N2 -&gt; N3
release -&gt; unpark N1 -&gt; state 轉移
</code></pre>
<h2 id="跨語言完整範例"><a class="header" href="#跨語言完整範例">跨語言完整範例</a></h2>
<p>主題：Semaphore 限制最多 N 個並發任務（5 個任務，最多 2 個同時運行）</p>
<h3 id="cposix-sem_t"><a class="header" href="#cposix-sem_t">C（POSIX sem_t）</a></h3>
<pre><code class="language-c">// 編譯：gcc -std=c11 -pthread -o ch08_c ch08.c
#include &lt;semaphore.h&gt;
#include &lt;pthread.h&gt;
#include &lt;stdio.h&gt;
#include &lt;unistd.h&gt;

#define MAX_CONCURRENT 2
#define TASK_COUNT 5

static sem_t sem;

void *task(void *arg) {
    int id = *(int *)arg;
    sem_wait(&amp;sem);                      // acquire（P 操作）
    printf("task %d: running\n", id);
    usleep(50000);                       // 模擬工作 50ms
    printf("task %d: done\n", id);
    sem_post(&amp;sem);                      // release（V 操作）
    return NULL;
}

int main(void) {
    sem_init(&amp;sem, 0, MAX_CONCURRENT);  // 最多 2 個並發
    pthread_t threads[TASK_COUNT];
    int ids[TASK_COUNT];
    for (int i = 0; i &lt; TASK_COUNT; i++) {
        ids[i] = i;
        pthread_create(&amp;threads[i], NULL, task, &amp;ids[i]);
    }
    for (int i = 0; i &lt; TASK_COUNT; i++)
        pthread_join(threads[i], NULL);
    sem_destroy(&amp;sem);
    return 0;
}
</code></pre>
<h3 id="cstdcounting_semaphorec20"><a class="header" href="#cstdcounting_semaphorec20">C++（std::counting_semaphore，C++20）</a></h3>
<pre><code class="language-cpp">// 編譯：g++ -std=c++20 -pthread -o ch08_cpp ch08.cpp
#include &lt;semaphore&gt;
#include &lt;thread&gt;
#include &lt;chrono&gt;
#include &lt;iostream&gt;
#include &lt;vector&gt;

constexpr int MAX_CONCURRENT = 2;
constexpr int TASK_COUNT = 5;

static std::counting_semaphore&lt;MAX_CONCURRENT&gt; sem(MAX_CONCURRENT);

void task(int id) {
    sem.acquire();                       // 獲取名額
    std::cout &lt;&lt; "task " &lt;&lt; id &lt;&lt; ": running\n";
    std::this_thread::sleep_for(std::chrono::milliseconds(50));
    std::cout &lt;&lt; "task " &lt;&lt; id &lt;&lt; ": done\n";
    sem.release();                       // 釋放名額
}

int main() {
    std::vector&lt;std::thread&gt; threads;
    for (int i = 0; i &lt; TASK_COUNT; i++)
        threads.emplace_back(task, i);
    for (auto &amp;t : threads) t.join();
}
</code></pre>
<h3 id="rustsemaphore-via-arcmutex"><a class="header" href="#rustsemaphore-via-arcmutex">Rust（Semaphore via Arc&lt;Mutex<i32>&gt;）</a></h3>
<pre><pre class="playground"><code class="language-rust">// 執行：cargo run 或 rustc ch08.rs &amp;&amp; ./ch08
use std::sync::{Arc, Condvar, Mutex};
use std::thread;
use std::time::Duration;

const MAX_CONCURRENT: i32 = 2;
const TASK_COUNT: usize = 5;

fn main() {
    // 用 Mutex&lt;i32&gt; + Condvar 模擬 Semaphore
    let pair = Arc::new((Mutex::new(MAX_CONCURRENT), Condvar::new()));
    let mut handles = Vec::new();

    for id in 0..TASK_COUNT {
        let pair = Arc::clone(&amp;pair);
        handles.push(thread::spawn(move || {
            let (lock, cvar) = &amp;*pair;
            // acquire
            let mut count = lock.lock().unwrap();
            while *count == 0 {
                count = cvar.wait(count).unwrap();
            }
            *count -= 1;
            drop(count);

            println!("task {}: running", id);
            thread::sleep(Duration::from_millis(50));
            println!("task {}: done", id);

            // release
            *lock.lock().unwrap() += 1;
            cvar.notify_one();
        }));
    }
    for h in handles { h.join().unwrap(); }
}</code></pre></pre>
<h3 id="gochannel-作為-semaphore"><a class="header" href="#gochannel-作為-semaphore">Go（channel 作為 Semaphore）</a></h3>
<pre><code class="language-go">// 執行：go run ch08.go
package main

import (
	"fmt"
	"sync"
	"time"
)

const (
	maxConcurrent = 2
	taskCount     = 5
)

func main() {
	sem := make(chan struct{}, maxConcurrent) // 緩衝 channel 作 Semaphore
	var wg sync.WaitGroup

	for i := 0; i &lt; taskCount; i++ {
		wg.Add(1)
		go func(id int) {
			defer wg.Done()
			sem &lt;- struct{}{}              // acquire（放入代表佔用名額）
			fmt.Printf("task %d: running\n", id)
			time.Sleep(50 * time.Millisecond)
			fmt.Printf("task %d: done\n", id)
			&lt;-sem                          // release（取出代表釋放名額）
		}(i)
	}
	wg.Wait()
}
</code></pre>
<h3 id="pythonthreadingsemaphore"><a class="header" href="#pythonthreadingsemaphore">Python（threading.Semaphore）</a></h3>
<pre><code class="language-python"># 執行：python3 ch08.py
import threading
import time

MAX_CONCURRENT = 2
TASK_COUNT = 5

sem = threading.Semaphore(MAX_CONCURRENT)

def task(task_id):
    with sem:                            # acquire / release 自動管理
        print(f"task {task_id}: running")
        time.sleep(0.05)
        print(f"task {task_id}: done")

if __name__ == "__main__":
    ts = [threading.Thread(target=task, args=(i,)) for i in range(TASK_COUNT)]
    for t in ts: t.start()
    for t in ts: t.join()
</code></pre>
<h2 id="完整專案級範例python"><a class="header" href="#完整專案級範例python">完整專案級範例（Python）</a></h2>
<p>檔案：<code>examples/python/ch08.py</code></p>
<pre><code class="language-bash">python3 examples/python/ch08.py
</code></pre>
<pre><code class="language-python">"""Chapter 08: queue synchronizer flavor via semaphore."""
import threading
import time

sem = threading.Semaphore(2)


def task(i: int):
    with sem:
        print(f"task {i} enter")
        time.sleep(0.05)
        print(f"task {i} leave")


if __name__ == "__main__":
    ts = [threading.Thread(target=task, args=(i,)) for i in range(5)]
    for t in ts: t.start()
    for t in ts: t.join()
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="ch07-synchronized-jvm-lock.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="ch09-lock-family.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="ch07-synchronized-jvm-lock.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="ch09-lock-family.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
